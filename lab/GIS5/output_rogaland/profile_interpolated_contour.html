<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
        <head>
            <meta content=\"text/html; charset=UTF-8\" http-equiv=\"content-type\">
            <title>Profile</title><style type="text/css">
            h1 {
                font-size: 14pt;
                margin-left: 15px;
                margin-right: 15px;
                text-align: center;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
            }
            h2 {
                font-size: 12pt;
                margin-left: 15px;
                margin-right: 15px;
                text-align: center;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
            }
            p, ol, ul {
                font-size: 12pt;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                margin-left: 15px;
                margin-right: 15px;
            }
            caption {
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                font-size: 12pt;
                margin-left: 15px;
                margin-right: 15px;
            }
            table {
                font-size: 12pt;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                font-family: arial, sans-serif;
                border-collapse: collapse;
                align: center;
            }
            td, th {
                border: 1px solid #222222;
                text-align: centre;
                padding: 8px;
            }
            tr:nth-child(even) {
                background-color: #dddddd;
            }
            tr:hover {
                background-color: lightyellow;
            }
            .bareTd {
                border: 0px solid #222222;
                text-align: centre;
                padding: 8px;
            }
            .bareTr:nth-child(even) {
                background-color: white;
            }
            .bareTr:hover {
                background-color: white;
            }
            .numberCell {
                text-align: right;
            }
            .header {
                font-weight: bold;
                text-align: center;
            }
        </style></head>
        <body>
            <h1>Profile</h1><p><strong>Input Surface</strong>: dem_interpolated_contour<br></p><div id='graph' align="center">
    <script>
      var plot = {
        dataX: [[1898.6113738770653, 1948.5748310843564, 1998.5382882916476, 2048.501745498939, 2098.4652027062302, 2148.4286599135216, 2198.392117120813, 2248.3555743281045, 2298.319031535396, 2348.2824887426873, 2398.2459459499787, 2448.20940315727, 2498.1728603645615, 2548.136317571853, 2598.0997747791444, 2648.0632319864358, 2698.026689193727, 2747.9901464010186, 2797.95360360831, 2847.9170608156014, 2897.880518022893, 2947.8439752301842, 2997.8074324374757, 3047.770889644767, 3097.7343468520585, 3147.69780405935, 3197.6612612666413, 3247.6247184739327, 3297.588175681224, 3347.5516328885155, 3397.515090095807, 3447.4785473030984, 3497.44200451039, 3547.405461717681, 3597.3689189249726, 3647.332376132264, 3697.2958333395554, 3747.259290546847, 3797.2227477541383, 3847.1862049614297, 3897.149662168721, 3947.1131193760125, 3997.076576583304, 4047.0400337905953, 4097.003490997887, 4146.966948205178, 4196.930405412469, 4246.89386261976, 4296.857319827051, 4346.8207770343415, 4396.7842342416325, 4446.747691448923, 4496.711148656214, 4546.674605863505, 4596.638063070796, 4646.601520278087, 4696.564977485378, 4746.528434692669, 4796.49189189996, 4846.455349107251, 4896.418806314542, 4946.382263521833, 4996.345720729124, 5046.309177936415, 5096.272635143706, 5146.236092350997, 5196.199549558288, 5246.163006765579, 5296.12646397287, 5346.089921180161, 5396.053378387452, 5446.016835594743, 5495.980292802034, 5545.9437500093245, 5595.9072072166155, 5645.870664423906, 5695.834121631197, 5745.797578838488, 5795.761036045779, 5845.72449325307, 5895.687950460361, 5945.651407667652, 5995.614864874943, 6045.578322082234, 6095.541779289525, 6145.505236496816, 6195.468693704107, 6245.432150911398, 6295.395608118689, 6345.35906532598, 6395.322522533271, 6445.285979740562, 6495.249436947853, 6545.212894155144, 6595.176351362435, 6645.139808569726, 6695.1032657770165, 6745.0667229843075, 6795.030180191598, 6844.993637398889, 6894.95709460618, 6944.920551813471, 6994.884009020762, 7044.847466228053, 7094.810923435344, 7144.774380642635, 7194.737837849926, 7244.701295057217, 7294.664752264508, 7344.628209471799, 7394.59166667909, 7444.555123886381, 7494.518581093672, 7544.482038300963, 7594.445495508254, 7644.408952715545, 7694.372409922836, 7744.335867130127, 7794.299324337418, 7844.262781544709, 7894.2262387519995, 7944.1896959592905, 7994.153153166581, 8044.116610373872, 8094.080067581163, 8144.043524788454, 8194.006981995746, 8243.970439203038, 8293.93389641033, 8343.897353617622, 8393.860810824914, 8443.824268032206, 8493.787725239497, 8543.75118244679, 8593.714639654081, 8643.678096861373, 8693.641554068665, 8743.605011275957, 8793.568468483249, 8843.53192569054, 8893.495382897832, 8943.458840105124, 8993.422297312416, 9043.385754519708, 9093.349211727, 9143.312668934292, 9193.276126141584, 9243.239583348875, 9293.203040556167, 9343.16649776346, 9393.129954970751, 9443.093412178043, 9493.056869385335, 9543.020326592627, 9592.983783799918, 9642.94724100721, 9692.910698214502, 9742.874155421794, 9792.837612629086, 9842.801069836378, 9892.76452704367, 9942.727984250962, 9992.691441458253, 10042.654898665545, 10092.618355872837, 10142.581813080129, 10192.54527028742, 10242.508727494713, 10292.472184702005, 10342.435641909296, 10392.399099116588, 10442.36255632388, 10492.326013531172, 10542.289470738464, 10592.252927945756, 10642.216385153048, 10692.17984236034, 10742.143299567631, 10792.106756774923, 10842.070213982215, 10892.033671189507, 10941.997128396799, 10991.96058560409, 11041.924042811383, 11091.887500018674, 11141.850957225966, 11191.814414433258, 11241.77787164055, 11291.741328847842, 11341.704786055134, 11391.668243262426, 11441.631700469718, 11491.59515767701, 11541.558614884301, 11591.522072091593, 11641.485529298885, 11691.448986506177, 11741.412443713469, 11791.37590092076, 11841.339358128052, 11891.302815335344, 11941.266272542636, 11991.229729749928, 12041.19318695722, 12091.156644164512, 12141.120101371804, 12191.083558579096, 12241.047015786387, 12291.01047299368, 12340.973930200971, 12390.937387408263, 12440.900844615555, 12490.864301822847, 12540.827759030139, 12590.79121623743, 12640.754673444722, 12690.718130652014, 12740.681587859306, 12790.645045066598, 12840.60850227389, 12890.571959481182, 12940.535416688474, 12990.498873895765, 13040.462331103057, 13090.42578831035, 13140.389245517641, 13190.352702724933, 13240.316159932225, 13290.279617139517, 13340.243074346808, 13390.2065315541, 13440.169988761392, 13490.133445968684, 13540.096903175976, 13590.060360383268, 13640.02381759056, 13689.987274797852, 13739.950732005143, 13789.914189212435, 13839.877646419727, 13889.841103627019, 13939.80456083431, 13989.768018041603, 14039.731475248895, 14089.694932456187, 14139.658389663478, 14189.62184687077, 14239.585304078062, 14289.548761285354, 14339.512218492646, 14389.475675699938, 14439.43913290723, 14489.402590114521, 14539.366047321813, 14589.329504529105, 14639.292961736397, 14689.256418943689, 14739.21987615098, 14789.183333358273, 14839.146790565565, 14889.110247772856, 14939.073704980148, 14989.03716218744, 15039.000619394732, 15088.964076602024, 15138.927533809316, 15188.890991016608, 15238.8544482239, 15288.817905431191, 15338.781362638483, 15388.744819845775, 15438.708277053067, 15488.671734260359, 15538.63519146765, 15588.598648674943, 15638.562105882234, 15688.525563089526, 15738.489020296818, 15788.45247750411, 15838.415934711402, 15888.379391918694, 15938.342849125986, 15988.306306333277, 16038.26976354057, 16088.233220747861, 16138.196677955153, 16188.160135162445, 16238.123592369737, 16288.087049577029, 16338.05050678432, 16388.013963991612, 16437.977421198902, 16487.940878406192, 16537.904335613483, 16587.867792820773, 16637.831250028063, 16687.794707235353, 16737.758164442643, 16787.721621649933, 16837.685078857223, 16887.648536064513, 16937.611993271803, 16987.575450479093, 17037.538907686383, 17087.502364893673, 17137.465822100963, 17187.429279308253, 17237.392736515543, 17287.356193722833, 17337.319650930123, 17387.283108137413, 17437.246565344703, 17487.210022551993, 17537.173479759284, 17587.136936966574, 17637.100394173864, 17687.063851381154, 17737.027308588444, 17786.990765795734, 17836.954223003024, 17886.917680210314, 17936.881137417604, 17986.844594624894, 18036.808051832184, 18086.771509039474, 18136.734966246764, 18186.698423454054, 18236.661880661344, 18286.625337868634, 18336.588795075924, 18386.552252283214, 18436.515709490504, 18486.479166697794, 18536.442623905084, 18586.406081112375, 18636.369538319665, 18686.332995526955, 18736.296452734245, 18786.259909941535, 18836.223367148825, 18886.186824356115, 18936.150281563405, 18986.113738770695, 19036.077195977985, 19086.040653185275, 19136.004110392565, 19185.967567599855, 19235.931024807145, 19285.894482014435, 19335.857939221725, 19385.821396429015, 19435.784853636305, 19485.748310843595, 19535.711768050885, 19585.675225258175, 19635.638682465466, 19685.602139672756, 19735.565596880046, 19785.529054087336, 19835.492511294626, 19885.455968501916, 19935.419425709206, 19985.382882916496, 20035.346340123786, 20085.309797331076, 20135.273254538366, 20185.236711745656, 20235.200168952946, 20285.163626160236, 20335.127083367526, 20385.090540574816, 20435.053997782106, 20485.017454989396, 20534.980912196686, 20584.944369403976, 20634.907826611267, 20684.871283818557, 20734.834741025847, 20784.798198233137, 20834.761655440427, 20884.725112647717, 20934.688569855007, 20984.652027062297, 21034.615484269587, 21084.578941476877, 21134.542398684167, 21184.505855891457, 21234.469313098747, 21284.432770306037, 21334.396227513327, 21384.359684720617, 21434.323141927907, 21484.286599135197, 21534.250056342487, 21584.213513549777, 21634.176970757067, 21684.140427964358, 21734.103885171648, 21784.067342378938, 21834.030799586228, 21883.994256793518, 21933.957714000808, 21983.921171208098, 22033.884628415388, 22083.848085622678, 22133.811542829968, 22183.775000037258, 22233.738457244548, 22283.701914451838, 22333.665371659128, 22383.62882886642, 22433.59228607371, 22483.555743281, 22533.51920048829, 22583.48265769558, 22633.44611490287, 22683.40957211016, 22733.37302931745, 22783.33648652474, 22833.29994373203, 22883.26340093932, 22933.22685814661, 22983.1903153539, 23033.15377256119, 23083.11722976848, 23133.08068697577, 23183.04414418306, 23233.00760139035, 23282.97105859764, 23332.93451580493, 23382.89797301222, 23432.86143021951, 23482.8248874268, 23532.78834463409, 23582.75180184138, 23632.71525904867, 23682.67871625596, 23732.64217346325, 23782.60563067054, 23832.56908787783, 23882.53254508512, 23932.49600229241, 23982.4594594997, 24032.42291670699, 24082.38637391428, 24132.34983112157, 24182.31328832886, 24232.27674553615, 24282.24020274344, 24332.20365995073, 24382.16711715802, 24432.13057436531, 24482.0940315726, 24532.05748877989, 24582.02094598718, 24631.98440319447, 24681.94786040176, 24731.91131760905, 24781.87477481634, 24831.83823202363, 24881.80168923092, 24931.76514643821, 24981.7286036455, 25031.69206085279, 25081.65551806008, 25131.61897526737, 25181.58243247466, 25231.54588968195, 25281.50934688924, 25331.47280409653, 25381.43626130382, 25431.39971851111, 25481.3631757184, 25531.32663292569, 25581.29009013298, 25631.25354734027, 25681.21700454756, 25731.18046175485, 25781.14391896214, 25831.10737616943, 25881.07083337672, 25931.03429058401, 25980.9977477913, 26030.96120499859, 26080.92466220588, 26130.88811941317, 26180.851576620462, 26230.815033827752, 26280.778491035042, 26330.741948242332, 26380.705405449622, 26430.668862656912, 26480.632319864202, 26530.595777071492, 26580.559234278782, 26630.522691486072, 26680.486148693362, 26730.449605900652, 26780.413063107942, 26830.376520315232, 26880.339977522523, 26930.303434729813, 26980.266891937103, 27030.230349144393, 27080.193806351683, 27130.157263558973, 27180.120720766263, 27230.084177973553, 27280.047635180843, 27330.011092388133, 27379.974549595423, 27429.938006802713, 27479.901464010003, 27529.864921217293, 27579.828378424583, 27629.791835631873, 27679.755292839163, 27729.718750046453, 27779.682207253743, 27829.645664461033, 27879.609121668323, 27929.572578875614, 27979.536036082904, 28029.499493290194, 28079.462950497484, 28129.426407704774, 28179.389864912064, 28229.353322119354, 28279.316779326644, 28329.280236533934, 28379.243693741224, 28429.207150948514, 28479.170608155804, 28529.134065363094, 28579.097522570384, 28629.060979777674, 28679.024436984964, 28728.987894192254, 28778.951351399544, 28828.914808606834, 28878.878265814124, 28928.841723021415, 28978.805180228705, 29028.768637435995, 29078.732094643285, 29128.695551850575, 29178.659009057865, 29228.622466265155, 29278.585923472445, 29328.549380679735, 29378.512837887025, 29428.476295094315, 29478.439752301605, 29528.403209508895, 29578.366666716185, 29628.330123923475, 29678.293581130765, 29728.257038338055, 29778.220495545345, 29828.183952752635, 29878.147409959925, 29928.110867167215, 29978.074324374506, 30028.037781581796, 30078.001238789086, 30127.964695996376, 30177.928153203666, 30227.891610410956, 30277.855067618246, 30327.818524825536, 30377.781982032826, 30427.745439240116, 30477.708896447406, 30527.672353654696, 30577.635810861986, 30627.599268069276, 30677.562725276566, 30727.526182483856, 30777.489639691146, 30827.453096898436, 30877.416554105726, 30927.380011313016, 30977.343468520306, 31027.306925727597, 31077.270382934887, 31127.233840142177, 31177.197297349467, 31227.160754556757, 31277.124211764047, 31327.087668971337, 31377.051126178627, 31427.014583385917, 31476.978040593207, 31526.941497800497, 31576.904955007787, 31626.868412215077, 31676.831869422367, 31726.795326629657, 31776.758783836947, 31826.722241044237, 31876.685698251527, 31926.649155458817, 31976.612612666107, 32026.576069873398, 32076.539527080688, 32126.502984287978, 32176.466441495268, 32226.429898702558, 32276.393355909848, 32326.356813117138, 32376.320270324428, 32426.283727531718, 32476.247184739008, 32526.210641946298, 32576.174099153588, 32626.137556360878, 32676.101013568168, 32726.064470775458, 32776.02792798275, 32825.99138519004, 32875.95484239733, 32925.91829960462, 32975.88175681191, 33025.8452140192, 33075.80867122649, 33125.77212843378, 33175.73558564107, 33225.69904284836, 33275.66250005565, 33325.62595726294, 33375.58941447023, 33425.55287167752, 33475.51632888481, 33525.4797860921, 33575.44324329939, 33625.40670050668, 33675.37015771397, 33725.33361492126, 33775.29707212855, 33825.26052933584, 33875.22398654313, 33925.18744375042, 33975.15090095771, 34025.114358165, 34075.07781537229, 34125.04127257958, 34175.00472978687, 34224.96818699416, 34274.93164420145, 34324.89510140874, 34374.85855861603, 34424.82201582332, 34474.78547303061, 34524.7489302379, 34574.71238744519, 34624.675844652484, 34674.639301859774, 34724.602759067064, 34774.566216274354, 34824.529673481644, 34874.493130688934, 34924.456587896224, 34974.420045103514, 35024.383502310804, 35074.346959518094, 35124.310416725384, 35174.273873932674, 35224.237331139964, 35274.200788347254, 35324.164245554544, 35374.127702761834, 35424.091159969124, 35474.054617176414, 35524.018074383705, 35573.981531590995, 35623.944988798285, 35673.908446005575, 35723.871903212865, 35773.835360420155, 35823.798817627445, 35873.762274834735, 35923.725732042025, 35973.689189249315, 36023.652646456605, 36073.616103663895, 36123.579560871185, 36173.543018078475, 36223.506475285765, 36273.469932493055, 36323.433389700345, 36373.396846907635, 36423.360304114925, 36473.323761322215, 36523.287218529505, 36573.250675736796, 36623.214132944086, 36673.177590151376, 36723.141047358666, 36773.104504565956, 36823.067961773246, 36873.031418980536, 36922.994876187826, 36972.958333395116, 37022.921790602406, 37072.885247809696, 37122.848705016986, 37172.812162224276, 37222.775619431566, 37272.739076638856, 37322.702533846146, 37372.665991053436, 37422.629448260726, 37472.59290546802, 37522.55636267531, 37572.5198198826, 37622.48327708989, 37672.44673429718, 37722.41019150447, 37772.37364871176, 37822.33710591905, 37872.30056312634, 37922.26402033363, 37972.22747754092, 38022.19093474821, 38072.1543919555, 38122.11784916279, 38172.08130637008, 38222.04476357737, 38272.00822078466, 38321.97167799195, 38371.93513519924, 38421.89859240653, 38471.86204961382, 38521.82550682111, 38571.7889640284, 38621.75242123569, 38671.71587844298, 38721.67933565027, 38771.64279285756, 38821.60625006485, 38871.56970727214, 38921.53316447943, 38971.49662168672, 39021.46007889401, 39071.4235361013, 39121.38699330859, 39171.35045051588, 39221.31390772317, 39271.27736493046, 39321.24082213775, 39371.20427934504, 39421.16773655233, 39471.13119375962, 39521.09465096691, 39571.0581081742, 39621.02156538149, 39670.98502258878, 39720.94847979607, 39770.91193700336, 39820.87539421065, 39870.83885141794, 39920.80230862523, 39970.76576583252, 40020.72922303981, 40070.6926802471, 40120.65613745439, 40170.61959466168, 40220.58305186897, 40270.54650907626, 40320.50996628355, 40370.47342349084, 40420.43688069813, 40470.40033790542, 40520.36379511271, 40570.32725232, 40620.29070952729, 40670.25416673458, 40720.21762394187, 40770.18108114916, 40820.14453835645, 40870.10799556374, 40920.07145277103, 40970.03490997832, 41019.99836718561, 41069.9618243929, 41119.92528160019, 41169.88873880748, 41219.85219601477, 41269.81565322206, 41319.77911042935, 41369.74256763664, 41419.70602484393, 41469.66948205122, 41519.63293925851, 41569.5963964658, 41619.55985367309, 41669.52331088038, 41719.48676808767, 41769.45022529496, 41819.41368250225, 41869.37713970954, 41919.34059691683, 41969.30405412412, 42019.26751133141, 42069.2309685387, 42119.19442574599, 42169.15788295328, 42219.12134016057, 42269.08479736786, 42319.04825457515, 42369.01171178244, 42418.97516898973, 42468.93862619702, 42518.90208340431, 42568.8655406116, 42618.82899781889, 42668.79245502618, 42718.75591223347, 42768.71936944076, 42818.68282664805, 42868.64628385534, 42918.60974106263, 42968.57319826992, 43018.53665547721, 43068.5001126845, 43118.46356989179, 43168.42702709908, 43218.39048430637, 43268.35394151366, 43318.31739872095, 43368.28085592824, 43418.24431313553]],
        dataY: [[292.1086730957031, 289.84051513671875, 287.64373779296875, 285.382568359375, 283.19061279296875, 282.4171447753906, 280.98797607421875, 280.0, 280.0, 280.0, 280.0, 280.0, 280.0, 280.0, 280.0, 280.0, 280.0, 280.0, 280.0, 285.0, 285.24591064453125, 301.4285583496094, 301.4285583496094, 339.23077392578125, 349.23077392578125, 370.0, 386.5853576660156, 386.5853576660156, 382.1829528808594, 379.35064697265625, 365.0, 341.4285583496094, 330.0, 324.4444580078125, 315.24591064453125, 312.7272644042969, 305.0, 290.0, 290.0, 270.76922607421875, 257.6922912597656, 242.85714721679688, 239.25, 239.25, 239.54515075683594, 240.0, 240.0, 246.44192504882813, 250.8013153076172, 256.02069091796875, 269.0909118652344, 266.0, 282.3077087402344, 289.23077392578125, 330.0, 335.0, 361.5384826660156, 385.0, 400.0, 440.0, 440.0, 460.0, 459.70587158203125, 452.920166015625, 447.0711669921875, 447.0711669921875, 442.1452941894531, 440.0, 440.0, 448.4615478515625, 448.4615478515625, 485.0, 475.0, 480.0, 460.0, 460.9359130859375, 472.30767822265625, 462.8571472167969, 475.0, 476.9230651855469, 480.0, 485.0, 485.5677795410156, 491.5569763183594, 495.3664855957031, 498.6383056640625, 510.0, 508.74127197265625, 512.758056640625, 516.8571166992188, 521.4285888671875, 528.5714111328125, 535.5555419921875, 538.5714111328125, 549.137939453125, 553.8095092773438, 556.8292846679688, 560.4615478515625, 568.4444580078125, 577.9697265625, 578.5501098632813, 576.3328247070313, 570.4533081054688, 570.4533081054688, 564.4365234375, 561.2039794921875, 560.0, 559.9638671875, 559.9638671875, 560.0, 560.0, 558.4615478515625, 551.5384521484375, 530.0, 525.0, 515.757568359375, 504.75408935546875, 491.5384521484375, 475.24591064453125, 475.24591064453125, 465.24591064453125, 470.0, 470.0, 520.0, 520.0, 565.0, 535.0, 521.4285888671875, 526.88525390625, 531.025634765625, 523.5714111328125, 523.0467529296875, 537.2437133789063, 556.923095703125, 558.888916015625, 548.4615478515625, 541.0526123046875, 540.0, 541.4285888671875, 544.4827880859375, 541.4285888671875, 541.4285888671875, 550.0, 550.0, 550.0, 530.0, 530.0, 510.0, 491.5384521484375, 470.0, 435.0, 435.0, 390.0, 350.0, 270.0, 210.0, 185.0, 185.0, 160.0, 120.0, 90.0, 69.23077392578125, 69.23077392578125, 50.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 59.999996185302734, 89.99999237060547, 136.92308044433594, 123.0769271850586, 136.92308044433594, 105.0, 71.53845977783203, 71.53845977783203, 65.0, 61.53845977783203, 39.999996185302734, 20.67247200012207, 20.323396682739258, 20.284299850463867, 20.14434242248535, 20.14434242248535, 20.064697265625, 20.046764373779297, 20.009824752807617, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 21.66666603088379, 20.0, 40.000003814697266, 80.0, 105.0, 145.0, 120.00000762939453, 170.0, 220.0, 235.0, 285.0, 265.0, 310.0, 315.0, 360.0, 370.0, 355.0, 355.0, 340.0, 355.0, 390.0, 420.0, 420.0, 420.0, 420.0, 400.0, 400.0, 425.0, 445.0, 435.0, 450.0, 440.0, 440.0, 440.0, 445.0, 438.4615478515625, 431.5384521484375, 430.0, 430.0, 409.9999694824219, 400.0, 370.0, 355.0, 321.4285888671875, 345.0, 330.0, 350.0, 359.4957580566406, 359.15325927734375, 359.971923828125, 359.9737548828125, 360.0, 360.0, 360.0, 360.0, 360.0, 360.0, 360.0, 360.0, 360.6896667480469, 360.6896667480469, 370.0, 390.0, 400.0, 425.0, 410.0, 425.0, 450.0, 470.0, 475.0, 480.0, 495.0, 490.0, 455.0, 455.0, 490.0, 490.0, 485.0, 470.0, 445.0, 420.0, 420.0, 392.3077087402344, 389.23077392578125, 400.0, 410.0, 400.0, 410.0, 391.4285583496094, 392.87060546875, 386.6289367675781, 381.75225830078125, 381.476806640625, 380.0, 380.0, 380.0, 382.62115478515625, 388.7265625, 388.7265625, 395.3571472167969, 404.28570556640625, 460.0, 475.0, 505.0, 570.0, 580.0, 595.0, 581.4285888671875, 585.0, 550.0, 530.0, 510.0, 495.1219482421875, 490.3389892578125, 490.3389892578125, 485.20001220703125, 470.0, 450.0, 440.0, 440.0, 440.0, 440.0, 440.0, 440.0, 448.4615478515625, 440.7407531738281, 451.5384521484375, 470.0, 495.0, 528.5714111328125, 525.0, 550.0, 568.5714111328125, 581.4285888671875, 605.0, 600.0, 611.4285888671875, 610.0, 610.0, 605.019287109375, 614.0, 614.0, 635.0, 635.0, 675.0, 650.0, 660.0, 650.0, 660.0, 708.5714111328125, 701.4285888671875, 694.7540893554688, 694.7540893554688, 680.0, 661.5384521484375, 650.0, 640.0, 640.0, 640.0, 645.0, 665.0, 765.0, 765.0, 800.0, 800.0, 800.0, 789.2307739257813, 792.3076782226563, 790.0, 810.0, 820.0, 820.5263061523438, 819.4736938476563, 815.0, 805.0, 796.4705810546875, 787.73583984375, 789.6610107421875, 794.9514770507813, 794.9514770507813, 799.5760498046875, 795.263427734375, 793.6463623046875, 788.7025146484375, 790.9454956054688, 785.5999755859375, 780.0, 780.0, 779.2955932617188, 776.6751708984375, 770.0389404296875, 766.673828125, 759.98828125, 755.1470336914063, 745.11669921875, 745.11669921875, 740.0, 740.0, 740.0, 740.0, 740.0, 740.0, 740.0, 730.0, 715.2459106445313, 705.2459106445313, 705.2459106445313, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 711.4285888671875, 730.0, 740.0, 739.54443359375, 739.54443359375, 735.570068359375, 732.2548217773438, 728.2702026367188, 724.6115112304688, 725.2998046875, 722.7420654296875, 720.5831909179688, 720.0, 710.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 699.7014770507813, 690.0, 688.4615478515625, 655.0, 655.0, 630.0, 619.2307739257813, 590.0, 580.0, 580.0, 580.0, 580.0, 579.7396850585938, 580.0, 577.7227783203125, 577.805419921875, 576.6144409179688, 575.921142578125, 574.4094848632813, 574.5818481445313, 576.6145629882813, 576.6145629882813, 579.1666870117188, 573.3333129882813, 572.8048706054688, 564.4444580078125, 571.4285888671875, 590.0, 590.0, 590.0, 569.2307739257813, 571.5384521484375, 570.0, 558.4615478515625, 558.4615478515625, 541.4285888671875, 548.4615478515625, 548.4615478515625, 551.5384521484375, 565.0, 550.0, 540.7999877929688, 540.7999877929688, 548.5714111328125, 545.2174072265625, 554.8386840820313, 560.0, 560.0, 560.0, 560.0, 560.0, 560.0, 560.0, 560.0, 560.0, 570.0, 590.0, 620.0, 630.0, 641.72412109375, 650.5263061523438, 652.3076782226563, 680.0, 695.0, 707.6923217773438, 730.0, 760.0, 780.0, 777.2413940429688, 780.0, 780.0, 790.0, 805.0, 795.0, 797.1428833007813, 797.1428833007813, 803.27587890625, 780.0, 760.0, 705.0, 705.0, 660.0, 630.0, 591.5384521484375, 580.0, 580.0, 580.2213134765625, 580.0, 590.0, 600.2660522460938, 600.0, 600.0, 600.0, 610.0, 608.4615478515625, 602.3076782226563, 585.0, 555.0, 580.0, 565.0, 575.0, 610.0, 585.0, 575.0, 530.0, 510.0, 450.0, 475.0, 425.0, 380.0, 335.0, 285.0, 300.0, 255.0, 219.99998474121094, 130.0, 89.99999237060547, 65.0, 65.0, 65.0, 45.0, 20.406614303588867, 20.187820434570313, 20.187820434570313, 20.305437088012695, 20.171388626098633, 20.087398529052734, 20.024038314819336, 20.024038314819336, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.375974655151367, 20.321659088134766, 20.50257682800293, 20.971227645874023, 20.7109432220459, 20.673805236816406, 20.36678695678711, 20.230064392089844, 20.030384063720703, 20.06596565246582, 20.0, 20.568103790283203, 20.152929306030273, 20.0042724609375, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.032291412353516, 20.008068084716797, 20.008068084716797, 20.02861213684082, 20.039453506469727, 20.41777229309082, 24.23088836669922, 24.23088836669922, 44.999996185302734, 80.0, 109.99999237060547, 150.0, 164.7541046142578, 158.57142639160156, 171.42857360839844, 180.0, 180.0, 180.0, 180.0, 160.0, 130.0, 120.0, 120.0, 120.0, 120.0, 120.0, 120.0, 124.75409698486328, 134.75408935546875, 131.42857360839844, 155.0, 180.0, 217.14285278320313, 220.0, 220.0, 223.13954162597656, 226.53846740722656, 232.7058868408203, 241.66665649414063, 255.0, 255.0, 260.0, 275.0, 300.0, 328.4615478515625, 328.4615478515625, 328.4615478515625, 340.0, 340.0, 350.0000305175781, 350.0000305175781, 380.0, 410.0, 460.0, 490.0, 515.0, 525.0, 550.0, 570.0, 590.0, 601.5384521484375, 591.5384521484375, 600.0, 620.0, 635.0, 650.0, 654.7540893554688, 660.0, 660.0, 660.0, 660.0, 660.952392578125, 670.0, 678.4615478515625, 690.0, 700.0, 697.1428833007813, 700.0, 700.0, 680.0, 660.0, 660.0, 660.0, 660.0, 660.0, 660.0, 660.0, 660.0, 660.0, 670.0, 671.4285888671875, 682.8571166992188, 680.0, 695.0, 710.0, 708.5714111328125, 717.8688354492188, 720.0, 718.3333129882813, 711.111083984375, 695.9739990234375, 660.0, 645.0, 610.0, 610.0, 591.0526123046875, 584.7540893554688, 580.0, 580.0, 580.0, 580.0, 580.0, 580.0, 580.0, 580.0, 590.0, 590.0, 615.0, 631.4285888671875, 635.0, 630.0, 630.0, 685.0, 720.0, 750.0, 760.7692260742188, 760.7692260742188, 760.0, 770.0, 755.0, 740.0, 740.0, 740.0, 760.0, 757.6923217773438, 760.7692260742188, 765.0, 780.0, 773.8461303710938, 787.6923217773438, 795.0, 820.7692260742188, 820.7692260742188, 820.0, 810.0, 811.5384521484375, 808.4615478515625, 810.0, 790.0, 765.0, 778.4615478515625, 781.5384521484375, 788.4615478515625, 770.0, 780.0, 775.0, 778.4615478515625, 791.5384521484375, 780.0, 791.4285888671875, 783.75, 780.0, 772.3076782226563, 753.076904296875, 753.076904296875, 740.0, 743.076904296875, 730.0, 720.0, 720.0, 705.0, 715.0, 700.0, 720.0, 710.0, 681.5384521484375, 695.0, 681.5384521484375, 700.0, 689.5081787109375, 669.5081787109375, 662.6229248046875, 630.0, 630.0, 620.0, 620.0]],
        seriesLabels: ["Profile 1"],
        xAxisLabel: "Distance",
        yAxisLabel: "Elevation",
        width: 700,
        height: 500,
        drawPoints: false,
        drawGridlines: true,
        drawLegend: false,
        drawGreyBackground: false,
        parentId: "graph"
      };
      function update(svg) {
        // which of the series labels is longest?
        var maxSeriesLabelLength = 0;
        var a;
        for (a = 0; a < plot.seriesLabels.length; a++) {
          var sl = plot.seriesLabels[a];
          if (sl.length > maxSeriesLabelLength) { maxSeriesLabelLength = sl.length; }
        }
        var plotLeftMargin = 70.0;
        var plotRightMargin = plot.drawLegend ? 65.0 + maxSeriesLabelLength * 7 : 50.0;
        var plotBottomMargin = 70.0;
        var plotTopMargin = 40.0;
        var plotWidth = plot.width - plotLeftMargin - plotRightMargin;
        var plotHeight = plot.height - plotBottomMargin - plotTopMargin;
        var originX = plotLeftMargin;
        var originY = plotTopMargin + plotHeight;
        var tickLen = 8.0;
        var minorTickLen = tickLen * 0.65;

        // If there are no series labels, treat it as one series.
        if (plot.seriesLabels.length === 0) {
					plot.drawLegend = false;
				}

        // colors
        var lineColor = '#47a3ff'; //'#377eb8'; // '#729ece'; // '#1f77b4'; //'#47a3ff'; //'rgb(2,145,205)';
        var highlightColor = '#ff7f00';
        var btnColor = 'rgb(170,170,170)';
        var btnHoverColor = 'rgb(150,150,150)';
        var plotBackgroundColor = 'rgb(255,255,255)';
        if (plot.drawGreyBackground) {
          plotBackgroundColor = '#CCC';
        }
        var chartBackgroundColor = 'white';
        // var gridLineColor = 'rgb(120,120,120)';
        // if (plot.drawGreyBackground) {
          var gridLineColor = '#EEE';
        // }
        var trendlineColor = 'DimGray';
        if (plot.drawGreyBackground) {
          trendlineColor = 'DimGray';
        }
        var showValueClr = "black";
        // if (plot.drawGreyBackground) {
        //   showValueClr = '#FFF';
        // }

        // Gridlines
        // var gridlineDash = '1, 5';
        // if (plot.drawGreyBackground) {
          var gridlineDash = 'none';
        // }

        var tableau20 = [[31, 119, 180], [255, 127, 14],
             [44, 160, 44], [214, 39, 40],
             [148, 103, 189], [140, 86, 75],
             [227, 119, 194], [127, 127, 127],
             [188, 189, 34], [23, 190, 207]];

        var regularOpacity = 1.0;
        var deselectedOpacity = 0.10;


        // create the svg element
        var svgns = "http://www.w3.org/2000/svg";
        if (svg == null) {
          svg = document.createElementNS(svgns, "svg");
        } else {
          while (svg.lastChild) {
              svg.removeChild(svg.lastChild);
          }
        }
        svg.setAttribute('width', `${plot.width}`);
        svg.setAttribute('height', `${plot.height}`);
        var div = document.getElementById(plot.parentId);
        if (div != null) {
          div.appendChild(svg);
        } else {
          // add it to the body of the document
          document.querySelector("body").appendChild(svg);
        }

        // how many series are there?
        var numSeries = plot.dataY.length;

        // if dataX is empty, fill it with the series 1, 2, 3, 4, ...
        if (plot.dataX.length == 0) {
          for (s = 0; s < numSeries; s++) {
            var seriesXData = [];
            for (a = 0; a < plot.dataY[s].length; a++) {
              seriesXData.push(a + 1);
            }
            plot.dataX.push(seriesXData);
          }
        }

        // style
        var style = document.createElement("style");
        let styleString = `
        text {
          font-family:Sans,Arial;
        }
        .axisLabel {
          font-weight: normal;
        }
        .xTickLabel {
          fill: black;
          font-size: 85%;
          font-weight: lighter;
        }
        .yTickLabel {
          fill: black;
          font-size: 85%;
          font-weight: lighter;
        }
        .gridLine {
          stroke: ${gridLineColor};
          stroke-dasharray: ${gridlineDash};
          stroke-width: 0.8;
        }
        .tick {
          stroke: black;
          stroke-width: 0.5;
        }
        #plotBorder {
          fill: none;
          stroke: black;
          stroke-width: 0.5;
        }
        #showValue {
          font-size: 85%;
          fill: ${showValueClr};
        }
        #context-menu {
          position:absolute;
          display:none;
        }
        #context-menu ul {
          list-style:none;
          margin:0;
          padding:0;
          background: #EFEFEF;
          opacity: 0.90;
        }
        #context-menu {
          border:solid 1px #CCC;
        }
        #context-menu li {
          font-family:Sans,Arial;
          font-size: 75%;
          text-align: left;
          color:#000;
          display:block;
          padding:5px 15px;
          border-bottom:solid 1px #CCC;
        }
        #context-menu li:last-child {
          border:none;
        }
        #context-menu li:hover {
          background:#007AFF;
          color:#FFF;
        }
        `;

        var dataPointHoverWidth = 4.0;
        if (!plot.drawPoints) {
          dataPointHoverWidth = 6.0;
        }
        var s;
        for (s = 0; s < numSeries; s++) {
          var clrNum = s % tableau20.length;
          if (plot.seriesLabels.length === 0) {
            // If there are no series labels, treat it as one series.
						clrNum = 0;
					}
          let clr = `rgb(${tableau20[clrNum][0]},${tableau20[clrNum][1]},${tableau20[clrNum][2]})`;

          styleString += `
          .seriesLine${s} {
            fill: none;
            stroke-width:1;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLine${s}:hover {
            fill: none;
            stroke-width:2;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLineThick${s} {
            fill: none;
            stroke-width:2;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLineThick${s}:hover {
            fill: none;
            stroke-width:3;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .dataPoint${s} {
            fill: ${clr};
            stroke-width:0;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .dataPoint${s}:hover {
            fill: red;
            stroke-width:${dataPointHoverWidth};
            stroke: red;
            opacity:1.0;
          }
          `;
        }
        style.innerHTML = styleString;
        svg.appendChild(style);
        svg.id = "plotSvg";

        // background
        var background = document.createElementNS(svgns, "rect");
        background.setAttribute('width', plot.width);
        background.setAttribute('height', plot.height);
        background.style.fill = chartBackgroundColor;
        svg.appendChild(background);

        // translate the origin point
        var g = document.createElementNS(svgns, "g");
        g.setAttribute('id', 'transform');
        g.setAttribute('transform', `translate(${originX},${originY})`);
        svg.appendChild(g);

        // plot background
        var plotBackground = document.createElementNS(svgns, "rect");
        plotBackground.setAttribute('id', 'plotBackground');
        plotBackground.setAttribute('x', 0.0);
        plotBackground.setAttribute('y', -plotHeight);
        plotBackground.setAttribute('width', plotWidth);
        plotBackground.setAttribute('height', plotHeight);
        plotBackground.style.fill = plotBackgroundColor;
        plotBackground.style.stroke = "none";
        g.appendChild(plotBackground);

        // what are the min/max values?
        var xMin = Infinity;
        var xMax = -Infinity;
        var yMin = Infinity;
        var yMax = -Infinity;
        var val = 0;
        var maxNumPoints = 0;
        var totalNumPoints = 0;
        for (s = 0; s < numSeries; s++) {
          var numPoints = Math.min(plot.dataX[s].length, plot.dataY[s].length);
          if (numPoints > maxNumPoints) { maxNumPoints = maxNumPoints; }
          totalNumPoints += numPoints;
          if (numPoints < 2) {
            alert("Too few points for line graph");
            return;
          }
          if (plot.dataX[s].length != plot.dataY[s].length) {
            alert("The x and y data arrays are unequal in length.");
          }
          for (a = 0; a < numPoints; a++) {
              val = plot.dataX[s][a];
              if (val < xMin) { xMin = val; }
              if (val > xMax) { xMax = val; }
              val = plot.dataY[s][a];
              if (val < yMin) { yMin = val; }
              if (val > yMax) { yMax = val; }
          }
        }

        // We don't want a data point to fall on the plot border
        xMin -= 0.0000001;
        yMin -= 0.0000001;
        xMax += 0.0000001;
        yMax += 0.0000001;

        // X axis
        var xAxisTickSpacing = 0.0000001;
        var xAxisNumTicks = 1000;
        var xRange = xMax - xMin;
        a = 0;
        while (xAxisNumTicks > 20) {
          if (a % 2 == 0) {
            xAxisTickSpacing *= 5.0;
          } else {
            xAxisTickSpacing *= 2.0;
          }
          a++;
          xAxisNumTicks = Math.ceil(xRange / xAxisTickSpacing);
        }
        xMin = Math.floor(xMin / xAxisTickSpacing) * xAxisTickSpacing;
        xAxisNumTicks = Math.ceil((xMax - xMin) / xAxisTickSpacing);
        xRange = xAxisTickSpacing * xAxisNumTicks;
        var xSigDigits = Math.max(decimalPlaces(xMin+xAxisTickSpacing), decimalPlaces(xMin+2*xAxisTickSpacing)); //Math.round(0.1 / xAxisTickSpacing);
        if (xSigDigits === 0 && (xMax - xMin) < xAxisNumTicks) { xSigDigits += 1; }
        var dominantTick = 0;
        if (decimalPlaces(xMin) > decimalPlaces(xMin+xAxisTickSpacing)) {
          dominantTick = 1;
        }
        for (a = 0; a <= xAxisNumTicks; a++) {
            // grid line
            if (plot.drawGridlines) {
              if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
                if (a > 0 && a < xAxisNumTicks) {
                  var line = document.createElementNS(svgns, "line");
                  line.setAttribute('x1', (a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y1', 0);
                  line.setAttribute('x2', (a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y2', -plotHeight);
                  line.setAttribute('class', 'gridLine');
                  g.appendChild(line);
                }
              }
            }
            // tick mark
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', (a * xAxisTickSpacing) / xRange * plotWidth);
            line.setAttribute('y1', 0);
            line.setAttribute('x2', (a * xAxisTickSpacing) / xRange * plotWidth);
            if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
              line.setAttribute('y2', tickLen);
            } else {
              line.setAttribute('y2', minorTickLen);
            }
            line.setAttribute('class', 'tick');
            g.appendChild(line);

            // labels
            if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
                // tick label
                var label = document.createElementNS(svgns, "text");
                label.setAttribute('x', (a * xAxisTickSpacing) / xRange * plotWidth);
                label.setAttribute('y', tickLen + 5);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('dominant-baseline', 'hanging');
                label.setAttribute('class', 'xTickLabel');
                label.innerHTML = `${(xMin + a * xAxisTickSpacing).toFixed(xSigDigits)}`;
                g.appendChild(label);
            }
        }

        // Y axis
        var yAxisTickSpacing = 0.0000001;
        var yAxisNumTicks = 1000;
        var yRange = yMax - yMin;
        a = 0;
        while (yAxisNumTicks > 20) {
          if (a % 2 == 0) {
            yAxisTickSpacing *= 5.0;
          } else {
            yAxisTickSpacing *= 2.0;
          }
          a++;
          yAxisNumTicks = Math.ceil(yRange / yAxisTickSpacing);
        }
        yMin = Math.floor(yMin / yAxisTickSpacing) * yAxisTickSpacing;
        yAxisNumTicks = Math.ceil((yMax - yMin) / yAxisTickSpacing);
        yRange = yAxisTickSpacing * yAxisNumTicks;
        var ySigDigits = Math.max(decimalPlaces(yMin+yAxisTickSpacing), decimalPlaces(yMin+2*yAxisTickSpacing));
        if (ySigDigits === 0 && (yMax - yMin) < yAxisNumTicks) { ySigDigits += 1; }
        dominantTick = 0;
        if (decimalPlaces(yMin) > decimalPlaces(yMin+yAxisTickSpacing)) {
          dominantTick = 1;
        }
        for (a = 0; a <= yAxisNumTicks; a++) {
            // grid line
            if (plot.drawGridlines) {
              if (yAxisNumTicks <= 10 || a % 2 == dominantTick) {
                if (a > 0 && a < yAxisNumTicks) {
                  var line = document.createElementNS(svgns, "line");
                  line.setAttribute('x1', 0); //(a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y1', -(a * yAxisTickSpacing) / yRange * plotHeight);
                  line.setAttribute('x2', plotWidth); //(a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y2', -(a * yAxisTickSpacing) / yRange * plotHeight); //-plotHeight);
                  line.setAttribute('class', 'gridLine');
                  g.appendChild(line);
                }
              }
            }
            // tick mark
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', 0);
            line.setAttribute('y1', -(a * yAxisTickSpacing) / yRange * plotHeight);
            if (yAxisNumTicks <= 6 || a % 2 == dominantTick) {
              line.setAttribute('x2', -tickLen);
            } else {
              line.setAttribute('x2', -minorTickLen);
            }
            line.setAttribute('y2', -(a * yAxisTickSpacing) / yRange * plotHeight);
            line.setAttribute('class', 'tick');
            g.appendChild(line);

            // labels
            if (yAxisNumTicks <= 6 || a % 2 == dominantTick) {
                // s += `<text transform="translate(${-tickLen - 5}, ${-(a * yAxisTickSpacing) / maxVal * plotHeight}), rotate(270)" x="0" y="0" text-anchor="middle" dominant-baseline="no-change" class="yTickLabel">${(a * yAxisTickSpacing).toFixed(ySigDigits)}</text>`;
                var label = document.createElementNS(svgns, "text");
                label.setAttribute('transform', `translate(${-tickLen - 5},${-(a * yAxisTickSpacing) / yRange * plotHeight}), rotate(270)`);
                label.setAttribute('x', 0);
                label.setAttribute('y', 0);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('dominant-baseline', 'no-change');
                label.setAttribute('class', 'yTickLabel');
                label.innerHTML = `${(yMin + a * yAxisTickSpacing).toFixed(ySigDigits)}`;
                g.appendChild(label);
            }
        }

        // axis labels
        var xLabel = document.createElementNS(svgns, "text");
        xLabel.setAttribute('x', plotWidth / 2.0);
        xLabel.setAttribute('y', tickLen + 25.0);
        xLabel.setAttribute('text-anchor', 'middle');
        xLabel.setAttribute('dominant-baseline', 'hanging');
        xLabel.setAttribute('class', 'axisLabel');
        xLabel.innerHTML = plot.xAxisLabel;
        g.appendChild(xLabel);

        var yLabel = document.createElementNS(svgns, "text");
        yLabel.setAttribute('transform', `translate(${-tickLen - 28.0},${-plotHeight / 2.0}), rotate(270)`);
        yLabel.setAttribute('x', 0);
        yLabel.setAttribute('y', 0);
        yLabel.setAttribute('text-anchor', 'middle');
        yLabel.setAttribute('class', 'axisLabel');
        yLabel.innerHTML = plot.yAxisLabel;
        g.appendChild(yLabel);

        // text to show values when hover over
        var showValue = document.createElementNS(svgns, "text");
        showValue.setAttribute('x', 10);
        showValue.setAttribute('text-anchor', 'start');

        // draw the line(s)
        var g2 = document.createElementNS(svgns, "g");
        g2.setAttribute('id', 'lines');
        g.appendChild(g2);

        var radius = 3.0;
        if (totalNumPoints > 15) { radius = 2.5; }
        if (!plot.drawPoints) {
          radius = 1.0;
        }
        for (let s = 0; s < numSeries; s++) {
          var numPoints = Math.min(plot.dataX[s].length, plot.dataY[s].length);
          let seriesLine = document.createElementNS(svgns, "polyline");
          var pointsString = `${(plot.dataX[s][0] - xMin) / xRange * plotWidth},${-(plot.dataY[s][0] - yMin) / yRange * plotHeight}`;
          for (let a = 1; a < numPoints; a++) {
            pointsString += ` ${(plot.dataX[s][a] - xMin) / xRange * plotWidth},${-(plot.dataY[s][a] - yMin) / yRange * plotHeight}`
          }
          seriesLine.setAttribute('points', pointsString);
          var seriesLabel = "seriesLine";
          if (!plot.drawPoints) { seriesLabel = "seriesLineThick"; }
          seriesLine.setAttribute('class', `${seriesLabel}${s}`);
          seriesLine.addEventListener('mouseover', function() {
            var s2;
            for (s2 = 0; s2 < numSeries; s2++) {
              if (s2 != s) {
                var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                var i;
                for (i = 0; i < x.length; i++) {
                  x[i].style.opacity = deselectedOpacity;
                }
                x = document.getElementsByClassName(`dataPoint${s2}`);
                for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = deselectedOpacity;
                }
              }
            }
          }, false);
          seriesLine.addEventListener('mouseout', function() {
            var s2;
            for (s2 = 0; s2 < numSeries; s2++) {
              if (s2 != s) {
                var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                var i;
                for (i = 0; i < x.length; i++) {
                  x[i].style.opacity = regularOpacity;
                }
                x = document.getElementsByClassName(`dataPoint${s2}`);
                for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = regularOpacity;
                }
              }
            }
          }, false);
          g2.appendChild(seriesLine);

          // draw the data points
          for (let a = 0; a < numPoints; a++) {
            let c = document.createElementNS(svgns, "circle");
            c.setAttribute('cx', `${(plot.dataX[s][a] - xMin) / xRange * plotWidth}`);
            c.setAttribute('cy', `${-(plot.dataY[s][a] - yMin) / yRange * plotHeight}`);
            c.setAttribute('r', radius);
            c.setAttribute('class', `dataPoint${s}`);
            c.addEventListener('mouseover', function() {
              var s2;
              for (s2 = 0; s2 < numSeries; s2++) {
                if (s2 != s) {
                  var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                  var i;
                  for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = deselectedOpacity;
                  }
                  x = document.getElementsByClassName(`dataPoint${s2}`);
                  for (i = 0; i < x.length; i++) {
                      x[i].style.opacity = deselectedOpacity;
                  }
                }
              }
              showValue.innerHTML = `x: ${(plot.dataX[s][a]).toFixed(xSigDigits+2)}, y: ${(plot.dataY[s][a]).toFixed(ySigDigits+2)}`;
            }, false);
            c.addEventListener('mouseout', function() {
              var s2;
              for (s2 = 0; s2 < numSeries; s2++) {
                if (s2 != s) {
                  var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                  var i;
                  for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = regularOpacity;
                  }
                  x = document.getElementsByClassName(`dataPoint${s2}`);
                  for (i = 0; i < x.length; i++) {
                      x[i].style.opacity = regularOpacity;
                  }
                }
              }
              showValue.innerHTML = "";
            }, false);
            g2.appendChild(c);
          }
        }

        // Show value label
        showValue.setAttribute('id', 'showValue');
        showValue.setAttribute('y', -plotHeight + 20);
        g.appendChild(showValue);

        // plot border
        var plotBorder = document.createElementNS(svgns, "rect");
        plotBorder.setAttribute('x', 0);
        plotBorder.setAttribute('y', -plotHeight);
        plotBorder.setAttribute('width', plotWidth);
        plotBorder.setAttribute('height', plotHeight);
        plotBorder.id = "plotBorder";
        g.appendChild(plotBorder);

        // add a legend
        if (plot.seriesLabels.length > 0 && plot.drawLegend) {
          var legend = document.createElementNS(svgns, "g");
          legend.setAttribute('id', 'legend');
          g.appendChild(legend);
          for (let s = 0; s < numSeries; s++) {
            var y = -(plotHeight - 35 - 23 * (s+1));
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', plotWidth + 10);
            line.setAttribute('y1', y);
            line.setAttribute('x2', plotWidth + 40);
            line.setAttribute('y2', y);
            if (plot.drawPoints) {
              line.setAttribute('class', `seriesLine${s}`);
            } else {
              line.setAttribute('class', `seriesLineThick${s}`);
            }
            legend.appendChild(line);

            if (plot.drawPoints) {
              var c = document.createElementNS(svgns, "circle");
              c.setAttribute('cx', plotWidth+25);
              c.setAttribute('cy', y);
              c.setAttribute('r', radius);
              c.setAttribute('class', `dataPoint${s}`);
              legend.appendChild(c);
            }

            var legendLabel = document.createElementNS(svgns, "text");
            legendLabel.setAttribute('x', plotWidth + 48);
            legendLabel.setAttribute('y', y);
            legendLabel.setAttribute('text-anchor', 'left');
            // legendLabel.setAttribute('text-anchor', 'middle');
            legendLabel.setAttribute('dominant-baseline', 'middle');
            legendLabel.setAttribute('class', 'xTickLabel');
            legendLabel.innerHTML = plot.seriesLabels[s];
            legend.appendChild(legendLabel);
          }
        }

        // Add an invisible context menu to the parentId.
        var cm = document.createElement('div');
        cm.id = 'context-menu';
        cm.className = 'context-menu';
        var list = document.createElement('ul');

        var copyBtn = document.createElement("li");
        copyBtn.innerHTML = "Copy";
        copyBtn.addEventListener('click', function() {
          var content = `<svg xmlns='${svgns}' width='${plot.width}' height='${plot.height}'>\n${svg.innerHTML}\n</svg>`;
          // Create an auxiliary hidden input
          var aux = document.createElement("input");
          // Get the text from the element passed into the input
          aux.setAttribute("value", content);
          // Append the aux input to the body
          document.body.appendChild(aux);
          // Highlight the content
          aux.select();
          // Execute the copy command
          document.execCommand("copy");
          // Remove the input from the body
          document.body.removeChild(aux);
          // Give a notification
          alert("The plot's SVG content has been copied to the clipboard.");
        }, false);
        list.appendChild(copyBtn);

        var gridlineBtn = document.createElement("li");
        var verb = plot.drawGridlines ? "Hide " : "Show ";
        gridlineBtn.innerHTML = verb + "Gridlines";
        gridlineBtn.addEventListener('click', function() {
          plot.drawGridlines = !plot.drawGridlines;
          // update the context menu label
          var verb = plot.drawGridlines ? "Hide " : "Show ";
          gridlineBtn.innerHTML = verb + "Gridlines";
          update(svg);
        }, false);
        list.appendChild(gridlineBtn);

        if (plot.seriesLabels.length > 0) {
          var legendBtn = document.createElement("li");
          var verb = plot.drawLegend ? "Hide " : "Show ";
          legendBtn.innerHTML = verb + "Legend";
          legendBtn.addEventListener('click', function() {
            plot.drawLegend = !plot.drawLegend;
            // update the context menu label
            var verb = plot.drawLegend ? "Hide " : "Show ";
            legendBtn.innerHTML = verb + "Legend";
            update(svg);
          }, false);
          list.appendChild(legendBtn);
        }

        var pointsBtn = document.createElement("li");
        var verb = plot.drawPoints ? "Hide " : "Show ";
        pointsBtn.innerHTML = verb + "Points";
        pointsBtn.addEventListener('click', function() {
          plot.drawPoints = !plot.drawPoints;
          // update the context menu label
          var verb = plot.drawPoints ? "Hide " : "Show ";
          pointsBtn.innerHTML = verb + "Points";
          update(svg);
        }, false);
        list.appendChild(pointsBtn);

        var backgroundColorBtn = document.createElement("li");
        var verb = plot.drawGreyBackground ? "Light " : "Dark ";
        backgroundColorBtn.innerHTML = verb + "Background";
        backgroundColorBtn.addEventListener('click', function() {
          plot.drawGreyBackground = !plot.drawGreyBackground;
          // update the context menu label
          var verb = plot.drawGreyBackground ? "Light " : "Dark ";
          backgroundColorBtn.innerHTML = verb + "Background";
          update(svg);
        }, false);
        list.appendChild(backgroundColorBtn);

        cm.appendChild(list);
        document.getElementById(plot.parentId).appendChild(cm);

        var menu = document.getElementById('context-menu');
        document.onclick = function () {
            menu.style.display = 'none';
        };

        document.getElementById('plotSvg').oncontextmenu = function (evt) {
            evt = (evt) ? evt : ((event) ? event : null);
            var posnX = (evt.pageX) ? evt.pageX : ((evt.offsetX) ? evt.offsetX + 10 : null);
            var posnY = (evt.pageY) ? evt.pageY : ((evt.offsetY) ? evt.offsetY + 10 : null);
            menu.style.left = posnX + 'px';
            menu.style.top = posnY + 'px';
            menu.style.display = 'block';
            if (typeof evt.preventDefault != "undefined") {
                evt.preventDefault();
            } else {
                evt.returnValue = false;
            }
        };
      }

      function decimalPlaces(num) {
        var match = (''+num).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
        if (!match) { return 0; }
        return Math.max(
             0,
             // Number of digits right of decimal point.
             (match[1] ? match[1].length : 0)
             // Adjust for scientific notation.
             - (match[2] ? +match[2] : 0));
      }

      update(null);
    </script></div></body>