<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
        <head>
            <meta content=\"text/html; charset=UTF-8\" http-equiv=\"content-type\">
            <title>Profile</title><style type="text/css">
            h1 {
                font-size: 14pt;
                margin-left: 15px;
                margin-right: 15px;
                text-align: center;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
            }
            h2 {
                font-size: 12pt;
                margin-left: 15px;
                margin-right: 15px;
                text-align: center;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
            }
            p, ol, ul {
                font-size: 12pt;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                margin-left: 15px;
                margin-right: 15px;
            }
            caption {
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                font-size: 12pt;
                margin-left: 15px;
                margin-right: 15px;
            }
            table {
                font-size: 12pt;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                font-family: arial, sans-serif;
                border-collapse: collapse;
                align: center;
            }
            td, th {
                border: 1px solid #222222;
                text-align: centre;
                padding: 8px;
            }
            tr:nth-child(even) {
                background-color: #dddddd;
            }
            tr:hover {
                background-color: lightyellow;
            }
            .bareTd {
                border: 0px solid #222222;
                text-align: centre;
                padding: 8px;
            }
            .bareTr:nth-child(even) {
                background-color: white;
            }
            .bareTr:hover {
                background-color: white;
            }
            .numberCell {
                text-align: right;
            }
            .header {
                font-weight: bold;
                text-align: center;
            }
        </style></head>
        <body>
            <h1>Profile</h1><p><strong>Input Surface</strong>: dem_topo_points<br></p><div id='graph' align="center">
    <script>
      var plot = {
        dataX: [[2049.7990531382275, 2099.7941519952574, 2149.7892508522873, 2199.784349709317, 2249.779448566347, 2299.774547423377, 2349.769646280407, 2399.764745137437, 2449.759843994467, 2499.7549428514967, 2549.7500417085266, 2599.7451405655565, 2649.7402394225865, 2699.7353382796164, 2749.7304371366463, 2799.725535993676, 2849.720634850706, 2899.715733707736, 2949.710832564766, 2999.705931421796, 3049.701030278826, 3099.6961291358557, 3149.6912279928856, 3199.6863268499155, 3249.6814257069454, 3299.6765245639754, 3349.6716234210053, 3399.666722278035, 3449.661821135065, 3499.656919992095, 3549.652018849125, 3599.647117706155, 3649.642216563185, 3699.6373154202147, 3749.6324142772446, 3799.6275131342745, 3849.6226119913044, 3899.6177108483344, 3949.6128097053643, 3999.607908562394, 4049.603007419424, 4099.598106276454, 4149.593205133484, 4199.588303990514, 4249.583402847544, 4299.578501704574, 4349.573600561604, 4399.5686994186335, 4449.563798275663, 4499.558897132693, 4549.553995989723, 4599.549094846753, 4649.544193703783, 4699.539292560813, 4749.534391417843, 4799.529490274873, 4849.524589131903, 4899.519687988933, 4949.514786845963, 4999.5098857029925, 5049.504984560022, 5099.500083417052, 5149.495182274082, 5199.490281131112, 5249.485379988142, 5299.480478845172, 5349.475577702202, 5399.470676559232, 5449.465775416262, 5499.460874273292, 5549.455973130322, 5599.4510719873515, 5649.446170844381, 5699.441269701411, 5749.436368558441, 5799.431467415471, 5849.426566272501, 5899.421665129531, 5949.416763986561, 5999.411862843591, 6049.406961700621, 6099.402060557651, 6149.397159414681, 6199.3922582717105, 6249.38735712874, 6299.38245598577, 6349.3775548428, 6399.37265369983, 6449.36775255686, 6499.36285141389, 6549.35795027092, 6599.35304912795, 6649.34814798498, 6699.34324684201, 6749.33834569904, 6799.3334445560695, 6849.328543413099, 6899.323642270129, 6949.318741127159, 6999.313839984189, 7049.308938841219, 7099.304037698249, 7149.299136555279, 7199.294235412309, 7249.289334269339, 7299.284433126369, 7349.279531983399, 7399.2746308404285, 7449.269729697458, 7499.264828554488, 7549.259927411518, 7599.255026268548, 7649.250125125578, 7699.245223982608, 7749.240322839638, 7799.235421696668, 7849.230520553698, 7899.225619410728, 7949.220718267758, 7999.2158171247875, 8049.210915981817, 8099.206014838847, 8149.201113695877, 8199.196212552908, 8249.191311409939, 8299.18641026697, 8349.181509124, 8399.176607981031, 8449.171706838062, 8499.166805695093, 8549.161904552124, 8599.157003409155, 8649.152102266185, 8699.147201123216, 8749.142299980247, 8799.137398837278, 8849.132497694309, 8899.12759655134, 8949.12269540837, 8999.117794265401, 9049.112893122432, 9099.107991979463, 9149.103090836494, 9199.098189693525, 9249.093288550555, 9299.088387407586, 9349.083486264617, 9399.078585121648, 9449.073683978679, 9499.06878283571, 9549.06388169274, 9599.058980549771, 9649.054079406802, 9699.049178263833, 9749.044277120864, 9799.039375977894, 9849.034474834925, 9899.029573691956, 9949.024672548987, 9999.019771406018, 10049.014870263049, 10099.00996912008, 10149.00506797711, 10199.000166834141, 10248.995265691172, 10298.990364548203, 10348.985463405234, 10398.980562262264, 10448.975661119295, 10498.970759976326, 10548.965858833357, 10598.960957690388, 10648.956056547418, 10698.95115540445, 10748.94625426148, 10798.941353118511, 10848.936451975542, 10898.931550832573, 10948.926649689603, 10998.921748546634, 11048.916847403665, 11098.911946260696, 11148.907045117727, 11198.902143974758, 11248.897242831788, 11298.89234168882, 11348.88744054585, 11398.88253940288, 11448.877638259912, 11498.872737116943, 11548.867835973973, 11598.862934831004, 11648.858033688035, 11698.853132545066, 11748.848231402097, 11798.843330259127, 11848.838429116158, 11898.83352797319, 11948.82862683022, 11998.82372568725, 12048.818824544282, 12098.813923401312, 12148.809022258343, 12198.804121115374, 12248.799219972405, 12298.794318829436, 12348.789417686467, 12398.784516543497, 12448.779615400528, 12498.774714257559, 12548.76981311459, 12598.76491197162, 12648.760010828652, 12698.755109685682, 12748.750208542713, 12798.745307399744, 12848.740406256775, 12898.735505113806, 12948.730603970836, 12998.725702827867, 13048.720801684898, 13098.715900541929, 13148.71099939896, 13198.70609825599, 13248.701197113021, 13298.696295970052, 13348.691394827083, 13398.686493684114, 13448.681592541145, 13498.676691398176, 13548.671790255206, 13598.666889112237, 13648.661987969268, 13698.657086826299, 13748.65218568333, 13798.64728454036, 13848.642383397391, 13898.637482254422, 13948.632581111453, 13998.627679968484, 14048.622778825515, 14098.617877682545, 14148.612976539576, 14198.608075396607, 14248.603174253638, 14298.598273110669, 14348.5933719677, 14398.58847082473, 14448.583569681761, 14498.578668538792, 14548.573767395823, 14598.568866252854, 14648.563965109885, 14698.559063966915, 14748.554162823946, 14798.549261680977, 14848.544360538008, 14898.539459395039, 14948.53455825207, 14998.5296571091, 15048.524755966131, 15098.519854823162, 15148.514953680193, 15198.510052537224, 15248.505151394254, 15298.500250251285, 15348.495349108316, 15398.490447965347, 15448.485546822378, 15498.480645679409, 15548.47574453644, 15598.47084339347, 15648.465942250501, 15698.461041107532, 15748.456139964563, 15798.451238821594, 15848.446337678624, 15898.441436535655, 15948.436535392686, 15998.431634249717, 16048.426733106748, 16098.421831963778, 16148.41693082081, 16198.41202967784, 16248.407128534871, 16298.402227391902, 16348.397326248933, 16398.39242510596, 16448.387523962992, 16498.382622820023, 16548.377721677054, 16598.372820534085, 16648.367919391116, 16698.363018248147, 16748.358117105177, 16798.35321596221, 16848.34831481924, 16898.34341367627, 16948.3385125333, 16998.33361139033, 17048.328710247362, 17098.323809104393, 17148.318907961424, 17198.314006818455, 17248.309105675486, 17298.304204532516, 17348.299303389547, 17398.294402246578, 17448.28950110361, 17498.28459996064, 17548.27969881767, 17598.2747976747, 17648.269896531732, 17698.264995388763, 17748.260094245794, 17798.255193102825, 17848.250291959856, 17898.245390816886, 17948.240489673917, 17998.235588530948, 18048.23068738798, 18098.22578624501, 18148.22088510204, 18198.21598395907, 18248.211082816102, 18298.206181673133, 18348.201280530164, 18398.196379387195, 18448.191478244225, 18498.186577101256, 18548.181675958287, 18598.176774815318, 18648.17187367235, 18698.16697252938, 18748.16207138641, 18798.15717024344, 18848.152269100472, 18898.147367957503, 18948.142466814534, 18998.137565671565, 19048.132664528595, 19098.127763385626, 19148.122862242657, 19198.117961099688, 19248.11305995672, 19298.10815881375, 19348.10325767078, 19398.09835652781, 19448.093455384842, 19498.088554241873, 19548.083653098904, 19598.078751955934, 19648.073850812965, 19698.068949669996, 19748.064048527027, 19798.059147384058, 19848.05424624109, 19898.04934509812, 19948.04444395515, 19998.03954281218, 20048.034641669212, 20098.029740526243, 20148.024839383274, 20198.019938240304, 20248.015037097335, 20298.010135954366, 20348.005234811397, 20398.000333668428, 20447.99543252546, 20497.99053138249, 20547.98563023952, 20597.98072909655, 20647.97582795358, 20697.970926810613, 20747.966025667643, 20797.961124524674, 20847.956223381705, 20897.951322238736, 20947.946421095767, 20997.941519952798, 21047.93661880983, 21097.93171766686, 21147.92681652389, 21197.92191538092, 21247.91701423795, 21297.912113094982, 21347.907211952013, 21397.902310809044, 21447.897409666075, 21497.892508523106, 21547.887607380137, 21597.882706237167, 21647.8778050942, 21697.87290395123, 21747.86800280826, 21797.86310166529, 21847.85820052232, 21897.853299379352, 21947.848398236383, 21997.843497093414, 22047.838595950445, 22097.833694807476, 22147.828793664507, 22197.823892521537, 22247.818991378568, 22297.8140902356, 22347.80918909263, 22397.80428794966, 22447.79938680669, 22497.794485663722, 22547.789584520753, 22597.784683377784, 22647.779782234815, 22697.774881091846, 22747.769979948876, 22797.765078805907, 22847.760177662938, 22897.75527651997, 22947.750375377, 22997.74547423403, 23047.74057309106, 23097.735671948092, 23147.730770805123, 23197.725869662154, 23247.720968519185, 23297.716067376216, 23347.711166233246, 23397.706265090277, 23447.701363947308, 23497.69646280434, 23547.69156166137, 23597.6866605184, 23647.68175937543, 23697.676858232462, 23747.671957089493, 23797.667055946524, 23847.662154803555, 23897.657253660585, 23947.652352517616, 23997.647451374647, 24047.642550231678, 24097.63764908871, 24147.63274794574, 24197.62784680277, 24247.6229456598, 24297.618044516832, 24347.613143373863, 24397.608242230894, 24447.603341087924, 24497.598439944955, 24547.593538801986, 24597.588637659017, 24647.583736516048, 24697.57883537308, 24747.57393423011, 24797.56903308714, 24847.56413194417, 24897.559230801202, 24947.554329658233, 24997.549428515264, 25047.544527372294, 25097.539626229325, 25147.534725086356, 25197.529823943387, 25247.524922800418, 25297.52002165745, 25347.51512051448, 25397.51021937151, 25447.50531822854, 25497.500417085572, 25547.495515942603, 25597.490614799633, 25647.485713656664, 25697.480812513695, 25747.475911370726, 25797.471010227757, 25847.466109084788, 25897.46120794182, 25947.45630679885, 25997.45140565588, 26047.44650451291, 26097.44160336994, 26147.436702226973, 26197.431801084003, 26247.426899941034, 26297.421998798065, 26347.417097655096, 26397.412196512127, 26447.407295369158, 26497.40239422619, 26547.39749308322, 26597.39259194025, 26647.38769079728, 26697.38278965431, 26747.377888511342, 26797.372987368373, 26847.368086225404, 26897.363185082435, 26947.358283939466, 26997.353382796497, 27047.348481653527, 27097.34358051056, 27147.33867936759, 27197.33377822462, 27247.32887708165, 27297.32397593868, 27347.319074795712, 27397.314173652743, 27447.309272509774, 27497.304371366805, 27547.299470223836, 27597.294569080866, 27647.289667937897, 27697.284766794928, 27747.27986565196, 27797.27496450899, 27847.27006336602, 27897.26516222305, 27947.260261080082, 27997.255359937113, 28047.250458794144, 28097.245557651175, 28147.240656508206, 28197.235755365236, 28247.230854222267, 28297.225953079298, 28347.22105193633, 28397.21615079336, 28447.21124965039, 28497.20634850742, 28547.201447364452, 28597.196546221483, 28647.191645078514, 28697.186743935545, 28747.181842792575, 28797.176941649606, 28847.172040506637, 28897.167139363668, 28947.1622382207, 28997.15733707773, 29047.15243593476, 29097.14753479179, 29147.142633648822, 29197.137732505853, 29247.132831362884, 29297.127930219915, 29347.123029076945, 29397.118127933976, 29447.113226791007, 29497.108325648038, 29547.10342450507, 29597.0985233621, 29647.09362221913, 29697.08872107616, 29747.083819933192, 29797.078918790223, 29847.074017647254, 29897.069116504284, 29947.064215361315, 29997.059314218346, 30047.054413075377, 30097.049511932408, 30147.04461078944, 30197.03970964647, 30247.0348085035, 30297.02990736053, 30347.025006217562, 30397.020105074593, 30447.015203931624, 30497.010302788654, 30547.005401645685, 30597.000500502716, 30646.995599359747, 30696.990698216778, 30746.98579707381, 30796.98089593084, 30846.97599478787, 30896.9710936449, 30946.96619250193, 30996.961291358963, 31046.956390215993, 31096.951489073024, 31146.946587930055, 31196.941686787086, 31246.936785644117, 31296.931884501148, 31346.92698335818, 31396.92208221521, 31446.91718107224, 31496.91227992927, 31546.9073787863, 31596.902477643333, 31646.897576500363, 31696.892675357394, 31746.887774214425, 31796.882873071456, 31846.877971928487, 31896.873070785517, 31946.86816964255, 31996.86326849958, 32046.85836735661, 32096.85346621364, 32146.84856507067, 32196.843663927702, 32246.838762784733, 32296.833861641764, 32346.828960498795, 32396.824059355826, 32446.819158212857, 32496.814257069887, 32546.80935592692, 32596.80445478395, 32646.79955364098, 32696.79465249801, 32746.78975135504, 32796.78485021207, 32846.779949069096, 32896.77504792612, 32946.77014678315, 32996.76524564018, 33046.760344497205, 33096.75544335423, 33146.75054221126, 33196.745641068286, 33246.74073992531, 33296.73583878234, 33346.73093763937, 33396.726036496395, 33446.72113535342, 33496.71623421045, 33546.71133306748, 33596.706431924504, 33646.70153078153, 33696.69662963856, 33746.691728495585, 33796.68682735261, 33846.68192620964, 33896.67702506667, 33946.672123923694, 33996.66722278072, 34046.66232163775, 34096.657420494776, 34146.6525193518, 34196.64761820883, 34246.64271706586, 34296.637815922884, 34346.63291477991, 34396.62801363694, 34446.623112493966, 34496.61821135099, 34546.61331020802, 34596.60840906505, 34646.603507922075, 34696.5986067791, 34746.59370563613, 34796.588804493156, 34846.58390335018, 34896.57900220721, 34946.57410106424, 34996.569199921265, 35046.56429877829, 35096.55939763532, 35146.55449649235, 35196.549595349374, 35246.5446942064, 35296.53979306343, 35346.534891920455, 35396.52999077748, 35446.52508963451, 35496.52018849154, 35546.515287348564, 35596.51038620559, 35646.50548506262, 35696.500583919646, 35746.49568277667, 35796.4907816337, 35846.48588049073, 35896.480979347754, 35946.47607820478, 35996.47117706181, 36046.466275918836, 36096.46137477586, 36146.45647363289, 36196.45157248992, 36246.446671346945, 36296.44177020397, 36346.436869061, 36396.431967918026, 36446.42706677505, 36496.42216563208, 36546.41726448911, 36596.412363346135, 36646.40746220316, 36696.40256106019, 36746.39765991722, 36796.392758774244, 36846.38785763127, 36896.3829564883, 36946.378055345325, 36996.37315420235, 37046.36825305938, 37096.36335191641, 37146.358450773434, 37196.35354963046, 37246.34864848749, 37296.343747344516, 37346.33884620154, 37396.33394505857, 37446.3290439156, 37496.324142772624, 37546.31924162965, 37596.31434048668, 37646.309439343706, 37696.30453820073, 37746.29963705776, 37796.29473591479, 37846.289834771815, 37896.28493362884, 37946.28003248587, 37996.275131342896, 38046.27023019992, 38096.26532905695, 38146.26042791398, 38196.255526771005, 38246.25062562803, 38296.24572448506, 38346.24082334209, 38396.235922199114, 38446.23102105614, 38496.22611991317, 38546.221218770195, 38596.21631762722, 38646.21141648425, 38696.20651534128, 38746.201614198304, 38796.19671305533, 38846.19181191236, 38896.186910769386, 38946.18200962641, 38996.17710848344, 39046.17220734047, 39096.167306197494, 39146.16240505452, 39196.15750391155, 39246.152602768576, 39296.1477016256, 39346.14280048263, 39396.13789933966, 39446.132998196685, 39496.12809705371, 39546.12319591074, 39596.118294767766, 39646.11339362479, 39696.10849248182, 39746.10359133885, 39796.098690195875, 39846.0937890529, 39896.08888790993, 39946.08398676696, 39996.079085623984, 40046.07418448101, 40096.06928333804, 40146.064382195065, 40196.05948105209, 40246.05457990912, 40296.04967876615, 40346.044777623174, 40396.0398764802, 40446.03497533723, 40496.030074194256, 40546.02517305128, 40596.02027190831, 40646.01537076534, 40696.010469622364, 40746.00556847939, 40796.00066733642, 40845.995766193446, 40895.99086505047, 40945.9859639075, 40995.98106276453, 41045.976161621555, 41095.97126047858, 41145.96635933561, 41195.961458192636, 41245.95655704966, 41295.95165590669, 41345.94675476372, 41395.941853620745, 41445.93695247777, 41495.9320513348, 41545.92715019183, 41595.922249048854, 41645.91734790588, 41695.91244676291, 41745.907545619935, 41795.90264447696, 41845.89774333399, 41895.89284219102, 41945.887941048044, 41995.88303990507, 42045.8781387621, 42095.873237619126, 42145.86833647615, 42195.86343533318, 42245.85853419021, 42295.853633047234, 42345.84873190426, 42395.84383076129, 42445.838929618316, 42495.83402847534, 42545.82912733237, 42595.8242261894, 42645.819325046425, 42695.81442390345, 42745.80952276048, 42795.804621617506, 42845.79972047453, 42895.79481933156, 42945.78991818859, 42995.785017045615, 43045.78011590264]],
        dataY: [[510.74505615234375, 551.2289428710938, 549.4066772460938, 534.7587280273438, 518.28857421875, 516.46630859375, 499.99609375, 498.173828125, 483.60699462890625, 483.643310546875, 478.0705871582031, 472.4978332519531, 472.5341796875, 466.96142578125, 466.96142578125, 437.09368896484375, 398.0968322753906, 390.27557373046875, 351.2787170410156, 351.2787170410156, 324.9576721191406, 323.53564453125, 338.88482666015625, 354.2340087890625, 354.2340087890625, 369.58319091796875, 368.1611633300781, 378.54498291015625, 374.77166748046875, 381.345458984375, 391.69256591796875, 387.91925048828125, 394.4930419921875, 390.7197265625, 397.2935485839844, 407.6406555175781, 403.8673400878906, 410.4411315917969, 406.6678161621094, 413.2416076660156, 409.4682922363281, 419.8154296875, 426.38922119140625, 422.61590576171875, 429.189697265625, 425.4163818359375, 435.76348876953125, 431.99017333984375, 438.5639953613281, 444.40850830078125, 436.95452880859375, 447.1841125488281, 439.73016357421875, 445.0243835449219, 452.28271484375, 449.7557373046875, 457.0140686035156, 457.0140686035156, 464.2724304199219, 461.7454528808594, 469.0037841796875, 476.2621154785156, 476.2621154785156, 486.20428466796875, 483.8520202636719, 495.9075927734375, 493.5553283691406, 505.61090087890625, 520.0187377929688, 517.66650390625, 529.7220458984375, 527.570556640625, 553.4312133789063, 571.2250366210938, 579.2919311523438, 597.27197265625, 600.473388671875, 606.4745483398438, 609.676025390625, 612.4757690429688, 618.4769287109375, 621.6784057617188, 627.6795654296875, 630.8810424804688, 633.6807250976563, 636.8822021484375, 642.8833618164063, 644.3368530273438, 640.9076538085938, 639.7606201171875, 636.3314819335938, 631.7552490234375, 627.1790161132813, 623.7498168945313, 619.1736450195313, 619.1736450195313, 614.597412109375, 611.168212890625, 606.592041015625, 602.0158081054688, 602.0158081054688, 597.4395751953125, 594.0104370117188, 593.1859130859375, 589.1778564453125, 591.2883911132813, 597.406982421875, 593.3988647460938, 595.5093994140625, 593.5184326171875, 601.354736328125, 605.73291015625, 609.1909790039063, 617.0272216796875, 617.446044921875, 615.97216796875, 615.97216796875, 614.498291015625, 613.0244750976563, 609.48388671875, 608.010009765625, 604.469482421875, 606.5361938476563, 602.99560546875, 601.521728515625, 600.0479125976563, 596.50732421875, 598.5740356445313, 595.033447265625, 593.5596313476563, 592.0857543945313, 588.545166015625, 587.0713500976563, 587.0713500976563, 585.5974731445313, 582.375732421875, 581.3123779296875, 580.2489624023438, 580.2489624023438, 579.185546875, 568.1512451171875, 568.39501953125, 561.9030151367188, 559.74267578125, 551.0902709960938, 544.5982666015625, 535.9459228515625, 529.4539184570313, 520.801513671875, 518.6411743164063, 512.149169921875, 503.4967956542969, 497.0047607421875, 488.3524169921875, 488.3524169921875, 479.7000427246094, 471.04766845703125, 464.5556640625, 455.9032897949219, 449.4112854003906, 453.47882080078125, 450.3965759277344, 452.8811340332031, 455.36572265625, 452.283447265625, 457.85028076171875, 454.7680358886719, 457.2525939941406, 450.4666442871094, 440.720458984375, 431.98358154296875, 431.98358154296875, 423.2467041015625, 413.50048828125, 404.7636413574219, 396.0267639160156, 396.0267639160156, 387.2898864746094, 377.5436706542969, 371.6075134277344, 369.05517578125, 369.3030090332031, 366.99853515625, 364.44622802734375, 362.1417541503906, 359.58941650390625, 357.2849426269531, 357.53277587890625, 354.98046875, 352.6759948730469, 353.1507263183594, 352.6300354003906, 352.6300354003906, 352.1093444824219, 351.5886535644531, 352.17889404296875, 351.658203125, 352.2484436035156, 351.1374816894531, 350.6167907714844, 351.20703125, 350.68634033203125, 351.2765808105469, 350.1656494140625, 350.7558898925781, 353.20037841796875, 355.64581298828125, 358.20257568359375, 358.0912780761719, 360.64801025390625, 363.0934753417969, 365.65020751953125, 368.0956726074219, 370.5411071777344, 370.5411071777344, 372.986572265625, 375.5433044433594, 377.98876953125, 380.4342041015625, 380.4342041015625, 382.8796691894531, 385.4364013671875, 387.8818664550781, 390.4385986328125, 392.8840637207031, 392.77276611328125, 395.3294982910156, 397.77496337890625, 400.3316955566406, 402.77716064453125, 402.77716064453125, 405.22259521484375, 407.6680603027344, 410.22479248046875, 415.439453125, 415.439453125, 422.8108215332031, 430.18218994140625, 430.7344970703125, 438.1058654785156, 438.65814208984375, 445.47723388671875, 446.0295104980469, 453.4009094238281, 460.77227783203125, 461.3245544433594, 468.1436462402344, 468.6959228515625, 476.0672912597656, 476.6195983886719, 483.990966796875, 491.3623352050781, 491.3623352050781, 498.73370361328125, 499.2859802246094, 506.6573486328125, 514.0287475585938, 514.0287475585938, 521.0413208007813, 518.8933715820313, 520.8358154296875, 518.6878662109375, 520.6303100585938, 524.720703125, 522.57275390625, 524.5151977539063, 522.3672485351563, 524.3096923828125, 524.3096923828125, 526.2521362304688, 528.194580078125, 526.046630859375, 527.9890747070313, 527.9890747070313, 529.9315795898438, 531.8740234375, 527.9345703125, 528.3178100585938, 523.3692626953125, 528.7011108398438, 523.7525634765625, 524.1358032226563, 524.5191040039063, 519.570556640625, 524.90234375, 526.3055419921875, 535.393310546875, 536.8253173828125, 545.9130249023438, 555.0007934570313, 555.0007934570313, 544.0155029296875, 539.9760131835938, 527.6437377929688, 515.3114013671875, 515.3114013671875, 502.9790954589844, 498.9396057128906, 486.6072998046875, 482.56781005859375, 474.2749938964844, 461.94268798828125, 457.9031982421875, 445.5708923339844, 451.6588439941406, 456.926025390625, 456.926025390625, 462.1932373046875, 467.4604187011719, 474.8174133300781, 480.0846252441406, 480.0846252441406, 485.351806640625, 490.6190185546875, 497.97601318359375, 503.24322509765625, 510.6002197265625, 508.5104064941406, 515.867431640625, 519.304443359375, 512.444580078125, 504.4488220214844, 505.5846862792969, 497.58892822265625, 490.7290344238281, 482.7332763671875, 476.12286376953125, 477.71112060546875, 469.7757873535156, 463.4287109375, 455.4933776855469, 449.14630126953125, 442.7992248535156, 442.7992248535156, 436.4521484375, 429.53753662109375, 446.58282470703125, 455.9056091308594, 463.62811279296875, 480.67340087890625, 489.9961853027344, 507.0414733886719, 516.3642578125, 533.4095458984375, 533.4095458984375, 550.454833984375, 567.5001220703125, 571.4378662109375, 584.361083984375, 584.361083984375, 597.2843017578125, 610.20751953125, 611.1687622070313, 624.0919799804688, 625.05322265625, 637.01513671875, 637.9763793945313, 646.7108764648438, 647.6660766601563, 647.3138427734375, 648.6212158203125, 648.26904296875, 649.2241821289063, 648.8720092773438, 649.8271484375, 650.4323120117188, 650.4451904296875, 650.7302856445313, 650.7431640625, 651.0281982421875, 651.3132934570313, 651.3132934570313, 651.598388671875, 651.6112670898438, 651.8963623046875, 651.9092407226563, 652.1814575195313, 652.466552734375, 652.4793701171875, 652.7644653320313, 652.77734375, 653.0624389648438, 653.0624389648438, 658.57861328125, 667.827880859375, 674.3362426757813, 682.6735229492188, 682.6735229492188, 690.706787109375, 698.7400512695313, 703.7570190429688, 711.790283203125, 711.790283203125, 719.8235473632813, 724.8404541015625, 732.8737182617188, 740.906982421875, 745.9239501953125, 748.9402465820313, 753.9572143554688, 761.990478515625, 767.0073852539063, 775.0406494140625, 778.0570068359375, 783.0739135742188, 791.107177734375, 796.1241455078125, 804.1574096679688, 811.311767578125, 811.311767578125, 815.4053955078125, 821.2867431640625, 826.0628662109375, 831.9441528320313, 830.8389892578125, 835.5838623046875, 841.2072143554688, 842.4376831054688, 838.41064453125, 839.9901123046875, 835.963134765625, 833.5155639648438, 831.0680541992188, 827.041015625, 824.5934448242188, 824.5934448242188, 822.1459350585938, 819.5858764648438, 815.3297119140625, 811.141357421875, 811.141357421875, 806.9530029296875, 802.6968383789063, 798.5084838867188, 794.3201293945313, 790.3538818359375, 790.4912109375, 786.6445922851563, 782.9352416992188, 779.2258911132813, 775.3792724609375, 775.5165405273438, 771.669921875, 767.9605712890625, 761.8518676757813, 753.7858276367188, 749.8512573242188, 749.8512573242188, 749.1210327148438, 750.7271728515625, 749.9969482421875, 751.6030883789063, 749.2667236328125, 748.5364379882813, 750.1426391601563, 749.4124145507813, 751.0185546875, 748.68212890625, 750.7106323242188, 752.1802368164063, 754.5545654296875, 756.0242309570313, 758.3985595703125, 758.3985595703125, 760.77294921875, 763.1473388671875, 763.5713500976563, 762.7559204101563, 762.7559204101563, 761.9404296875, 759.0029907226563, 755.0189819335938, 751.0349731445313, 747.9779663085938, 747.0509643554688, 743.9939575195313, 740.0099487304688, 736.0259399414063, 732.9689331054688, 732.0419311523438, 728.9849243164063, 725.0009155273438, 721.8912353515625, 715.8291015625, 713.538330078125, 708.7815551757813, 701.7340087890625, 696.9772338867188, 689.9296264648438, 684.0941772460938, 682.882080078125, 675.8345336914063, 670.5283203125, 663.745361328125, 657.0677490234375, 656.96240234375, 649.9351196289063, 643.5018920898438, 636.7189331054688, 630.0413818359375, 623.2584228515625, 623.2584228515625, 616.4754638671875, 609.6925659179688, 603.0149536132813, 600.7312622070313, 600.7312622070313, 596.4725952148438, 591.901611328125, 588.8709716796875, 587.9940185546875, 587.9940185546875, 587.1170654296875, 585.282470703125, 584.405517578125, 583.528564453125, 581.6939697265625, 582.651611328125, 580.8170166015625, 579.9400634765625, 578.10546875, 577.2285766601563, 585.3715209960938, 577.8408813476563, 581.4414672851563, 573.9107666015625, 577.5113525390625, 570.9285278320313, 581.1119384765625, 584.7125244140625, 577.1818237304688, 578.9949340820313, 570.6419067382813, 578.124267578125, 587.1436157226563, 593.4583740234375, 609.5010986328125, 618.6192626953125, 634.6619873046875, 634.6619873046875, 650.7047119140625, 666.7474365234375, 675.8656005859375, 691.9083251953125, 691.9083251953125, 707.9510498046875, 717.0691528320313, 733.1118774414063, 749.1546630859375, 749.1546630859375, 765.1973876953125, 774.3154907226563, 787.0402221679688, 798.6826171875, 804.4361572265625, 810.3250732421875, 816.07861328125, 824.886962890625, 823.3987426757813, 820.3632202148438, 819.9435424804688, 812.9020385742188, 805.4408569335938, 798.3992919921875, 790.9381103515625, 783.8966064453125, 783.4769897460938, 776.0158081054688, 768.9742431640625, 761.5130615234375, 754.4715576171875, 754.0519409179688, 746.5907592773438, 740.1903076171875, 733.9413452148438, 728.7279052734375, 727.6923828125, 722.4789428710938, 709.4990844726563, 694.1107177734375, 679.8826904296875, 664.4943237304688, 664.4943237304688, 651.186279296875, 641.3364868164063, 629.4666137695313, 617.5967407226563, 617.5967407226563, 605.7268676757813, 595.8770751953125, 584.0072021484375, 572.1373291015625, 562.2875366210938, 560.2675170898438, 550.4176635742188, 538.5477905273438, 528.697998046875, 537.9297485351563, 549.6194458007813, 551.8643798828125, 565.7990112304688, 568.0439453125, 581.9785766601563, 581.9785766601563, 590.503173828125, 591.0770263671875, 590.7994995117188, 591.3734130859375, 591.0958862304688, 591.9473266601563, 592.5211791992188, 592.2437133789063, 592.8175659179688, 592.5401000976563, 586.2522583007813, 587.6083984375, 575.6853637695313, 563.7623291015625, 565.1184692382813, 553.1954345703125, 553.1954345703125, 541.2723999023438, 542.6284790039063, 530.7055053710938, 518.782470703125, 518.782470703125, 506.8594665527344, 508.2155456542969, 496.29254150390625, 484.3695373535156, 485.7256164550781, 472.4465026855469, 473.8026123046875, 461.87957763671875, 463.2356872558594, 451.3126525878906, 438.0335693359375, 439.3896484375, 427.4666442871094, 428.8227233886719, 416.89971923828125, 416.89971923828125, 404.9766845703125, 393.0536804199219, 394.4097900390625, 382.48675537109375, 383.8428649902344, 370.5637512207031, 358.6407165527344, 359.996826171875, 348.0738220214844, 349.4299011230469, 336.1507873535156, 337.50689697265625, 325.5838623046875, 313.6608581542969, 315.0169372558594, 303.09393310546875, 303.09393310546875, 291.1709289550781, 292.5270080566406, 280.60400390625, 280.9868469238281, 280.9868469238281, 290.8172302246094, 306.88433837890625, 316.7147216796875, 326.54510498046875, 326.54510498046875, 336.3755187988281, 352.442626953125, 362.27301025390625, 378.3401184082031, 385.5514221191406, 360.77899169921875, 379.67657470703125, 373.8017578125, 392.6993408203125, 386.82452392578125, 362.0520935058594, 380.9496765136719, 375.0748596191406, 393.9724426269531, 388.0976257324219, 406.9952087402344, 382.2227783203125, 378.92376708984375, 403.08575439453125, 413.9368591308594, 438.0988464355469, 424.7879943847656, 448.949951171875, 459.80108642578125, 470.6521911621094, 494.8141784667969, 481.5032958984375, 505.665283203125, 516.5164184570313, 527.3674926757813, 551.5294799804688, 562.380615234375, 562.380615234375, 573.2317504882813, 597.3936767578125, 608.2448120117188, 619.095947265625, 619.095947265625, 629.947021484375, 654.1090087890625, 664.9601440429688, 689.1221313476563, 699.9732055664063, 686.662353515625, 710.8243408203125, 721.6754760742188, 728.2883911132813, 731.0348510742188, 730.1028442382813, 733.7813110351563, 736.5277709960938, 740.206298828125, 742.9527587890625, 746.6312255859375, 745.69921875, 744.5579833984375, 745.7761840820313, 743.572509765625, 744.7907104492188, 741.3688354492188, 742.5870361328125, 738.816650390625, 732.6488037109375, 734.4229736328125, 726.4808959960938, 728.255126953125, 722.0872192382813, 715.9193115234375, 717.6935424804688, 731.8507080078125, 731.8507080078125, 749.3787841796875, 763.3001708984375, 768.3211059570313, 771.0064697265625, 771.0064697265625, 773.6917724609375, 773.207763671875, 775.8931274414063, 775.4091186523438, 778.0944213867188, 781.2637329101563, 780.77978515625, 783.465087890625, 782.9811401367188, 785.6664428710938, 788.8357543945313, 788.3517456054688, 791.0370483398438, 790.5531005859375, 793.2384033203125, 793.2384033203125, 795.9237670898438, 798.6090698242188, 798.1250610351563, 800.8104248046875, 800.326416015625, 803.4957275390625, 803.01171875, 805.6970825195313, 808.3823852539063, 807.8983764648438, 811.0676879882813, 810.583740234375, 813.8801879882813, 817.26953125, 817.1636352539063, 820.5530395507813, 820.5530395507813, 823.9423828125, 823.8365478515625, 827.2258911132813, 830.615234375, 830.615234375, 834.004638671875, 833.8987426757813, 837.2880859375, 837.1822509765625, 840.677490234375, 844.0668334960938, 843.9609985351563, 847.350341796875, 847.2444458007813, 850.6338500976563, 854.1290893554688, 854.023193359375, 857.4125366210938, 857.3067016601563, 860.696044921875, 860.696044921875, 864.08544921875, 867.4747924804688, 867.368896484375, 870.75830078125, 870.6524047851563, 874.1476440429688, 874.0418090820313, 866.2053833007813, 844.4716796875, 842.38525390625, 827.9110107421875, 825.8245239257813, 809.2638549804688, 792.7031860351563, 790.61669921875, 774.0559692382813, 774.0559692382813, 757.4953002929688, 755.4088134765625, 738.84814453125, 722.2874145507813, 722.2874145507813]],
        seriesLabels: ["Profile 1"],
        xAxisLabel: "Distance",
        yAxisLabel: "Elevation",
        width: 700,
        height: 500,
        drawPoints: false,
        drawGridlines: true,
        drawLegend: false,
        drawGreyBackground: false,
        parentId: "graph"
      };
      function update(svg) {
        // which of the series labels is longest?
        var maxSeriesLabelLength = 0;
        var a;
        for (a = 0; a < plot.seriesLabels.length; a++) {
          var sl = plot.seriesLabels[a];
          if (sl.length > maxSeriesLabelLength) { maxSeriesLabelLength = sl.length; }
        }
        var plotLeftMargin = 70.0;
        var plotRightMargin = plot.drawLegend ? 65.0 + maxSeriesLabelLength * 7 : 50.0;
        var plotBottomMargin = 70.0;
        var plotTopMargin = 40.0;
        var plotWidth = plot.width - plotLeftMargin - plotRightMargin;
        var plotHeight = plot.height - plotBottomMargin - plotTopMargin;
        var originX = plotLeftMargin;
        var originY = plotTopMargin + plotHeight;
        var tickLen = 8.0;
        var minorTickLen = tickLen * 0.65;

        // If there are no series labels, treat it as one series.
        if (plot.seriesLabels.length === 0) {
					plot.drawLegend = false;
				}

        // colors
        var lineColor = '#47a3ff'; //'#377eb8'; // '#729ece'; // '#1f77b4'; //'#47a3ff'; //'rgb(2,145,205)';
        var highlightColor = '#ff7f00';
        var btnColor = 'rgb(170,170,170)';
        var btnHoverColor = 'rgb(150,150,150)';
        var plotBackgroundColor = 'rgb(255,255,255)';
        if (plot.drawGreyBackground) {
          plotBackgroundColor = '#CCC';
        }
        var chartBackgroundColor = 'white';
        // var gridLineColor = 'rgb(120,120,120)';
        // if (plot.drawGreyBackground) {
          var gridLineColor = '#EEE';
        // }
        var trendlineColor = 'DimGray';
        if (plot.drawGreyBackground) {
          trendlineColor = 'DimGray';
        }
        var showValueClr = "black";
        // if (plot.drawGreyBackground) {
        //   showValueClr = '#FFF';
        // }

        // Gridlines
        // var gridlineDash = '1, 5';
        // if (plot.drawGreyBackground) {
          var gridlineDash = 'none';
        // }

        var tableau20 = [[31, 119, 180], [255, 127, 14],
             [44, 160, 44], [214, 39, 40],
             [148, 103, 189], [140, 86, 75],
             [227, 119, 194], [127, 127, 127],
             [188, 189, 34], [23, 190, 207]];

        var regularOpacity = 1.0;
        var deselectedOpacity = 0.10;


        // create the svg element
        var svgns = "http://www.w3.org/2000/svg";
        if (svg == null) {
          svg = document.createElementNS(svgns, "svg");
        } else {
          while (svg.lastChild) {
              svg.removeChild(svg.lastChild);
          }
        }
        svg.setAttribute('width', `${plot.width}`);
        svg.setAttribute('height', `${plot.height}`);
        var div = document.getElementById(plot.parentId);
        if (div != null) {
          div.appendChild(svg);
        } else {
          // add it to the body of the document
          document.querySelector("body").appendChild(svg);
        }

        // how many series are there?
        var numSeries = plot.dataY.length;

        // if dataX is empty, fill it with the series 1, 2, 3, 4, ...
        if (plot.dataX.length == 0) {
          for (s = 0; s < numSeries; s++) {
            var seriesXData = [];
            for (a = 0; a < plot.dataY[s].length; a++) {
              seriesXData.push(a + 1);
            }
            plot.dataX.push(seriesXData);
          }
        }

        // style
        var style = document.createElement("style");
        let styleString = `
        text {
          font-family:Sans,Arial;
        }
        .axisLabel {
          font-weight: normal;
        }
        .xTickLabel {
          fill: black;
          font-size: 85%;
          font-weight: lighter;
        }
        .yTickLabel {
          fill: black;
          font-size: 85%;
          font-weight: lighter;
        }
        .gridLine {
          stroke: ${gridLineColor};
          stroke-dasharray: ${gridlineDash};
          stroke-width: 0.8;
        }
        .tick {
          stroke: black;
          stroke-width: 0.5;
        }
        #plotBorder {
          fill: none;
          stroke: black;
          stroke-width: 0.5;
        }
        #showValue {
          font-size: 85%;
          fill: ${showValueClr};
        }
        #context-menu {
          position:absolute;
          display:none;
        }
        #context-menu ul {
          list-style:none;
          margin:0;
          padding:0;
          background: #EFEFEF;
          opacity: 0.90;
        }
        #context-menu {
          border:solid 1px #CCC;
        }
        #context-menu li {
          font-family:Sans,Arial;
          font-size: 75%;
          text-align: left;
          color:#000;
          display:block;
          padding:5px 15px;
          border-bottom:solid 1px #CCC;
        }
        #context-menu li:last-child {
          border:none;
        }
        #context-menu li:hover {
          background:#007AFF;
          color:#FFF;
        }
        `;

        var dataPointHoverWidth = 4.0;
        if (!plot.drawPoints) {
          dataPointHoverWidth = 6.0;
        }
        var s;
        for (s = 0; s < numSeries; s++) {
          var clrNum = s % tableau20.length;
          if (plot.seriesLabels.length === 0) {
            // If there are no series labels, treat it as one series.
						clrNum = 0;
					}
          let clr = `rgb(${tableau20[clrNum][0]},${tableau20[clrNum][1]},${tableau20[clrNum][2]})`;

          styleString += `
          .seriesLine${s} {
            fill: none;
            stroke-width:1;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLine${s}:hover {
            fill: none;
            stroke-width:2;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLineThick${s} {
            fill: none;
            stroke-width:2;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLineThick${s}:hover {
            fill: none;
            stroke-width:3;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .dataPoint${s} {
            fill: ${clr};
            stroke-width:0;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .dataPoint${s}:hover {
            fill: red;
            stroke-width:${dataPointHoverWidth};
            stroke: red;
            opacity:1.0;
          }
          `;
        }
        style.innerHTML = styleString;
        svg.appendChild(style);
        svg.id = "plotSvg";

        // background
        var background = document.createElementNS(svgns, "rect");
        background.setAttribute('width', plot.width);
        background.setAttribute('height', plot.height);
        background.style.fill = chartBackgroundColor;
        svg.appendChild(background);

        // translate the origin point
        var g = document.createElementNS(svgns, "g");
        g.setAttribute('id', 'transform');
        g.setAttribute('transform', `translate(${originX},${originY})`);
        svg.appendChild(g);

        // plot background
        var plotBackground = document.createElementNS(svgns, "rect");
        plotBackground.setAttribute('id', 'plotBackground');
        plotBackground.setAttribute('x', 0.0);
        plotBackground.setAttribute('y', -plotHeight);
        plotBackground.setAttribute('width', plotWidth);
        plotBackground.setAttribute('height', plotHeight);
        plotBackground.style.fill = plotBackgroundColor;
        plotBackground.style.stroke = "none";
        g.appendChild(plotBackground);

        // what are the min/max values?
        var xMin = Infinity;
        var xMax = -Infinity;
        var yMin = Infinity;
        var yMax = -Infinity;
        var val = 0;
        var maxNumPoints = 0;
        var totalNumPoints = 0;
        for (s = 0; s < numSeries; s++) {
          var numPoints = Math.min(plot.dataX[s].length, plot.dataY[s].length);
          if (numPoints > maxNumPoints) { maxNumPoints = maxNumPoints; }
          totalNumPoints += numPoints;
          if (numPoints < 2) {
            alert("Too few points for line graph");
            return;
          }
          if (plot.dataX[s].length != plot.dataY[s].length) {
            alert("The x and y data arrays are unequal in length.");
          }
          for (a = 0; a < numPoints; a++) {
              val = plot.dataX[s][a];
              if (val < xMin) { xMin = val; }
              if (val > xMax) { xMax = val; }
              val = plot.dataY[s][a];
              if (val < yMin) { yMin = val; }
              if (val > yMax) { yMax = val; }
          }
        }

        // We don't want a data point to fall on the plot border
        xMin -= 0.0000001;
        yMin -= 0.0000001;
        xMax += 0.0000001;
        yMax += 0.0000001;

        // X axis
        var xAxisTickSpacing = 0.0000001;
        var xAxisNumTicks = 1000;
        var xRange = xMax - xMin;
        a = 0;
        while (xAxisNumTicks > 20) {
          if (a % 2 == 0) {
            xAxisTickSpacing *= 5.0;
          } else {
            xAxisTickSpacing *= 2.0;
          }
          a++;
          xAxisNumTicks = Math.ceil(xRange / xAxisTickSpacing);
        }
        xMin = Math.floor(xMin / xAxisTickSpacing) * xAxisTickSpacing;
        xAxisNumTicks = Math.ceil((xMax - xMin) / xAxisTickSpacing);
        xRange = xAxisTickSpacing * xAxisNumTicks;
        var xSigDigits = Math.max(decimalPlaces(xMin+xAxisTickSpacing), decimalPlaces(xMin+2*xAxisTickSpacing)); //Math.round(0.1 / xAxisTickSpacing);
        if (xSigDigits === 0 && (xMax - xMin) < xAxisNumTicks) { xSigDigits += 1; }
        var dominantTick = 0;
        if (decimalPlaces(xMin) > decimalPlaces(xMin+xAxisTickSpacing)) {
          dominantTick = 1;
        }
        for (a = 0; a <= xAxisNumTicks; a++) {
            // grid line
            if (plot.drawGridlines) {
              if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
                if (a > 0 && a < xAxisNumTicks) {
                  var line = document.createElementNS(svgns, "line");
                  line.setAttribute('x1', (a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y1', 0);
                  line.setAttribute('x2', (a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y2', -plotHeight);
                  line.setAttribute('class', 'gridLine');
                  g.appendChild(line);
                }
              }
            }
            // tick mark
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', (a * xAxisTickSpacing) / xRange * plotWidth);
            line.setAttribute('y1', 0);
            line.setAttribute('x2', (a * xAxisTickSpacing) / xRange * plotWidth);
            if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
              line.setAttribute('y2', tickLen);
            } else {
              line.setAttribute('y2', minorTickLen);
            }
            line.setAttribute('class', 'tick');
            g.appendChild(line);

            // labels
            if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
                // tick label
                var label = document.createElementNS(svgns, "text");
                label.setAttribute('x', (a * xAxisTickSpacing) / xRange * plotWidth);
                label.setAttribute('y', tickLen + 5);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('dominant-baseline', 'hanging');
                label.setAttribute('class', 'xTickLabel');
                label.innerHTML = `${(xMin + a * xAxisTickSpacing).toFixed(xSigDigits)}`;
                g.appendChild(label);
            }
        }

        // Y axis
        var yAxisTickSpacing = 0.0000001;
        var yAxisNumTicks = 1000;
        var yRange = yMax - yMin;
        a = 0;
        while (yAxisNumTicks > 20) {
          if (a % 2 == 0) {
            yAxisTickSpacing *= 5.0;
          } else {
            yAxisTickSpacing *= 2.0;
          }
          a++;
          yAxisNumTicks = Math.ceil(yRange / yAxisTickSpacing);
        }
        yMin = Math.floor(yMin / yAxisTickSpacing) * yAxisTickSpacing;
        yAxisNumTicks = Math.ceil((yMax - yMin) / yAxisTickSpacing);
        yRange = yAxisTickSpacing * yAxisNumTicks;
        var ySigDigits = Math.max(decimalPlaces(yMin+yAxisTickSpacing), decimalPlaces(yMin+2*yAxisTickSpacing));
        if (ySigDigits === 0 && (yMax - yMin) < yAxisNumTicks) { ySigDigits += 1; }
        dominantTick = 0;
        if (decimalPlaces(yMin) > decimalPlaces(yMin+yAxisTickSpacing)) {
          dominantTick = 1;
        }
        for (a = 0; a <= yAxisNumTicks; a++) {
            // grid line
            if (plot.drawGridlines) {
              if (yAxisNumTicks <= 10 || a % 2 == dominantTick) {
                if (a > 0 && a < yAxisNumTicks) {
                  var line = document.createElementNS(svgns, "line");
                  line.setAttribute('x1', 0); //(a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y1', -(a * yAxisTickSpacing) / yRange * plotHeight);
                  line.setAttribute('x2', plotWidth); //(a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y2', -(a * yAxisTickSpacing) / yRange * plotHeight); //-plotHeight);
                  line.setAttribute('class', 'gridLine');
                  g.appendChild(line);
                }
              }
            }
            // tick mark
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', 0);
            line.setAttribute('y1', -(a * yAxisTickSpacing) / yRange * plotHeight);
            if (yAxisNumTicks <= 6 || a % 2 == dominantTick) {
              line.setAttribute('x2', -tickLen);
            } else {
              line.setAttribute('x2', -minorTickLen);
            }
            line.setAttribute('y2', -(a * yAxisTickSpacing) / yRange * plotHeight);
            line.setAttribute('class', 'tick');
            g.appendChild(line);

            // labels
            if (yAxisNumTicks <= 6 || a % 2 == dominantTick) {
                // s += `<text transform="translate(${-tickLen - 5}, ${-(a * yAxisTickSpacing) / maxVal * plotHeight}), rotate(270)" x="0" y="0" text-anchor="middle" dominant-baseline="no-change" class="yTickLabel">${(a * yAxisTickSpacing).toFixed(ySigDigits)}</text>`;
                var label = document.createElementNS(svgns, "text");
                label.setAttribute('transform', `translate(${-tickLen - 5},${-(a * yAxisTickSpacing) / yRange * plotHeight}), rotate(270)`);
                label.setAttribute('x', 0);
                label.setAttribute('y', 0);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('dominant-baseline', 'no-change');
                label.setAttribute('class', 'yTickLabel');
                label.innerHTML = `${(yMin + a * yAxisTickSpacing).toFixed(ySigDigits)}`;
                g.appendChild(label);
            }
        }

        // axis labels
        var xLabel = document.createElementNS(svgns, "text");
        xLabel.setAttribute('x', plotWidth / 2.0);
        xLabel.setAttribute('y', tickLen + 25.0);
        xLabel.setAttribute('text-anchor', 'middle');
        xLabel.setAttribute('dominant-baseline', 'hanging');
        xLabel.setAttribute('class', 'axisLabel');
        xLabel.innerHTML = plot.xAxisLabel;
        g.appendChild(xLabel);

        var yLabel = document.createElementNS(svgns, "text");
        yLabel.setAttribute('transform', `translate(${-tickLen - 28.0},${-plotHeight / 2.0}), rotate(270)`);
        yLabel.setAttribute('x', 0);
        yLabel.setAttribute('y', 0);
        yLabel.setAttribute('text-anchor', 'middle');
        yLabel.setAttribute('class', 'axisLabel');
        yLabel.innerHTML = plot.yAxisLabel;
        g.appendChild(yLabel);

        // text to show values when hover over
        var showValue = document.createElementNS(svgns, "text");
        showValue.setAttribute('x', 10);
        showValue.setAttribute('text-anchor', 'start');

        // draw the line(s)
        var g2 = document.createElementNS(svgns, "g");
        g2.setAttribute('id', 'lines');
        g.appendChild(g2);

        var radius = 3.0;
        if (totalNumPoints > 15) { radius = 2.5; }
        if (!plot.drawPoints) {
          radius = 1.0;
        }
        for (let s = 0; s < numSeries; s++) {
          var numPoints = Math.min(plot.dataX[s].length, plot.dataY[s].length);
          let seriesLine = document.createElementNS(svgns, "polyline");
          var pointsString = `${(plot.dataX[s][0] - xMin) / xRange * plotWidth},${-(plot.dataY[s][0] - yMin) / yRange * plotHeight}`;
          for (let a = 1; a < numPoints; a++) {
            pointsString += ` ${(plot.dataX[s][a] - xMin) / xRange * plotWidth},${-(plot.dataY[s][a] - yMin) / yRange * plotHeight}`
          }
          seriesLine.setAttribute('points', pointsString);
          var seriesLabel = "seriesLine";
          if (!plot.drawPoints) { seriesLabel = "seriesLineThick"; }
          seriesLine.setAttribute('class', `${seriesLabel}${s}`);
          seriesLine.addEventListener('mouseover', function() {
            var s2;
            for (s2 = 0; s2 < numSeries; s2++) {
              if (s2 != s) {
                var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                var i;
                for (i = 0; i < x.length; i++) {
                  x[i].style.opacity = deselectedOpacity;
                }
                x = document.getElementsByClassName(`dataPoint${s2}`);
                for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = deselectedOpacity;
                }
              }
            }
          }, false);
          seriesLine.addEventListener('mouseout', function() {
            var s2;
            for (s2 = 0; s2 < numSeries; s2++) {
              if (s2 != s) {
                var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                var i;
                for (i = 0; i < x.length; i++) {
                  x[i].style.opacity = regularOpacity;
                }
                x = document.getElementsByClassName(`dataPoint${s2}`);
                for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = regularOpacity;
                }
              }
            }
          }, false);
          g2.appendChild(seriesLine);

          // draw the data points
          for (let a = 0; a < numPoints; a++) {
            let c = document.createElementNS(svgns, "circle");
            c.setAttribute('cx', `${(plot.dataX[s][a] - xMin) / xRange * plotWidth}`);
            c.setAttribute('cy', `${-(plot.dataY[s][a] - yMin) / yRange * plotHeight}`);
            c.setAttribute('r', radius);
            c.setAttribute('class', `dataPoint${s}`);
            c.addEventListener('mouseover', function() {
              var s2;
              for (s2 = 0; s2 < numSeries; s2++) {
                if (s2 != s) {
                  var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                  var i;
                  for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = deselectedOpacity;
                  }
                  x = document.getElementsByClassName(`dataPoint${s2}`);
                  for (i = 0; i < x.length; i++) {
                      x[i].style.opacity = deselectedOpacity;
                  }
                }
              }
              showValue.innerHTML = `x: ${(plot.dataX[s][a]).toFixed(xSigDigits+2)}, y: ${(plot.dataY[s][a]).toFixed(ySigDigits+2)}`;
            }, false);
            c.addEventListener('mouseout', function() {
              var s2;
              for (s2 = 0; s2 < numSeries; s2++) {
                if (s2 != s) {
                  var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                  var i;
                  for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = regularOpacity;
                  }
                  x = document.getElementsByClassName(`dataPoint${s2}`);
                  for (i = 0; i < x.length; i++) {
                      x[i].style.opacity = regularOpacity;
                  }
                }
              }
              showValue.innerHTML = "";
            }, false);
            g2.appendChild(c);
          }
        }

        // Show value label
        showValue.setAttribute('id', 'showValue');
        showValue.setAttribute('y', -plotHeight + 20);
        g.appendChild(showValue);

        // plot border
        var plotBorder = document.createElementNS(svgns, "rect");
        plotBorder.setAttribute('x', 0);
        plotBorder.setAttribute('y', -plotHeight);
        plotBorder.setAttribute('width', plotWidth);
        plotBorder.setAttribute('height', plotHeight);
        plotBorder.id = "plotBorder";
        g.appendChild(plotBorder);

        // add a legend
        if (plot.seriesLabels.length > 0 && plot.drawLegend) {
          var legend = document.createElementNS(svgns, "g");
          legend.setAttribute('id', 'legend');
          g.appendChild(legend);
          for (let s = 0; s < numSeries; s++) {
            var y = -(plotHeight - 35 - 23 * (s+1));
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', plotWidth + 10);
            line.setAttribute('y1', y);
            line.setAttribute('x2', plotWidth + 40);
            line.setAttribute('y2', y);
            if (plot.drawPoints) {
              line.setAttribute('class', `seriesLine${s}`);
            } else {
              line.setAttribute('class', `seriesLineThick${s}`);
            }
            legend.appendChild(line);

            if (plot.drawPoints) {
              var c = document.createElementNS(svgns, "circle");
              c.setAttribute('cx', plotWidth+25);
              c.setAttribute('cy', y);
              c.setAttribute('r', radius);
              c.setAttribute('class', `dataPoint${s}`);
              legend.appendChild(c);
            }

            var legendLabel = document.createElementNS(svgns, "text");
            legendLabel.setAttribute('x', plotWidth + 48);
            legendLabel.setAttribute('y', y);
            legendLabel.setAttribute('text-anchor', 'left');
            // legendLabel.setAttribute('text-anchor', 'middle');
            legendLabel.setAttribute('dominant-baseline', 'middle');
            legendLabel.setAttribute('class', 'xTickLabel');
            legendLabel.innerHTML = plot.seriesLabels[s];
            legend.appendChild(legendLabel);
          }
        }

        // Add an invisible context menu to the parentId.
        var cm = document.createElement('div');
        cm.id = 'context-menu';
        cm.className = 'context-menu';
        var list = document.createElement('ul');

        var copyBtn = document.createElement("li");
        copyBtn.innerHTML = "Copy";
        copyBtn.addEventListener('click', function() {
          var content = `<svg xmlns='${svgns}' width='${plot.width}' height='${plot.height}'>\n${svg.innerHTML}\n</svg>`;
          // Create an auxiliary hidden input
          var aux = document.createElement("input");
          // Get the text from the element passed into the input
          aux.setAttribute("value", content);
          // Append the aux input to the body
          document.body.appendChild(aux);
          // Highlight the content
          aux.select();
          // Execute the copy command
          document.execCommand("copy");
          // Remove the input from the body
          document.body.removeChild(aux);
          // Give a notification
          alert("The plot's SVG content has been copied to the clipboard.");
        }, false);
        list.appendChild(copyBtn);

        var gridlineBtn = document.createElement("li");
        var verb = plot.drawGridlines ? "Hide " : "Show ";
        gridlineBtn.innerHTML = verb + "Gridlines";
        gridlineBtn.addEventListener('click', function() {
          plot.drawGridlines = !plot.drawGridlines;
          // update the context menu label
          var verb = plot.drawGridlines ? "Hide " : "Show ";
          gridlineBtn.innerHTML = verb + "Gridlines";
          update(svg);
        }, false);
        list.appendChild(gridlineBtn);

        if (plot.seriesLabels.length > 0) {
          var legendBtn = document.createElement("li");
          var verb = plot.drawLegend ? "Hide " : "Show ";
          legendBtn.innerHTML = verb + "Legend";
          legendBtn.addEventListener('click', function() {
            plot.drawLegend = !plot.drawLegend;
            // update the context menu label
            var verb = plot.drawLegend ? "Hide " : "Show ";
            legendBtn.innerHTML = verb + "Legend";
            update(svg);
          }, false);
          list.appendChild(legendBtn);
        }

        var pointsBtn = document.createElement("li");
        var verb = plot.drawPoints ? "Hide " : "Show ";
        pointsBtn.innerHTML = verb + "Points";
        pointsBtn.addEventListener('click', function() {
          plot.drawPoints = !plot.drawPoints;
          // update the context menu label
          var verb = plot.drawPoints ? "Hide " : "Show ";
          pointsBtn.innerHTML = verb + "Points";
          update(svg);
        }, false);
        list.appendChild(pointsBtn);

        var backgroundColorBtn = document.createElement("li");
        var verb = plot.drawGreyBackground ? "Light " : "Dark ";
        backgroundColorBtn.innerHTML = verb + "Background";
        backgroundColorBtn.addEventListener('click', function() {
          plot.drawGreyBackground = !plot.drawGreyBackground;
          // update the context menu label
          var verb = plot.drawGreyBackground ? "Light " : "Dark ";
          backgroundColorBtn.innerHTML = verb + "Background";
          update(svg);
        }, false);
        list.appendChild(backgroundColorBtn);

        cm.appendChild(list);
        document.getElementById(plot.parentId).appendChild(cm);

        var menu = document.getElementById('context-menu');
        document.onclick = function () {
            menu.style.display = 'none';
        };

        document.getElementById('plotSvg').oncontextmenu = function (evt) {
            evt = (evt) ? evt : ((event) ? event : null);
            var posnX = (evt.pageX) ? evt.pageX : ((evt.offsetX) ? evt.offsetX + 10 : null);
            var posnY = (evt.pageY) ? evt.pageY : ((evt.offsetY) ? evt.offsetY + 10 : null);
            menu.style.left = posnX + 'px';
            menu.style.top = posnY + 'px';
            menu.style.display = 'block';
            if (typeof evt.preventDefault != "undefined") {
                evt.preventDefault();
            } else {
                evt.returnValue = false;
            }
        };
      }

      function decimalPlaces(num) {
        var match = (''+num).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
        if (!match) { return 0; }
        return Math.max(
             0,
             // Number of digits right of decimal point.
             (match[1] ? match[1].length : 0)
             // Adjust for scientific notation.
             - (match[2] ? +match[2] : 0));
      }

      update(null);
    </script></div></body>