<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
        <head>
            <meta content=\"text/html; charset=UTF-8\" http-equiv=\"content-type\">
            <title>Profile</title><style type="text/css">
            h1 {
                font-size: 14pt;
                margin-left: 15px;
                margin-right: 15px;
                text-align: center;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
            }
            h2 {
                font-size: 12pt;
                margin-left: 15px;
                margin-right: 15px;
                text-align: center;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
            }
            p, ol, ul {
                font-size: 12pt;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                margin-left: 15px;
                margin-right: 15px;
            }
            caption {
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                font-size: 12pt;
                margin-left: 15px;
                margin-right: 15px;
            }
            table {
                font-size: 12pt;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                font-family: arial, sans-serif;
                border-collapse: collapse;
                align: center;
            }
            td, th {
                border: 1px solid #222222;
                text-align: centre;
                padding: 8px;
            }
            tr:nth-child(even) {
                background-color: #dddddd;
            }
            tr:hover {
                background-color: lightyellow;
            }
            .bareTd {
                border: 0px solid #222222;
                text-align: centre;
                padding: 8px;
            }
            .bareTr:nth-child(even) {
                background-color: white;
            }
            .bareTr:hover {
                background-color: white;
            }
            .numberCell {
                text-align: right;
            }
            .header {
                font-weight: bold;
                text-align: center;
            }
        </style></head>
        <body>
            <h1>Profile</h1><p><strong>Input Surface</strong>: TopoRaster_Rogaland<br></p><div id='graph' align="center">
    <script>
      var plot = {
        dataX: [[1900.3017067953967, 1950.3096464479072, 2000.3175861004177, 2050.325525752928, 2100.3334654054383, 2150.3414050579486, 2200.349344710459, 2250.357284362969, 2300.3652240154793, 2350.3731636679895, 2400.3811033204997, 2450.38904297301, 2500.39698262552, 2550.4049222780304, 2600.4128619305407, 2650.420801583051, 2700.428741235561, 2750.4366808880714, 2800.4446205405816, 2850.452560193092, 2900.460499845602, 2950.4684394981123, 3000.4763791506225, 3050.4843188031327, 3100.492258455643, 3150.500198108153, 3200.5081377606634, 3250.5160774131737, 3300.524017065684, 3350.531956718194, 3400.5398963707044, 3450.5478360232146, 3500.555775675725, 3550.563715328235, 3600.5716549807453, 3650.5795946332555, 3700.5875342857657, 3750.595473938276, 3800.603413590786, 3850.6113532432964, 3900.6192928958067, 3950.627232548317, 4000.635172200827, 4050.6431118533374, 4100.651051505848, 4150.658991158359, 4200.666930810869, 4250.67487046338, 4300.682810115891, 4350.6907497684015, 4400.698689420912, 4450.706629073423, 4500.7145687259335, 4550.722508378444, 4600.730448030955, 4650.738387683466, 4700.746327335976, 4750.754266988487, 4800.762206640998, 4850.770146293508, 4900.778085946019, 4950.78602559853, 5000.79396525104, 5050.801904903551, 5100.809844556062, 5150.817784208572, 5200.825723861083, 5250.833663513594, 5300.8416031661045, 5350.849542818615, 5400.857482471126, 5450.865422123637, 5500.873361776147, 5550.881301428658, 5600.889241081169, 5650.897180733679, 5700.90512038619, 5750.913060038701, 5800.920999691211, 5850.928939343722, 5900.936878996233, 5950.944818648743, 6000.952758301254, 6050.960697953765, 6100.9686376062755, 6150.976577258786, 6200.984516911297, 6250.9924565638075, 6301.000396216318, 6351.008335868829, 6401.01627552134, 6451.02421517385, 6501.032154826361, 6551.040094478872, 6601.048034131382, 6651.055973783893, 6701.063913436404, 6751.071853088914, 6801.079792741425, 6851.087732393936, 6901.095672046446, 6951.103611698957, 7001.111551351468, 7051.1194910039785, 7101.127430656489, 7151.135370309, 7201.143309961511, 7251.151249614021, 7301.159189266532, 7351.167128919043, 7401.175068571553, 7451.183008224064, 7501.190947876575, 7551.198887529085, 7601.206827181596, 7651.214766834107, 7701.222706486617, 7751.230646139128, 7801.238585791639, 7851.2465254441495, 7901.25446509666, 7951.262404749171, 8001.2703444016815, 8051.278284054192, 8101.286223706703, 8151.294163359214, 8201.302103011723, 8251.310042664234, 8301.317982316745, 8351.325921969255, 8401.333861621766, 8451.341801274277, 8501.349740926787, 8551.357680579298, 8601.365620231809, 8651.37355988432, 8701.38149953683, 8751.389439189341, 8801.397378841852, 8851.405318494362, 8901.413258146873, 8951.421197799384, 9001.429137451894, 9051.437077104405, 9101.445016756916, 9151.452956409426, 9201.460896061937, 9251.468835714448, 9301.476775366958, 9351.48471501947, 9401.49265467198, 9451.50059432449, 9501.508533977001, 9551.516473629512, 9601.524413282023, 9651.532352934533, 9701.540292587044, 9751.548232239555, 9801.556171892065, 9851.564111544576, 9901.572051197087, 9951.579990849597, 10001.587930502108, 10051.595870154619, 10101.60380980713, 10151.61174945964, 10201.61968911215, 10251.627628764661, 10301.635568417172, 10351.643508069683, 10401.651447722194, 10451.659387374704, 10501.667327027215, 10551.675266679726, 10601.683206332236, 10651.691145984747, 10701.699085637258, 10751.707025289768, 10801.714964942279, 10851.72290459479, 10901.7308442473, 10951.738783899811, 11001.746723552322, 11051.754663204832, 11101.762602857343, 11151.770542509854, 11201.778482162365, 11251.786421814875, 11301.794361467386, 11351.802301119897, 11401.810240772407, 11451.818180424918, 11501.826120077429, 11551.83405972994, 11601.84199938245, 11651.84993903496, 11701.857878687471, 11751.865818339982, 11801.873757992493, 11851.881697645003, 11901.889637297514, 11951.897576950025, 12001.905516602535, 12051.913456255046, 12101.921395907557, 12151.929335560068, 12201.937275212578, 12251.945214865089, 12301.9531545176, 12351.96109417011, 12401.969033822621, 12451.976973475132, 12501.984913127642, 12551.992852780153, 12602.000792432664, 12652.008732085174, 12702.016671737685, 12752.024611390196, 12802.032551042706, 12852.040490695217, 12902.048430347728, 12952.056370000239, 13002.06430965275, 13052.07224930526, 13102.08018895777, 13152.088128610281, 13202.096068262792, 13252.104007915303, 13302.111947567813, 13352.119887220324, 13402.127826872835, 13452.135766525345, 13502.143706177856, 13552.151645830367, 13602.159585482877, 13652.167525135388, 13702.175464787899, 13752.18340444041, 13802.19134409292, 13852.19928374543, 13902.207223397942, 13952.215163050452, 14002.223102702963, 14052.231042355474, 14102.238982007984, 14152.246921660495, 14202.254861313006, 14252.262800965516, 14302.270740618027, 14352.278680270538, 14402.286619923048, 14452.29455957556, 14502.30249922807, 14552.31043888058, 14602.318378533091, 14652.326318185602, 14702.334257838113, 14752.342197490623, 14802.350137143134, 14852.358076795645, 14902.366016448155, 14952.373956100666, 15002.381895753177, 15052.389835405687, 15102.397775058198, 15152.405714710709, 15202.41365436322, 15252.42159401573, 15302.42953366824, 15352.437473320751, 15402.445412973262, 15452.453352625773, 15502.461292278284, 15552.469231930794, 15602.477171583305, 15652.485111235816, 15702.493050888326, 15752.500990540837, 15802.508930193348, 15852.516869845858, 15902.524809498369, 15952.53274915088, 16002.54068880339, 16052.548628455901, 16102.556568108412, 16152.564507760922, 16202.572447413433, 16252.580387065944, 16302.588326718454, 16352.596266370965, 16402.604206023476, 16452.612145675987, 16502.620085328497, 16552.628024981008, 16602.63596463352, 16652.64390428603, 16702.65184393854, 16752.65978359105, 16802.66772324356, 16852.675662896072, 16902.683602548583, 16952.691542201093, 17002.699481853604, 17052.707421506115, 17102.715361158625, 17152.723300811136, 17202.731240463647, 17252.739180116158, 17302.74711976867, 17352.75505942118, 17402.76299907369, 17452.7709387262, 17502.77887837871, 17552.78681803122, 17602.794757683732, 17652.802697336243, 17702.810636988754, 17752.818576641264, 17802.826516293775, 17852.834455946286, 17902.842395598796, 17952.850335251307, 18002.858274903818, 18052.86621455633, 18102.87415420884, 18152.88209386135, 18202.89003351386, 18252.89797316637, 18302.905912818882, 18352.913852471393, 18402.921792123903, 18452.929731776414, 18502.937671428925, 18552.945611081435, 18602.953550733946, 18652.961490386457, 18702.969430038967, 18752.977369691478, 18802.98530934399, 18852.9932489965, 18903.00118864901, 18953.00912830152, 19003.01706795403, 19053.025007606542, 19103.032947259053, 19153.040886911564, 19203.048826564074, 19253.056766216585, 19303.064705869096, 19353.072645521606, 19403.080585174117, 19453.088524826628, 19503.09646447914, 19553.10440413165, 19603.11234378416, 19653.12028343667, 19703.12822308918, 19753.13616274169, 19803.144102394202, 19853.152042046713, 19903.159981699224, 19953.167921351735, 20003.175861004245, 20053.183800656756, 20103.191740309267, 20153.199679961777, 20203.207619614288, 20253.2155592668, 20303.22349891931, 20353.23143857182, 20403.23937822433, 20453.24731787684, 20503.255257529352, 20553.263197181863, 20603.271136834373, 20653.279076486884, 20703.287016139395, 20753.294955791906, 20803.302895444416, 20853.310835096927, 20903.318774749438, 20953.32671440195, 21003.33465405446, 21053.34259370697, 21103.35053335948, 21153.35847301199, 21203.3664126645, 21253.374352317012, 21303.382291969523, 21353.390231622034, 21403.398171274544, 21453.406110927055, 21503.414050579566, 21553.421990232076, 21603.429929884587, 21653.437869537098, 21703.44580918961, 21753.45374884212, 21803.46168849463, 21853.46962814714, 21903.47756779965, 21953.485507452162, 22003.493447104673, 22053.501386757183, 22103.509326409694, 22153.517266062205, 22203.525205714715, 22253.533145367226, 22303.541085019737, 22353.549024672247, 22403.556964324758, 22453.56490397727, 22503.57284362978, 22553.58078328229, 22603.5887229348, 22653.59666258731, 22703.604602239822, 22753.612541892333, 22803.620481544844, 22853.628421197354, 22903.636360849865, 22953.644300502376, 23003.652240154886, 23053.660179807397, 23103.668119459908, 23153.67605911242, 23203.68399876493, 23253.69193841744, 23303.69987806995, 23353.70781772246, 23403.715757374972, 23453.723697027483, 23503.731636679993, 23553.739576332504, 23603.747515985015, 23653.755455637525, 23703.763395290036, 23753.771334942547, 23803.779274595057, 23853.787214247568, 23903.79515390008, 23953.80309355259, 24003.8110332051, 24053.81897285761, 24103.82691251012, 24153.834852162632, 24203.842791815143, 24253.850731467654, 24303.858671120164, 24353.866610772675, 24403.874550425186, 24453.882490077696, 24503.890429730207, 24553.898369382718, 24603.90630903523, 24653.91424868774, 24703.92218834025, 24753.93012799276, 24803.93806764527, 24853.94600729778, 24903.953946950292, 24953.961886602803, 25003.969826255314, 25053.977765907825, 25103.985705560335, 25153.993645212846, 25204.001584865357, 25254.009524517867, 25304.017464170378, 25354.02540382289, 25404.0333434754, 25454.04128312791, 25504.04922278042, 25554.05716243293, 25604.065102085442, 25654.073041737953, 25704.080981390463, 25754.088921042974, 25804.096860695485, 25854.104800347995, 25904.112740000506, 25954.120679653017, 26004.128619305528, 26054.13655895804, 26104.14449861055, 26154.15243826306, 26204.16037791557, 26254.16831756808, 26304.17625722059, 26354.184196873102, 26404.192136525613, 26454.200076178124, 26504.208015830634, 26554.215955483145, 26604.223895135656, 26654.231834788166, 26704.239774440677, 26754.247714093188, 26804.2556537457, 26854.26359339821, 26904.27153305072, 26954.27947270323, 27004.28741235574, 27054.295352008252, 27104.303291660763, 27154.311231313273, 27204.319170965784, 27254.327110618295, 27304.335050270805, 27354.342989923316, 27404.350929575827, 27454.358869228337, 27504.366808880848, 27554.37474853336, 27604.38268818587, 27654.39062783838, 27704.39856749089, 27754.4065071434, 27804.414446795912, 27854.422386448423, 27904.430326100934, 27954.438265753444, 28004.446205405955, 28054.454145058466, 28104.462084710976, 28154.470024363487, 28204.477964015998, 28254.48590366851, 28304.49384332102, 28354.50178297353, 28404.50972262604, 28454.51766227855, 28504.525601931062, 28554.533541583573, 28604.541481236083, 28654.549420888594, 28704.557360541105, 28754.565300193615, 28804.573239846126, 28854.581179498637, 28904.589119151147, 28954.597058803658, 29004.60499845617, 29054.61293810868, 29104.62087776119, 29154.6288174137, 29204.63675706621, 29254.644696718722, 29304.652636371233, 29354.660576023743, 29404.668515676254, 29454.676455328765, 29504.684394981276, 29554.692334633786, 29604.700274286297, 29654.708213938808, 29704.71615359132, 29754.72409324383, 29804.73203289634, 29854.73997254885, 29904.74791220136, 29954.75585185387, 30004.763791506382, 30054.771731158893, 30104.779670811404, 30154.787610463914, 30204.795550116425, 30254.803489768936, 30304.811429421447, 30354.819369073957, 30404.827308726468, 30454.83524837898, 30504.84318803149, 30554.851127684, 30604.85906733651, 30654.86700698902, 30704.874946641532, 30754.882886294043, 30804.890825946553, 30854.898765599064, 30904.906705251575, 30954.914644904085, 31004.922584556596, 31054.930524209107, 31104.938463861617, 31154.946403514128, 31204.95434316664, 31254.96228281915, 31304.97022247166, 31354.97816212417, 31404.98610177668, 31454.994041429192, 31505.001981081703, 31555.009920734214, 31605.017860386724, 31655.025800039235, 31705.033739691746, 31755.041679344256, 31805.049618996767, 31855.057558649278, 31905.06549830179, 31955.0734379543, 32005.08137760681, 32055.08931725932, 32105.09725691183, 32155.105196564342, 32205.113136216853, 32255.121075869363, 32305.129015521874, 32355.136955174385, 32405.144894826895, 32455.152834479406, 32505.160774131917, 32555.168713784427, 32605.176653436938, 32655.18459308945, 32705.19253274196, 32755.20047239447, 32805.20841204698, 32855.21635169949, 32905.224291352, 32955.23223100451, 33005.24017065702, 33055.248110309534, 33105.256049962045, 33155.263989614556, 33205.271929267066, 33255.27986891958, 33305.28780857209, 33355.2957482246, 33405.30368787711, 33455.31162752962, 33505.31956718213, 33555.32750683464, 33605.33544648715, 33655.34338613966, 33705.35132579217, 33755.359265444684, 33805.367205097195, 33855.375144749705, 33905.383084402216, 33955.39102405473, 34005.39896370724, 34055.40690335975, 34105.41484301226, 34155.42278266477, 34205.43072231728, 34255.43866196979, 34305.4466016223, 34355.45454127481, 34405.46248092732, 34455.47042057983, 34505.478360232344, 34555.486299884855, 34605.494239537366, 34655.502179189876, 34705.51011884239, 34755.5180584949, 34805.52599814741, 34855.53393779992, 34905.54187745243, 34955.54981710494, 35005.55775675745, 35055.56569640996, 35105.57363606247, 35155.58157571498, 35205.589515367494, 35255.597455020004, 35305.605394672515, 35355.613334325026, 35405.62127397754, 35455.62921363005, 35505.63715328256, 35555.64509293507, 35605.65303258758, 35655.66097224009, 35705.6689118926, 35755.67685154511, 35805.68479119762, 35855.69273085013, 35905.70067050264, 35955.708610155154, 36005.716549807665, 36055.724489460175, 36105.732429112686, 36155.7403687652, 36205.74830841771, 36255.75624807022, 36305.76418772273, 36355.77212737524, 36405.78006702775, 36455.78800668026, 36505.79594633277, 36555.80388598528, 36605.81182563779, 36655.8197652903, 36705.827704942814, 36755.835644595325, 36805.843584247836, 36855.85152390035, 36905.85946355286, 36955.86740320537, 37005.87534285788, 37055.88328251039, 37105.8912221629, 37155.89916181541, 37205.90710146792, 37255.91504112043, 37305.92298077294, 37355.93092042545, 37405.938860077964, 37455.946799730475, 37505.954739382985, 37555.962679035496, 37605.97061868801, 37655.97855834052, 37705.98649799303, 37755.99443764554, 37806.00237729805, 37856.01031695056, 37906.01825660307, 37956.02619625558, 38006.03413590809, 38056.0420755606, 38106.05001521311, 38156.057954865624, 38206.065894518135, 38256.073834170646, 38306.081773823156, 38356.08971347567, 38406.09765312818, 38456.10559278069, 38506.1135324332, 38556.12147208571, 38606.12941173822, 38656.13735139073, 38706.14529104324, 38756.15323069575, 38806.16117034826, 38856.169110000774, 38906.177049653284, 38956.184989305795, 39006.192928958306, 39056.20086861082, 39106.20880826333, 39156.21674791584, 39206.22468756835, 39256.23262722086, 39306.24056687337, 39356.24850652588, 39406.25644617839, 39456.2643858309, 39506.27232548341, 39556.28026513592, 39606.288204788434, 39656.296144440945, 39706.304084093455, 39756.312023745966, 39806.31996339848, 39856.32790305099, 39906.3358427035, 39956.34378235601, 40006.35172200852, 40056.35966166103, 40106.36760131354, 40156.37554096605, 40206.38348061856, 40256.39142027107, 40306.399359923584, 40356.407299576094, 40406.415239228605, 40456.423178881116, 40506.43111853363, 40556.43905818614, 40606.44699783865, 40656.45493749116, 40706.46287714367, 40756.47081679618, 40806.47875644869, 40856.4866961012, 40906.49463575371, 40956.50257540622, 41006.51051505873, 41056.518454711244, 41106.526394363755, 41156.534334016265, 41206.542273668776, 41256.55021332129, 41306.5581529738, 41356.56609262631, 41406.57403227882, 41456.58197193133, 41506.58991158384, 41556.59785123635, 41606.60579088886, 41656.61373054137, 41706.62167019388, 41756.62960984639, 41806.637549498904, 41856.645489151415, 41906.653428803926, 41956.661368456436, 42006.66930810895, 42056.67724776146, 42106.68518741397, 42156.69312706648, 42206.70106671899, 42256.7090063715, 42306.71694602401, 42356.72488567652, 42406.73282532903, 42456.74076498154, 42506.748704634054, 42556.756644286565, 42606.764583939075, 42656.772523591586, 42706.7804632441, 42756.78840289661, 42806.79634254912, 42856.80428220163, 42906.81222185414, 42956.82016150665, 43006.82810115916, 43056.83604081167, 43106.84398046418, 43156.85192011669, 43206.8598597692, 43256.867799421714, 43306.875739074225, 43356.883678726736, 43406.891618379246]],
        dataY: [[292.11968994140625, 290.93310546875, 287.0460205078125, 285.7120361328125, 282.33905029296875, 281.5467529296875, 280.0052795410156, 279.640869140625, 279.48980712890625, 279.33355712890625, 279.9996032714844, 279.9898376464844, 278.5172424316406, 279.00921630859375, 277.32611083984375, 277.0097961425781, 274.7429504394531, 274.19171142578125, 276.64532470703125, 283.0567932128906, 288.1851806640625, 309.78631591796875, 309.78631591796875, 340.3494567871094, 350.5291748046875, 380.6272888183594, 390.88226318359375, 390.88226318359375, 381.4469909667969, 376.9465026855469, 358.7228698730469, 339.2302551269531, 328.4180908203125, 321.3725891113281, 312.91070556640625, 308.1588439941406, 296.8814392089844, 283.0873718261719, 282.3998718261719, 267.7611083984375, 251.959228515625, 240.7396697998047, 234.62173461914063, 235.48336791992188, 234.71827697753906, 237.8392333984375, 240.0056610107422, 243.44503784179688, 244.1163330078125, 249.57025146484375, 262.1862487792969, 264.9597473144531, 296.518798828125, 304.1960144042969, 338.20770263671875, 339.7403869628906, 367.7662353515625, 400.3147277832031, 416.9252014160156, 435.6361083984375, 447.35791015625, 460.0264587402344, 455.6337890625, 450.96124267578125, 443.763916015625, 443.763916015625, 440.6603088378906, 439.9846496582031, 438.22637939453125, 448.1979064941406, 448.1979064941406, 478.0848083496094, 472.6137390136719, 477.03167724609375, 471.4085388183594, 460.73638916015625, 475.5389404296875, 466.427490234375, 479.6585998535156, 478.5337219238281, 480.4818115234375, 486.512451171875, 486.6065673828125, 489.4035949707031, 493.7642822265625, 502.5769348144531, 502.5769348144531, 513.327392578125, 517.7923583984375, 519.4860229492188, 524.265625, 524.659423828125, 537.2858276367188, 546.7625732421875, 543.2474365234375, 554.3616333007813, 559.6201782226563, 561.8772583007813, 568.6497192382813, 575.5103759765625, 575.2511596679688, 573.4844970703125, 568.752685546875, 568.752685546875, 564.8604736328125, 562.27734375, 556.447265625, 550.1888427734375, 550.1888427734375, 546.9779663085938, 558.4351196289063, 558.4668579101563, 540.9698486328125, 540.9698486328125, 521.8197631835938, 513.630615234375, 499.90966796875, 488.13409423828125, 469.8199462890625, 469.86505126953125, 461.9466247558594, 479.3963928222656, 484.75823974609375, 526.2196655273438, 556.1378173828125, 543.588134765625, 527.2788696289063, 522.4656982421875, 523.5339965820313, 523.5339965820313, 526.72412109375, 526.0744018554688, 541.2024536132813, 553.1978149414063, 556.508544921875, 542.6802978515625, 541.7255859375, 539.4869995117188, 541.413330078125, 541.5406494140625, 541.9244384765625, 542.925537109375, 558.2489013671875, 560.6007080078125, 543.2950439453125, 524.2084350585938, 524.2084350585938, 504.65643310546875, 486.06195068359375, 458.1636962890625, 415.1439208984375, 415.1439208984375, 358.7235412597656, 309.98773193359375, 253.89047241210938, 209.19012451171875, 209.19012451171875, 169.92787170410156, 137.91380310058594, 104.11274719238281, 76.44973754882813, 56.8087043762207, 56.80254364013672, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 39.79435348510742, 81.3591079711914, 100.3745346069336, 130.71588134765625, 130.71588134765625, 121.45056915283203, 92.212646484375, 77.60820007324219, 72.30457305908203, 57.5660514831543, 52.11669921875, 25.58778953552246, 13.986665725708008, 2.3760128021240234, -2.4049408435821533, -4.946868896484375, -8.084249496459961, -12.339349746704102, -15.971932411193848, -17.63272476196289, -19.12065887451172, -20.538414001464844, -22.69607162475586, -23.686574935913086, -24.624759674072266, -24.71680450439453, -24.71680450439453, -23.956390380859375, -23.731521606445313, -21.07787322998047, -16.38001251220703, -16.38001251220703, -9.439336776733398, -6.911002159118652, 1.2995779514312744, 2.8380117416381836, 9.016326904296875, 14.672974586486816, 13.285480499267578, 16.33500862121582, 16.05557632446289, 22.342432022094727, 22.342432022094727, 31.86031723022461, 50.81736373901367, 85.99532318115234, 121.52774047851563, 121.52774047851563, 158.4029083251953, 191.17198181152344, 242.18380737304688, 266.49359130859375, 315.1556091308594, 284.8336181640625, 329.76531982421875, 339.12921142578125, 342.83331298828125, 369.8714599609375, 336.623779296875, 354.143310546875, 351.91845703125, 374.11407470703125, 401.4993896484375, 400.8402404785156, 425.76641845703125, 418.8196716308594, 407.63397216796875, 393.8954162597656, 417.7867126464844, 417.7867126464844, 441.08453369140625, 432.57086181640625, 445.9228515625, 434.0736389160156, 455.818603515625, 456.4076232910156, 441.0448303222656, 435.1204833984375, 423.78094482421875, 412.37213134765625, 419.48358154296875, 395.4737854003906, 383.3529357910156, 357.2563781738281, 350.61663818359375, 350.61663818359375, 350.2190856933594, 358.2283630371094, 355.5473937988281, 342.72674560546875, 342.72674560546875, 327.4593200683594, 327.4593200683594, 327.4593200683594, 327.4593200683594, 327.4593200683594, 327.4593200683594, 329.3450012207031, 327.4593200683594, 327.4593200683594, 345.1070556640625, 334.2436218261719, 355.92431640625, 372.7208557128906, 397.37744140625, 411.05328369140625, 423.3251647949219, 423.3251647949219, 442.7167053222656, 467.09783935546875, 476.1323547363281, 484.97088623046875, 484.97088623046875, 489.80767822265625, 471.5487365722656, 450.6231689453125, 453.153564453125, 472.4144592285156, 495.5838623046875, 483.4916076660156, 462.8608703613281, 437.8707580566406, 409.6178283691406, 412.01025390625, 392.1997985839844, 401.1256103515625, 393.7866516113281, 402.1548767089844, 402.1548767089844, 401.0668029785156, 397.01837158203125, 388.07904052734375, 385.1879577636719, 383.27655029296875, 381.96246337890625, 381.3660888671875, 380.0008544921875, 381.0970458984375, 382.13714599609375, 385.7481689453125, 388.9044189453125, 409.7634582519531, 451.40106201171875, 471.06494140625, 503.2844543457031, 526.318115234375, 574.5057373046875, 580.2968139648438, 590.849853515625, 575.4789428710938, 575.4789428710938, 547.788330078125, 521.193359375, 501.6510314941406, 493.4351806640625, 493.4351806640625, 489.278564453125, 476.9645690917969, 459.6398010253906, 442.5808410644531, 442.02911376953125, 438.3135070800781, 438.3135070800781, 438.3135070800781, 438.3135070800781, 439.9292907714844, 439.9292907714844, 444.1987609863281, 457.2731628417969, 480.2427673339844, 502.05120849609375, 502.05120849609375, 527.6403198242188, 555.4981079101563, 577.6505737304688, 596.517333984375, 608.203369140625, 604.370849609375, 615.4518432617188, 603.4531860351563, 600.1886596679688, 600.5226440429688, 609.3302001953125, 612.3837890625, 644.5861206054688, 644.1234130859375, 656.3875732421875, 671.9964599609375, 649.6969604492188, 657.969970703125, 660.7035522460938, 692.7166748046875, 700.1197509765625, 700.1197509765625, 684.7125854492188, 672.64794921875, 656.9666748046875, 646.06787109375, 640.8684692382813, 635.516357421875, 638.569091796875, 670.9700927734375, 699.3035278320313, 762.4560546875, 787.2073974609375, 798.8949584960938, 800.619384765625, 799.4212036132813, 792.3431396484375, 792.3431396484375, 795.7474975585938, 815.8656616210938, 830.9136962890625, 824.6329345703125, 824.6329345703125, 811.2545166015625, 799.7054443359375, 791.2230224609375, 791.0882568359375, 786.7240600585938, 794.5186767578125, 792.4486083984375, 799.0521850585938, 798.3717041015625, 795.0548706054688, 797.3731689453125, 790.5760498046875, 781.015625, 777.3187866210938, 778.390625, 769.0772094726563, 768.6734008789063, 768.6384887695313, 765.94384765625, 758.6478881835938, 745.9631958007813, 745.9631958007813, 739.9775390625, 740.0068969726563, 740.0470581054688, 743.150390625, 740.1287231445313, 741.3651123046875, 742.044921875, 736.8668212890625, 724.4913940429688, 710.6971435546875, 710.6971435546875, 701.7910766601563, 699.2949829101563, 694.6905517578125, 694.6905517578125, 694.6905517578125, 694.6905517578125, 694.6905517578125, 694.6905517578125, 694.6905517578125, 694.6905517578125, 694.9884643554688, 702.8218383789063, 721.2630615234375, 738.277587890625, 740.0111694335938, 740.004150390625, 738.4573974609375, 733.2251586914063, 726.3516235351563, 722.2916870117188, 722.2916870117188, 722.2916870117188, 722.0841064453125, 719.9100341796875, 716.1436767578125, 702.1553344726563, 702.1553344726563, 694.2708129882813, 694.2708129882813, 694.4833374023438, 699.311279296875, 699.9351196289063, 701.3973388671875, 702.877197265625, 690.147216796875, 680.9157104492188, 663.73046875, 636.3318481445313, 624.0680541992188, 597.2344360351563, 583.53515625, 577.6954345703125, 577.6954345703125, 579.8477172851563, 576.5849609375, 573.730224609375, 572.7080688476563, 572.7080688476563, 572.7080688476563, 572.7080688476563, 572.7080688476563, 572.7080688476563, 572.7080688476563, 572.7197265625, 574.1242065429688, 579.193115234375, 580.5806274414063, 572.7025146484375, 581.848876953125, 577.0408325195313, 592.6376953125, 582.0026245117188, 576.6092529296875, 585.1118774414063, 566.1842651367188, 561.1572875976563, 547.6728515625, 552.6170654296875, 554.41650390625, 554.41650390625, 562.949462890625, 559.2385864257813, 558.6329345703125, 543.239990234375, 547.2935180664063, 551.4445190429688, 549.9180908203125, 556.7640991210938, 555.5689697265625, 559.2246704101563, 559.9363403320313, 560.0009155273438, 559.10791015625, 559.10791015625, 559.10791015625, 559.10791015625, 559.10791015625, 562.3729248046875, 579.701416015625, 604.9842529296875, 604.9842529296875, 627.1502075195313, 637.8516235351563, 651.636474609375, 670.236083984375, 684.4913330078125, 697.8772583007813, 716.3042602539063, 748.8251342773438, 775.244873046875, 780.1568603515625, 780.9296875, 779.9381713867188, 783.252685546875, 797.0209350585938, 802.0614013671875, 812.2945556640625, 812.0250854492188, 817.5614013671875, 802.8701171875, 773.40869140625, 745.485107421875, 724.7344970703125, 671.51806640625, 641.654052734375, 603.01318359375, 584.103759765625, 580.8165893554688, 575.8380737304688, 567.3444213867188, 590.6368408203125, 595.3255004882813, 605.3572998046875, 601.1641235351563, 602.0521850585938, 610.8836669921875, 606.24365234375, 612.1173095703125, 612.1173095703125, 591.8389892578125, 588.6797485351563, 571.647216796875, 589.8240356445313, 589.8240356445313, 601.8497924804688, 570.7077026367188, 556.8336791992188, 530.8177490234375, 483.6239013671875, 495.05517578125, 447.1066589355469, 407.37188720703125, 362.3067932128906, 322.140625, 325.5690612792969, 279.8294372558594, 228.38253784179688, 178.9643096923828, 127.64276885986328, 133.95578002929688, 95.41314697265625, 80.67389678955078, 48.69746780395508, 36.46458435058594, 10.982256889343262, 22.325164794921875, 8.25875473022461, -10.036565780639648, -16.90506935119629, -28.46613311767578, -21.785442352294922, -27.1910400390625, -37.9997444152832, -43.83705139160156, -52.386634826660156, -57.31963348388672, -57.31963348388672, -61.86518859863281, -66.02188110351563, -72.13214111328125, -75.35640716552734, -75.35640716552734, -78.01134490966797, -81.96805572509766, -83.03152465820313, -83.2171859741211, -83.2171859741211, -82.5213623046875, -82.99937438964844, -80.69575500488281, -77.66844177246094, -75.98004150390625, -74.01449584960938, -71.66200256347656, -66.89111328125, -63.21357345581055, -57.602386474609375, -56.482643127441406, -51.848777770996094, -45.9747314453125, -40.38776779174805, -33.809844970703125, -33.48414611816406, -26.608814239501953, -18.53966522216797, -8.672999382019043, 2.4792962074279785, 18.214401245117188, 14.069185256958008, 27.851573944091797, 55.334808349609375, 84.24002838134766, 121.09638977050781, 113.68809509277344, 144.57223510742188, 163.85719299316406, 180.614013671875, 186.89361572265625, 184.57278442382813, 184.57278442382813, 173.85995483398438, 152.0524139404297, 126.29249572753906, 115.01155853271484, 115.01155853271484, 110.36090087890625, 109.57637786865234, 113.72216033935547, 119.71884155273438, 119.71884155273438, 126.55935668945313, 140.91281127929688, 166.45462036132813, 188.10333251953125, 210.54579162597656, 211.44873046875, 219.53201293945313, 220.7533416748047, 227.56903076171875, 232.2394256591797, 225.99436950683594, 237.77793884277344, 245.39971923828125, 267.97076416015625, 289.6686096191406, 318.4788818359375, 311.3694152832031, 318.13494873046875, 334.9017028808594, 329.8486328125, 347.8820495605469, 339.2522888183594, 362.17340087890625, 393.5782470703125, 433.7798156738281, 471.03167724609375, 474.6086120605469, 507.7169189453125, 536.970947265625, 558.2503051757813, 578.9473876953125, 590.8855590820313, 590.8855590820313, 595.2156372070313, 607.560546875, 629.5964965820313, 648.3399658203125, 648.3399658203125, 659.8876342773438, 661.3369750976563, 660.0061645507813, 659.467529296875, 661.522705078125, 670.360595703125, 675.559814453125, 694.5603637695313, 696.5982055664063, 698.55078125, 700.1271362304688, 698.5189208984375, 681.9860229492188, 672.532470703125, 659.467529296875, 665.194091796875, 659.467529296875, 659.9904174804688, 659.467529296875, 660.0655517578125, 659.467529296875, 663.5025024414063, 676.2266845703125, 671.3193969726563, 682.1475219726563, 681.8384399414063, 697.9796752929688, 696.1325073242188, 704.99169921875, 720.03369140625, 718.9013671875, 724.2649536132813, 721.7791748046875, 709.6365966796875, 676.7116088867188, 660.7086791992188, 622.4598388671875, 622.4598388671875, 598.74365234375, 583.8506469726563, 579.9982299804688, 579.9982299804688, 579.9982299804688, 579.9982299804688, 579.9982299804688, 579.9982299804688, 579.9982299804688, 579.9982299804688, 589.2186279296875, 586.6006469726563, 610.9740600585938, 616.2484130859375, 637.372314453125, 646.2239990234375, 647.0344848632813, 673.1348266601563, 694.4359130859375, 734.1973266601563, 734.1973266601563, 756.0247192382813, 757.2695922851563, 767.2716674804688, 753.3060302734375, 763.6368408203125, 740.4387817382813, 731.5128784179688, 748.2766723632813, 745.3291625976563, 759.0465087890625, 753.9990234375, 762.8798217773438, 774.8858032226563, 779.3399047851563, 788.503173828125, 811.214111328125, 811.214111328125, 815.9629516601563, 822.4129638671875, 806.7015380859375, 793.9911499023438, 793.9911499023438, 773.9472045898438, 779.3945922851563, 770.350830078125, 764.1627197265625, 764.1627197265625, 756.59423828125, 769.4937133789063, 764.4852905273438, 779.2278442382813, 783.964599609375, 775.2015991210938, 791.734130859375, 785.3652954101563, 788.7708740234375, 777.2333374023438, 772.6005859375, 761.5341186523438, 751.0980224609375, 745.2120361328125, 729.9177856445313, 729.9177856445313, 717.06689453125, 699.986572265625, 707.3278198242188, 694.745849609375, 707.7726440429688, 682.2097778320313, 694.9276123046875, 683.9710693359375, 675.9415283203125, 687.677734375, 668.9503173828125, 677.6085205078125, 658.7913818359375, 635.0694580078125, 628.3603515625, 620.0, 620.0]],
        seriesLabels: ["Profile 1"],
        xAxisLabel: "Distance",
        yAxisLabel: "Elevation",
        width: 700,
        height: 500,
        drawPoints: false,
        drawGridlines: true,
        drawLegend: false,
        drawGreyBackground: false,
        parentId: "graph"
      };
      function update(svg) {
        // which of the series labels is longest?
        var maxSeriesLabelLength = 0;
        var a;
        for (a = 0; a < plot.seriesLabels.length; a++) {
          var sl = plot.seriesLabels[a];
          if (sl.length > maxSeriesLabelLength) { maxSeriesLabelLength = sl.length; }
        }
        var plotLeftMargin = 70.0;
        var plotRightMargin = plot.drawLegend ? 65.0 + maxSeriesLabelLength * 7 : 50.0;
        var plotBottomMargin = 70.0;
        var plotTopMargin = 40.0;
        var plotWidth = plot.width - plotLeftMargin - plotRightMargin;
        var plotHeight = plot.height - plotBottomMargin - plotTopMargin;
        var originX = plotLeftMargin;
        var originY = plotTopMargin + plotHeight;
        var tickLen = 8.0;
        var minorTickLen = tickLen * 0.65;

        // If there are no series labels, treat it as one series.
        if (plot.seriesLabels.length === 0) {
					plot.drawLegend = false;
				}

        // colors
        var lineColor = '#47a3ff'; //'#377eb8'; // '#729ece'; // '#1f77b4'; //'#47a3ff'; //'rgb(2,145,205)';
        var highlightColor = '#ff7f00';
        var btnColor = 'rgb(170,170,170)';
        var btnHoverColor = 'rgb(150,150,150)';
        var plotBackgroundColor = 'rgb(255,255,255)';
        if (plot.drawGreyBackground) {
          plotBackgroundColor = '#CCC';
        }
        var chartBackgroundColor = 'white';
        // var gridLineColor = 'rgb(120,120,120)';
        // if (plot.drawGreyBackground) {
          var gridLineColor = '#EEE';
        // }
        var trendlineColor = 'DimGray';
        if (plot.drawGreyBackground) {
          trendlineColor = 'DimGray';
        }
        var showValueClr = "black";
        // if (plot.drawGreyBackground) {
        //   showValueClr = '#FFF';
        // }

        // Gridlines
        // var gridlineDash = '1, 5';
        // if (plot.drawGreyBackground) {
          var gridlineDash = 'none';
        // }

        var tableau20 = [[31, 119, 180], [255, 127, 14],
             [44, 160, 44], [214, 39, 40],
             [148, 103, 189], [140, 86, 75],
             [227, 119, 194], [127, 127, 127],
             [188, 189, 34], [23, 190, 207]];

        var regularOpacity = 1.0;
        var deselectedOpacity = 0.10;


        // create the svg element
        var svgns = "http://www.w3.org/2000/svg";
        if (svg == null) {
          svg = document.createElementNS(svgns, "svg");
        } else {
          while (svg.lastChild) {
              svg.removeChild(svg.lastChild);
          }
        }
        svg.setAttribute('width', `${plot.width}`);
        svg.setAttribute('height', `${plot.height}`);
        var div = document.getElementById(plot.parentId);
        if (div != null) {
          div.appendChild(svg);
        } else {
          // add it to the body of the document
          document.querySelector("body").appendChild(svg);
        }

        // how many series are there?
        var numSeries = plot.dataY.length;

        // if dataX is empty, fill it with the series 1, 2, 3, 4, ...
        if (plot.dataX.length == 0) {
          for (s = 0; s < numSeries; s++) {
            var seriesXData = [];
            for (a = 0; a < plot.dataY[s].length; a++) {
              seriesXData.push(a + 1);
            }
            plot.dataX.push(seriesXData);
          }
        }

        // style
        var style = document.createElement("style");
        let styleString = `
        text {
          font-family:Sans,Arial;
        }
        .axisLabel {
          font-weight: normal;
        }
        .xTickLabel {
          fill: black;
          font-size: 85%;
          font-weight: lighter;
        }
        .yTickLabel {
          fill: black;
          font-size: 85%;
          font-weight: lighter;
        }
        .gridLine {
          stroke: ${gridLineColor};
          stroke-dasharray: ${gridlineDash};
          stroke-width: 0.8;
        }
        .tick {
          stroke: black;
          stroke-width: 0.5;
        }
        #plotBorder {
          fill: none;
          stroke: black;
          stroke-width: 0.5;
        }
        #showValue {
          font-size: 85%;
          fill: ${showValueClr};
        }
        #context-menu {
          position:absolute;
          display:none;
        }
        #context-menu ul {
          list-style:none;
          margin:0;
          padding:0;
          background: #EFEFEF;
          opacity: 0.90;
        }
        #context-menu {
          border:solid 1px #CCC;
        }
        #context-menu li {
          font-family:Sans,Arial;
          font-size: 75%;
          text-align: left;
          color:#000;
          display:block;
          padding:5px 15px;
          border-bottom:solid 1px #CCC;
        }
        #context-menu li:last-child {
          border:none;
        }
        #context-menu li:hover {
          background:#007AFF;
          color:#FFF;
        }
        `;

        var dataPointHoverWidth = 4.0;
        if (!plot.drawPoints) {
          dataPointHoverWidth = 6.0;
        }
        var s;
        for (s = 0; s < numSeries; s++) {
          var clrNum = s % tableau20.length;
          if (plot.seriesLabels.length === 0) {
            // If there are no series labels, treat it as one series.
						clrNum = 0;
					}
          let clr = `rgb(${tableau20[clrNum][0]},${tableau20[clrNum][1]},${tableau20[clrNum][2]})`;

          styleString += `
          .seriesLine${s} {
            fill: none;
            stroke-width:1;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLine${s}:hover {
            fill: none;
            stroke-width:2;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLineThick${s} {
            fill: none;
            stroke-width:2;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLineThick${s}:hover {
            fill: none;
            stroke-width:3;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .dataPoint${s} {
            fill: ${clr};
            stroke-width:0;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .dataPoint${s}:hover {
            fill: red;
            stroke-width:${dataPointHoverWidth};
            stroke: red;
            opacity:1.0;
          }
          `;
        }
        style.innerHTML = styleString;
        svg.appendChild(style);
        svg.id = "plotSvg";

        // background
        var background = document.createElementNS(svgns, "rect");
        background.setAttribute('width', plot.width);
        background.setAttribute('height', plot.height);
        background.style.fill = chartBackgroundColor;
        svg.appendChild(background);

        // translate the origin point
        var g = document.createElementNS(svgns, "g");
        g.setAttribute('id', 'transform');
        g.setAttribute('transform', `translate(${originX},${originY})`);
        svg.appendChild(g);

        // plot background
        var plotBackground = document.createElementNS(svgns, "rect");
        plotBackground.setAttribute('id', 'plotBackground');
        plotBackground.setAttribute('x', 0.0);
        plotBackground.setAttribute('y', -plotHeight);
        plotBackground.setAttribute('width', plotWidth);
        plotBackground.setAttribute('height', plotHeight);
        plotBackground.style.fill = plotBackgroundColor;
        plotBackground.style.stroke = "none";
        g.appendChild(plotBackground);

        // what are the min/max values?
        var xMin = Infinity;
        var xMax = -Infinity;
        var yMin = Infinity;
        var yMax = -Infinity;
        var val = 0;
        var maxNumPoints = 0;
        var totalNumPoints = 0;
        for (s = 0; s < numSeries; s++) {
          var numPoints = Math.min(plot.dataX[s].length, plot.dataY[s].length);
          if (numPoints > maxNumPoints) { maxNumPoints = maxNumPoints; }
          totalNumPoints += numPoints;
          if (numPoints < 2) {
            alert("Too few points for line graph");
            return;
          }
          if (plot.dataX[s].length != plot.dataY[s].length) {
            alert("The x and y data arrays are unequal in length.");
          }
          for (a = 0; a < numPoints; a++) {
              val = plot.dataX[s][a];
              if (val < xMin) { xMin = val; }
              if (val > xMax) { xMax = val; }
              val = plot.dataY[s][a];
              if (val < yMin) { yMin = val; }
              if (val > yMax) { yMax = val; }
          }
        }

        // We don't want a data point to fall on the plot border
        xMin -= 0.0000001;
        yMin -= 0.0000001;
        xMax += 0.0000001;
        yMax += 0.0000001;

        // X axis
        var xAxisTickSpacing = 0.0000001;
        var xAxisNumTicks = 1000;
        var xRange = xMax - xMin;
        a = 0;
        while (xAxisNumTicks > 20) {
          if (a % 2 == 0) {
            xAxisTickSpacing *= 5.0;
          } else {
            xAxisTickSpacing *= 2.0;
          }
          a++;
          xAxisNumTicks = Math.ceil(xRange / xAxisTickSpacing);
        }
        xMin = Math.floor(xMin / xAxisTickSpacing) * xAxisTickSpacing;
        xAxisNumTicks = Math.ceil((xMax - xMin) / xAxisTickSpacing);
        xRange = xAxisTickSpacing * xAxisNumTicks;
        var xSigDigits = Math.max(decimalPlaces(xMin+xAxisTickSpacing), decimalPlaces(xMin+2*xAxisTickSpacing)); //Math.round(0.1 / xAxisTickSpacing);
        if (xSigDigits === 0 && (xMax - xMin) < xAxisNumTicks) { xSigDigits += 1; }
        var dominantTick = 0;
        if (decimalPlaces(xMin) > decimalPlaces(xMin+xAxisTickSpacing)) {
          dominantTick = 1;
        }
        for (a = 0; a <= xAxisNumTicks; a++) {
            // grid line
            if (plot.drawGridlines) {
              if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
                if (a > 0 && a < xAxisNumTicks) {
                  var line = document.createElementNS(svgns, "line");
                  line.setAttribute('x1', (a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y1', 0);
                  line.setAttribute('x2', (a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y2', -plotHeight);
                  line.setAttribute('class', 'gridLine');
                  g.appendChild(line);
                }
              }
            }
            // tick mark
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', (a * xAxisTickSpacing) / xRange * plotWidth);
            line.setAttribute('y1', 0);
            line.setAttribute('x2', (a * xAxisTickSpacing) / xRange * plotWidth);
            if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
              line.setAttribute('y2', tickLen);
            } else {
              line.setAttribute('y2', minorTickLen);
            }
            line.setAttribute('class', 'tick');
            g.appendChild(line);

            // labels
            if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
                // tick label
                var label = document.createElementNS(svgns, "text");
                label.setAttribute('x', (a * xAxisTickSpacing) / xRange * plotWidth);
                label.setAttribute('y', tickLen + 5);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('dominant-baseline', 'hanging');
                label.setAttribute('class', 'xTickLabel');
                label.innerHTML = `${(xMin + a * xAxisTickSpacing).toFixed(xSigDigits)}`;
                g.appendChild(label);
            }
        }

        // Y axis
        var yAxisTickSpacing = 0.0000001;
        var yAxisNumTicks = 1000;
        var yRange = yMax - yMin;
        a = 0;
        while (yAxisNumTicks > 20) {
          if (a % 2 == 0) {
            yAxisTickSpacing *= 5.0;
          } else {
            yAxisTickSpacing *= 2.0;
          }
          a++;
          yAxisNumTicks = Math.ceil(yRange / yAxisTickSpacing);
        }
        yMin = Math.floor(yMin / yAxisTickSpacing) * yAxisTickSpacing;
        yAxisNumTicks = Math.ceil((yMax - yMin) / yAxisTickSpacing);
        yRange = yAxisTickSpacing * yAxisNumTicks;
        var ySigDigits = Math.max(decimalPlaces(yMin+yAxisTickSpacing), decimalPlaces(yMin+2*yAxisTickSpacing));
        if (ySigDigits === 0 && (yMax - yMin) < yAxisNumTicks) { ySigDigits += 1; }
        dominantTick = 0;
        if (decimalPlaces(yMin) > decimalPlaces(yMin+yAxisTickSpacing)) {
          dominantTick = 1;
        }
        for (a = 0; a <= yAxisNumTicks; a++) {
            // grid line
            if (plot.drawGridlines) {
              if (yAxisNumTicks <= 10 || a % 2 == dominantTick) {
                if (a > 0 && a < yAxisNumTicks) {
                  var line = document.createElementNS(svgns, "line");
                  line.setAttribute('x1', 0); //(a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y1', -(a * yAxisTickSpacing) / yRange * plotHeight);
                  line.setAttribute('x2', plotWidth); //(a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y2', -(a * yAxisTickSpacing) / yRange * plotHeight); //-plotHeight);
                  line.setAttribute('class', 'gridLine');
                  g.appendChild(line);
                }
              }
            }
            // tick mark
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', 0);
            line.setAttribute('y1', -(a * yAxisTickSpacing) / yRange * plotHeight);
            if (yAxisNumTicks <= 6 || a % 2 == dominantTick) {
              line.setAttribute('x2', -tickLen);
            } else {
              line.setAttribute('x2', -minorTickLen);
            }
            line.setAttribute('y2', -(a * yAxisTickSpacing) / yRange * plotHeight);
            line.setAttribute('class', 'tick');
            g.appendChild(line);

            // labels
            if (yAxisNumTicks <= 6 || a % 2 == dominantTick) {
                // s += `<text transform="translate(${-tickLen - 5}, ${-(a * yAxisTickSpacing) / maxVal * plotHeight}), rotate(270)" x="0" y="0" text-anchor="middle" dominant-baseline="no-change" class="yTickLabel">${(a * yAxisTickSpacing).toFixed(ySigDigits)}</text>`;
                var label = document.createElementNS(svgns, "text");
                label.setAttribute('transform', `translate(${-tickLen - 5},${-(a * yAxisTickSpacing) / yRange * plotHeight}), rotate(270)`);
                label.setAttribute('x', 0);
                label.setAttribute('y', 0);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('dominant-baseline', 'no-change');
                label.setAttribute('class', 'yTickLabel');
                label.innerHTML = `${(yMin + a * yAxisTickSpacing).toFixed(ySigDigits)}`;
                g.appendChild(label);
            }
        }

        // axis labels
        var xLabel = document.createElementNS(svgns, "text");
        xLabel.setAttribute('x', plotWidth / 2.0);
        xLabel.setAttribute('y', tickLen + 25.0);
        xLabel.setAttribute('text-anchor', 'middle');
        xLabel.setAttribute('dominant-baseline', 'hanging');
        xLabel.setAttribute('class', 'axisLabel');
        xLabel.innerHTML = plot.xAxisLabel;
        g.appendChild(xLabel);

        var yLabel = document.createElementNS(svgns, "text");
        yLabel.setAttribute('transform', `translate(${-tickLen - 28.0},${-plotHeight / 2.0}), rotate(270)`);
        yLabel.setAttribute('x', 0);
        yLabel.setAttribute('y', 0);
        yLabel.setAttribute('text-anchor', 'middle');
        yLabel.setAttribute('class', 'axisLabel');
        yLabel.innerHTML = plot.yAxisLabel;
        g.appendChild(yLabel);

        // text to show values when hover over
        var showValue = document.createElementNS(svgns, "text");
        showValue.setAttribute('x', 10);
        showValue.setAttribute('text-anchor', 'start');

        // draw the line(s)
        var g2 = document.createElementNS(svgns, "g");
        g2.setAttribute('id', 'lines');
        g.appendChild(g2);

        var radius = 3.0;
        if (totalNumPoints > 15) { radius = 2.5; }
        if (!plot.drawPoints) {
          radius = 1.0;
        }
        for (let s = 0; s < numSeries; s++) {
          var numPoints = Math.min(plot.dataX[s].length, plot.dataY[s].length);
          let seriesLine = document.createElementNS(svgns, "polyline");
          var pointsString = `${(plot.dataX[s][0] - xMin) / xRange * plotWidth},${-(plot.dataY[s][0] - yMin) / yRange * plotHeight}`;
          for (let a = 1; a < numPoints; a++) {
            pointsString += ` ${(plot.dataX[s][a] - xMin) / xRange * plotWidth},${-(plot.dataY[s][a] - yMin) / yRange * plotHeight}`
          }
          seriesLine.setAttribute('points', pointsString);
          var seriesLabel = "seriesLine";
          if (!plot.drawPoints) { seriesLabel = "seriesLineThick"; }
          seriesLine.setAttribute('class', `${seriesLabel}${s}`);
          seriesLine.addEventListener('mouseover', function() {
            var s2;
            for (s2 = 0; s2 < numSeries; s2++) {
              if (s2 != s) {
                var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                var i;
                for (i = 0; i < x.length; i++) {
                  x[i].style.opacity = deselectedOpacity;
                }
                x = document.getElementsByClassName(`dataPoint${s2}`);
                for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = deselectedOpacity;
                }
              }
            }
          }, false);
          seriesLine.addEventListener('mouseout', function() {
            var s2;
            for (s2 = 0; s2 < numSeries; s2++) {
              if (s2 != s) {
                var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                var i;
                for (i = 0; i < x.length; i++) {
                  x[i].style.opacity = regularOpacity;
                }
                x = document.getElementsByClassName(`dataPoint${s2}`);
                for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = regularOpacity;
                }
              }
            }
          }, false);
          g2.appendChild(seriesLine);

          // draw the data points
          for (let a = 0; a < numPoints; a++) {
            let c = document.createElementNS(svgns, "circle");
            c.setAttribute('cx', `${(plot.dataX[s][a] - xMin) / xRange * plotWidth}`);
            c.setAttribute('cy', `${-(plot.dataY[s][a] - yMin) / yRange * plotHeight}`);
            c.setAttribute('r', radius);
            c.setAttribute('class', `dataPoint${s}`);
            c.addEventListener('mouseover', function() {
              var s2;
              for (s2 = 0; s2 < numSeries; s2++) {
                if (s2 != s) {
                  var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                  var i;
                  for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = deselectedOpacity;
                  }
                  x = document.getElementsByClassName(`dataPoint${s2}`);
                  for (i = 0; i < x.length; i++) {
                      x[i].style.opacity = deselectedOpacity;
                  }
                }
              }
              showValue.innerHTML = `x: ${(plot.dataX[s][a]).toFixed(xSigDigits+2)}, y: ${(plot.dataY[s][a]).toFixed(ySigDigits+2)}`;
            }, false);
            c.addEventListener('mouseout', function() {
              var s2;
              for (s2 = 0; s2 < numSeries; s2++) {
                if (s2 != s) {
                  var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                  var i;
                  for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = regularOpacity;
                  }
                  x = document.getElementsByClassName(`dataPoint${s2}`);
                  for (i = 0; i < x.length; i++) {
                      x[i].style.opacity = regularOpacity;
                  }
                }
              }
              showValue.innerHTML = "";
            }, false);
            g2.appendChild(c);
          }
        }

        // Show value label
        showValue.setAttribute('id', 'showValue');
        showValue.setAttribute('y', -plotHeight + 20);
        g.appendChild(showValue);

        // plot border
        var plotBorder = document.createElementNS(svgns, "rect");
        plotBorder.setAttribute('x', 0);
        plotBorder.setAttribute('y', -plotHeight);
        plotBorder.setAttribute('width', plotWidth);
        plotBorder.setAttribute('height', plotHeight);
        plotBorder.id = "plotBorder";
        g.appendChild(plotBorder);

        // add a legend
        if (plot.seriesLabels.length > 0 && plot.drawLegend) {
          var legend = document.createElementNS(svgns, "g");
          legend.setAttribute('id', 'legend');
          g.appendChild(legend);
          for (let s = 0; s < numSeries; s++) {
            var y = -(plotHeight - 35 - 23 * (s+1));
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', plotWidth + 10);
            line.setAttribute('y1', y);
            line.setAttribute('x2', plotWidth + 40);
            line.setAttribute('y2', y);
            if (plot.drawPoints) {
              line.setAttribute('class', `seriesLine${s}`);
            } else {
              line.setAttribute('class', `seriesLineThick${s}`);
            }
            legend.appendChild(line);

            if (plot.drawPoints) {
              var c = document.createElementNS(svgns, "circle");
              c.setAttribute('cx', plotWidth+25);
              c.setAttribute('cy', y);
              c.setAttribute('r', radius);
              c.setAttribute('class', `dataPoint${s}`);
              legend.appendChild(c);
            }

            var legendLabel = document.createElementNS(svgns, "text");
            legendLabel.setAttribute('x', plotWidth + 48);
            legendLabel.setAttribute('y', y);
            legendLabel.setAttribute('text-anchor', 'left');
            // legendLabel.setAttribute('text-anchor', 'middle');
            legendLabel.setAttribute('dominant-baseline', 'middle');
            legendLabel.setAttribute('class', 'xTickLabel');
            legendLabel.innerHTML = plot.seriesLabels[s];
            legend.appendChild(legendLabel);
          }
        }

        // Add an invisible context menu to the parentId.
        var cm = document.createElement('div');
        cm.id = 'context-menu';
        cm.className = 'context-menu';
        var list = document.createElement('ul');

        var copyBtn = document.createElement("li");
        copyBtn.innerHTML = "Copy";
        copyBtn.addEventListener('click', function() {
          var content = `<svg xmlns='${svgns}' width='${plot.width}' height='${plot.height}'>\n${svg.innerHTML}\n</svg>`;
          // Create an auxiliary hidden input
          var aux = document.createElement("input");
          // Get the text from the element passed into the input
          aux.setAttribute("value", content);
          // Append the aux input to the body
          document.body.appendChild(aux);
          // Highlight the content
          aux.select();
          // Execute the copy command
          document.execCommand("copy");
          // Remove the input from the body
          document.body.removeChild(aux);
          // Give a notification
          alert("The plot's SVG content has been copied to the clipboard.");
        }, false);
        list.appendChild(copyBtn);

        var gridlineBtn = document.createElement("li");
        var verb = plot.drawGridlines ? "Hide " : "Show ";
        gridlineBtn.innerHTML = verb + "Gridlines";
        gridlineBtn.addEventListener('click', function() {
          plot.drawGridlines = !plot.drawGridlines;
          // update the context menu label
          var verb = plot.drawGridlines ? "Hide " : "Show ";
          gridlineBtn.innerHTML = verb + "Gridlines";
          update(svg);
        }, false);
        list.appendChild(gridlineBtn);

        if (plot.seriesLabels.length > 0) {
          var legendBtn = document.createElement("li");
          var verb = plot.drawLegend ? "Hide " : "Show ";
          legendBtn.innerHTML = verb + "Legend";
          legendBtn.addEventListener('click', function() {
            plot.drawLegend = !plot.drawLegend;
            // update the context menu label
            var verb = plot.drawLegend ? "Hide " : "Show ";
            legendBtn.innerHTML = verb + "Legend";
            update(svg);
          }, false);
          list.appendChild(legendBtn);
        }

        var pointsBtn = document.createElement("li");
        var verb = plot.drawPoints ? "Hide " : "Show ";
        pointsBtn.innerHTML = verb + "Points";
        pointsBtn.addEventListener('click', function() {
          plot.drawPoints = !plot.drawPoints;
          // update the context menu label
          var verb = plot.drawPoints ? "Hide " : "Show ";
          pointsBtn.innerHTML = verb + "Points";
          update(svg);
        }, false);
        list.appendChild(pointsBtn);

        var backgroundColorBtn = document.createElement("li");
        var verb = plot.drawGreyBackground ? "Light " : "Dark ";
        backgroundColorBtn.innerHTML = verb + "Background";
        backgroundColorBtn.addEventListener('click', function() {
          plot.drawGreyBackground = !plot.drawGreyBackground;
          // update the context menu label
          var verb = plot.drawGreyBackground ? "Light " : "Dark ";
          backgroundColorBtn.innerHTML = verb + "Background";
          update(svg);
        }, false);
        list.appendChild(backgroundColorBtn);

        cm.appendChild(list);
        document.getElementById(plot.parentId).appendChild(cm);

        var menu = document.getElementById('context-menu');
        document.onclick = function () {
            menu.style.display = 'none';
        };

        document.getElementById('plotSvg').oncontextmenu = function (evt) {
            evt = (evt) ? evt : ((event) ? event : null);
            var posnX = (evt.pageX) ? evt.pageX : ((evt.offsetX) ? evt.offsetX + 10 : null);
            var posnY = (evt.pageY) ? evt.pageY : ((evt.offsetY) ? evt.offsetY + 10 : null);
            menu.style.left = posnX + 'px';
            menu.style.top = posnY + 'px';
            menu.style.display = 'block';
            if (typeof evt.preventDefault != "undefined") {
                evt.preventDefault();
            } else {
                evt.returnValue = false;
            }
        };
      }

      function decimalPlaces(num) {
        var match = (''+num).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
        if (!match) { return 0; }
        return Math.max(
             0,
             // Number of digits right of decimal point.
             (match[1] ? match[1].length : 0)
             // Adjust for scientific notation.
             - (match[2] ? +match[2] : 0));
      }

      update(null);
    </script></div></body>