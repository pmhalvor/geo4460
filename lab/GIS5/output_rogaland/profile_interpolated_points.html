<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">
        <head>
            <meta content=\"text/html; charset=UTF-8\" http-equiv=\"content-type\">
            <title>Profile</title><style type="text/css">
            h1 {
                font-size: 14pt;
                margin-left: 15px;
                margin-right: 15px;
                text-align: center;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
            }
            h2 {
                font-size: 12pt;
                margin-left: 15px;
                margin-right: 15px;
                text-align: center;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
            }
            p, ol, ul {
                font-size: 12pt;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                margin-left: 15px;
                margin-right: 15px;
            }
            caption {
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                font-size: 12pt;
                margin-left: 15px;
                margin-right: 15px;
            }
            table {
                font-size: 12pt;
                font-family: Helvetica, Verdana, Geneva, Arial, sans-serif;
                font-family: arial, sans-serif;
                border-collapse: collapse;
                align: center;
            }
            td, th {
                border: 1px solid #222222;
                text-align: centre;
                padding: 8px;
            }
            tr:nth-child(even) {
                background-color: #dddddd;
            }
            tr:hover {
                background-color: lightyellow;
            }
            .bareTd {
                border: 0px solid #222222;
                text-align: centre;
                padding: 8px;
            }
            .bareTr:nth-child(even) {
                background-color: white;
            }
            .bareTr:hover {
                background-color: white;
            }
            .numberCell {
                text-align: right;
            }
            .header {
                font-weight: bold;
                text-align: center;
            }
        </style></head>
        <body>
            <h1>Profile</h1><p><strong>Input Surface</strong>: dem_interpolated_points<br></p><div id='graph' align="center">
    <script>
      var plot = {
        dataX: [[2049.7990531382275, 2099.7941519952574, 2149.7892508522873, 2199.784349709317, 2249.779448566347, 2299.774547423377, 2349.769646280407, 2399.764745137437, 2449.759843994467, 2499.7549428514967, 2549.7500417085266, 2599.7451405655565, 2649.7402394225865, 2699.7353382796164, 2749.7304371366463, 2799.725535993676, 2849.720634850706, 2899.715733707736, 2949.710832564766, 2999.705931421796, 3049.701030278826, 3099.6961291358557, 3149.6912279928856, 3199.6863268499155, 3249.6814257069454, 3299.6765245639754, 3349.6716234210053, 3399.666722278035, 3449.661821135065, 3499.656919992095, 3549.652018849125, 3599.647117706155, 3649.642216563185, 3699.6373154202147, 3749.6324142772446, 3799.6275131342745, 3849.6226119913044, 3899.6177108483344, 3949.6128097053643, 3999.607908562394, 4049.603007419424, 4099.598106276454, 4149.593205133484, 4199.588303990514, 4249.583402847544, 4299.578501704574, 4349.573600561604, 4399.5686994186335, 4449.563798275663, 4499.558897132693, 4549.553995989723, 4599.549094846753, 4649.544193703783, 4699.539292560813, 4749.534391417843, 4799.529490274873, 4849.524589131903, 4899.519687988933, 4949.514786845963, 4999.5098857029925, 5049.504984560022, 5099.500083417052, 5149.495182274082, 5199.490281131112, 5249.485379988142, 5299.480478845172, 5349.475577702202, 5399.470676559232, 5449.465775416262, 5499.460874273292, 5549.455973130322, 5599.4510719873515, 5649.446170844381, 5699.441269701411, 5749.436368558441, 5799.431467415471, 5849.426566272501, 5899.421665129531, 5949.416763986561, 5999.411862843591, 6049.406961700621, 6099.402060557651, 6149.397159414681, 6199.3922582717105, 6249.38735712874, 6299.38245598577, 6349.3775548428, 6399.37265369983, 6449.36775255686, 6499.36285141389, 6549.35795027092, 6599.35304912795, 6649.34814798498, 6699.34324684201, 6749.33834569904, 6799.3334445560695, 6849.328543413099, 6899.323642270129, 6949.318741127159, 6999.313839984189, 7049.308938841219, 7099.304037698249, 7149.299136555279, 7199.294235412309, 7249.289334269339, 7299.284433126369, 7349.279531983399, 7399.2746308404285, 7449.269729697458, 7499.264828554488, 7549.259927411518, 7599.255026268548, 7649.250125125578, 7699.245223982608, 7749.240322839638, 7799.235421696668, 7849.230520553698, 7899.225619410728, 7949.220718267758, 7999.2158171247875, 8049.210915981817, 8099.206014838847, 8149.201113695877, 8199.196212552908, 8249.191311409939, 8299.18641026697, 8349.181509124, 8399.176607981031, 8449.171706838062, 8499.166805695093, 8549.161904552124, 8599.157003409155, 8649.152102266185, 8699.147201123216, 8749.142299980247, 8799.137398837278, 8849.132497694309, 8899.12759655134, 8949.12269540837, 8999.117794265401, 9049.112893122432, 9099.107991979463, 9149.103090836494, 9199.098189693525, 9249.093288550555, 9299.088387407586, 9349.083486264617, 9399.078585121648, 9449.073683978679, 9499.06878283571, 9549.06388169274, 9599.058980549771, 9649.054079406802, 9699.049178263833, 9749.044277120864, 9799.039375977894, 9849.034474834925, 9899.029573691956, 9949.024672548987, 9999.019771406018, 10049.014870263049, 10099.00996912008, 10149.00506797711, 10199.000166834141, 10248.995265691172, 10298.990364548203, 10348.985463405234, 10398.980562262264, 10448.975661119295, 10498.970759976326, 10548.965858833357, 10598.960957690388, 10648.956056547418, 10698.95115540445, 10748.94625426148, 10798.941353118511, 10848.936451975542, 10898.931550832573, 10948.926649689603, 10998.921748546634, 11048.916847403665, 11098.911946260696, 11148.907045117727, 11198.902143974758, 11248.897242831788, 11298.89234168882, 11348.88744054585, 11398.88253940288, 11448.877638259912, 11498.872737116943, 11548.867835973973, 11598.862934831004, 11648.858033688035, 11698.853132545066, 11748.848231402097, 11798.843330259127, 11848.838429116158, 11898.83352797319, 11948.82862683022, 11998.82372568725, 12048.818824544282, 12098.813923401312, 12148.809022258343, 12198.804121115374, 12248.799219972405, 12298.794318829436, 12348.789417686467, 12398.784516543497, 12448.779615400528, 12498.774714257559, 12548.76981311459, 12598.76491197162, 12648.760010828652, 12698.755109685682, 12748.750208542713, 12798.745307399744, 12848.740406256775, 12898.735505113806, 12948.730603970836, 12998.725702827867, 13048.720801684898, 13098.715900541929, 13148.71099939896, 13198.70609825599, 13248.701197113021, 13298.696295970052, 13348.691394827083, 13398.686493684114, 13448.681592541145, 13498.676691398176, 13548.671790255206, 13598.666889112237, 13648.661987969268, 13698.657086826299, 13748.65218568333, 13798.64728454036, 13848.642383397391, 13898.637482254422, 13948.632581111453, 13998.627679968484, 14048.622778825515, 14098.617877682545, 14148.612976539576, 14198.608075396607, 14248.603174253638, 14298.598273110669, 14348.5933719677, 14398.58847082473, 14448.583569681761, 14498.578668538792, 14548.573767395823, 14598.568866252854, 14648.563965109885, 14698.559063966915, 14748.554162823946, 14798.549261680977, 14848.544360538008, 14898.539459395039, 14948.53455825207, 14998.5296571091, 15048.524755966131, 15098.519854823162, 15148.514953680193, 15198.510052537224, 15248.505151394254, 15298.500250251285, 15348.495349108316, 15398.490447965347, 15448.485546822378, 15498.480645679409, 15548.47574453644, 15598.47084339347, 15648.465942250501, 15698.461041107532, 15748.456139964563, 15798.451238821594, 15848.446337678624, 15898.441436535655, 15948.436535392686, 15998.431634249717, 16048.426733106748, 16098.421831963778, 16148.41693082081, 16198.41202967784, 16248.407128534871, 16298.402227391902, 16348.397326248933, 16398.39242510596, 16448.387523962992, 16498.382622820023, 16548.377721677054, 16598.372820534085, 16648.367919391116, 16698.363018248147, 16748.358117105177, 16798.35321596221, 16848.34831481924, 16898.34341367627, 16948.3385125333, 16998.33361139033, 17048.328710247362, 17098.323809104393, 17148.318907961424, 17198.314006818455, 17248.309105675486, 17298.304204532516, 17348.299303389547, 17398.294402246578, 17448.28950110361, 17498.28459996064, 17548.27969881767, 17598.2747976747, 17648.269896531732, 17698.264995388763, 17748.260094245794, 17798.255193102825, 17848.250291959856, 17898.245390816886, 17948.240489673917, 17998.235588530948, 18048.23068738798, 18098.22578624501, 18148.22088510204, 18198.21598395907, 18248.211082816102, 18298.206181673133, 18348.201280530164, 18398.196379387195, 18448.191478244225, 18498.186577101256, 18548.181675958287, 18598.176774815318, 18648.17187367235, 18698.16697252938, 18748.16207138641, 18798.15717024344, 18848.152269100472, 18898.147367957503, 18948.142466814534, 18998.137565671565, 19048.132664528595, 19098.127763385626, 19148.122862242657, 19198.117961099688, 19248.11305995672, 19298.10815881375, 19348.10325767078, 19398.09835652781, 19448.093455384842, 19498.088554241873, 19548.083653098904, 19598.078751955934, 19648.073850812965, 19698.068949669996, 19748.064048527027, 19798.059147384058, 19848.05424624109, 19898.04934509812, 19948.04444395515, 19998.03954281218, 20048.034641669212, 20098.029740526243, 20148.024839383274, 20198.019938240304, 20248.015037097335, 20298.010135954366, 20348.005234811397, 20398.000333668428, 20447.99543252546, 20497.99053138249, 20547.98563023952, 20597.98072909655, 20647.97582795358, 20697.970926810613, 20747.966025667643, 20797.961124524674, 20847.956223381705, 20897.951322238736, 20947.946421095767, 20997.941519952798, 21047.93661880983, 21097.93171766686, 21147.92681652389, 21197.92191538092, 21247.91701423795, 21297.912113094982, 21347.907211952013, 21397.902310809044, 21447.897409666075, 21497.892508523106, 21547.887607380137, 21597.882706237167, 21647.8778050942, 21697.87290395123, 21747.86800280826, 21797.86310166529, 21847.85820052232, 21897.853299379352, 21947.848398236383, 21997.843497093414, 22047.838595950445, 22097.833694807476, 22147.828793664507, 22197.823892521537, 22247.818991378568, 22297.8140902356, 22347.80918909263, 22397.80428794966, 22447.79938680669, 22497.794485663722, 22547.789584520753, 22597.784683377784, 22647.779782234815, 22697.774881091846, 22747.769979948876, 22797.765078805907, 22847.760177662938, 22897.75527651997, 22947.750375377, 22997.74547423403, 23047.74057309106, 23097.735671948092, 23147.730770805123, 23197.725869662154, 23247.720968519185, 23297.716067376216, 23347.711166233246, 23397.706265090277, 23447.701363947308, 23497.69646280434, 23547.69156166137, 23597.6866605184, 23647.68175937543, 23697.676858232462, 23747.671957089493, 23797.667055946524, 23847.662154803555, 23897.657253660585, 23947.652352517616, 23997.647451374647, 24047.642550231678, 24097.63764908871, 24147.63274794574, 24197.62784680277, 24247.6229456598, 24297.618044516832, 24347.613143373863, 24397.608242230894, 24447.603341087924, 24497.598439944955, 24547.593538801986, 24597.588637659017, 24647.583736516048, 24697.57883537308, 24747.57393423011, 24797.56903308714, 24847.56413194417, 24897.559230801202, 24947.554329658233, 24997.549428515264, 25047.544527372294, 25097.539626229325, 25147.534725086356, 25197.529823943387, 25247.524922800418, 25297.52002165745, 25347.51512051448, 25397.51021937151, 25447.50531822854, 25497.500417085572, 25547.495515942603, 25597.490614799633, 25647.485713656664, 25697.480812513695, 25747.475911370726, 25797.471010227757, 25847.466109084788, 25897.46120794182, 25947.45630679885, 25997.45140565588, 26047.44650451291, 26097.44160336994, 26147.436702226973, 26197.431801084003, 26247.426899941034, 26297.421998798065, 26347.417097655096, 26397.412196512127, 26447.407295369158, 26497.40239422619, 26547.39749308322, 26597.39259194025, 26647.38769079728, 26697.38278965431, 26747.377888511342, 26797.372987368373, 26847.368086225404, 26897.363185082435, 26947.358283939466, 26997.353382796497, 27047.348481653527, 27097.34358051056, 27147.33867936759, 27197.33377822462, 27247.32887708165, 27297.32397593868, 27347.319074795712, 27397.314173652743, 27447.309272509774, 27497.304371366805, 27547.299470223836, 27597.294569080866, 27647.289667937897, 27697.284766794928, 27747.27986565196, 27797.27496450899, 27847.27006336602, 27897.26516222305, 27947.260261080082, 27997.255359937113, 28047.250458794144, 28097.245557651175, 28147.240656508206, 28197.235755365236, 28247.230854222267, 28297.225953079298, 28347.22105193633, 28397.21615079336, 28447.21124965039, 28497.20634850742, 28547.201447364452, 28597.196546221483, 28647.191645078514, 28697.186743935545, 28747.181842792575, 28797.176941649606, 28847.172040506637, 28897.167139363668, 28947.1622382207, 28997.15733707773, 29047.15243593476, 29097.14753479179, 29147.142633648822, 29197.137732505853, 29247.132831362884, 29297.127930219915, 29347.123029076945, 29397.118127933976, 29447.113226791007, 29497.108325648038, 29547.10342450507, 29597.0985233621, 29647.09362221913, 29697.08872107616, 29747.083819933192, 29797.078918790223, 29847.074017647254, 29897.069116504284, 29947.064215361315, 29997.059314218346, 30047.054413075377, 30097.049511932408, 30147.04461078944, 30197.03970964647, 30247.0348085035, 30297.02990736053, 30347.025006217562, 30397.020105074593, 30447.015203931624, 30497.010302788654, 30547.005401645685, 30597.000500502716, 30646.995599359747, 30696.990698216778, 30746.98579707381, 30796.98089593084, 30846.97599478787, 30896.9710936449, 30946.96619250193, 30996.961291358963, 31046.956390215993, 31096.951489073024, 31146.946587930055, 31196.941686787086, 31246.936785644117, 31296.931884501148, 31346.92698335818, 31396.92208221521, 31446.91718107224, 31496.91227992927, 31546.9073787863, 31596.902477643333, 31646.897576500363, 31696.892675357394, 31746.887774214425, 31796.882873071456, 31846.877971928487, 31896.873070785517, 31946.86816964255, 31996.86326849958, 32046.85836735661, 32096.85346621364, 32146.84856507067, 32196.843663927702, 32246.838762784733, 32296.833861641764, 32346.828960498795, 32396.824059355826, 32446.819158212857, 32496.814257069887, 32546.80935592692, 32596.80445478395, 32646.79955364098, 32696.79465249801, 32746.78975135504, 32796.78485021207, 32846.779949069096, 32896.77504792612, 32946.77014678315, 32996.76524564018, 33046.760344497205, 33096.75544335423, 33146.75054221126, 33196.745641068286, 33246.74073992531, 33296.73583878234, 33346.73093763937, 33396.726036496395, 33446.72113535342, 33496.71623421045, 33546.71133306748, 33596.706431924504, 33646.70153078153, 33696.69662963856, 33746.691728495585, 33796.68682735261, 33846.68192620964, 33896.67702506667, 33946.672123923694, 33996.66722278072, 34046.66232163775, 34096.657420494776, 34146.6525193518, 34196.64761820883, 34246.64271706586, 34296.637815922884, 34346.63291477991, 34396.62801363694, 34446.623112493966, 34496.61821135099, 34546.61331020802, 34596.60840906505, 34646.603507922075, 34696.5986067791, 34746.59370563613, 34796.588804493156, 34846.58390335018, 34896.57900220721, 34946.57410106424, 34996.569199921265, 35046.56429877829, 35096.55939763532, 35146.55449649235, 35196.549595349374, 35246.5446942064, 35296.53979306343, 35346.534891920455, 35396.52999077748, 35446.52508963451, 35496.52018849154, 35546.515287348564, 35596.51038620559, 35646.50548506262, 35696.500583919646, 35746.49568277667, 35796.4907816337, 35846.48588049073, 35896.480979347754, 35946.47607820478, 35996.47117706181, 36046.466275918836, 36096.46137477586, 36146.45647363289, 36196.45157248992, 36246.446671346945, 36296.44177020397, 36346.436869061, 36396.431967918026, 36446.42706677505, 36496.42216563208, 36546.41726448911, 36596.412363346135, 36646.40746220316, 36696.40256106019, 36746.39765991722, 36796.392758774244, 36846.38785763127, 36896.3829564883, 36946.378055345325, 36996.37315420235, 37046.36825305938, 37096.36335191641, 37146.358450773434, 37196.35354963046, 37246.34864848749, 37296.343747344516, 37346.33884620154, 37396.33394505857, 37446.3290439156, 37496.324142772624, 37546.31924162965, 37596.31434048668, 37646.309439343706, 37696.30453820073, 37746.29963705776, 37796.29473591479, 37846.289834771815, 37896.28493362884, 37946.28003248587, 37996.275131342896, 38046.27023019992, 38096.26532905695, 38146.26042791398, 38196.255526771005, 38246.25062562803, 38296.24572448506, 38346.24082334209, 38396.235922199114, 38446.23102105614, 38496.22611991317, 38546.221218770195, 38596.21631762722, 38646.21141648425, 38696.20651534128, 38746.201614198304, 38796.19671305533, 38846.19181191236, 38896.186910769386, 38946.18200962641, 38996.17710848344, 39046.17220734047, 39096.167306197494, 39146.16240505452, 39196.15750391155, 39246.152602768576, 39296.1477016256, 39346.14280048263, 39396.13789933966, 39446.132998196685, 39496.12809705371, 39546.12319591074, 39596.118294767766, 39646.11339362479, 39696.10849248182, 39746.10359133885, 39796.098690195875, 39846.0937890529, 39896.08888790993, 39946.08398676696, 39996.079085623984, 40046.07418448101, 40096.06928333804, 40146.064382195065, 40196.05948105209, 40246.05457990912, 40296.04967876615, 40346.044777623174, 40396.0398764802, 40446.03497533723, 40496.030074194256, 40546.02517305128, 40596.02027190831, 40646.01537076534, 40696.010469622364, 40746.00556847939, 40796.00066733642, 40845.995766193446, 40895.99086505047, 40945.9859639075, 40995.98106276453, 41045.976161621555, 41095.97126047858, 41145.96635933561, 41195.961458192636, 41245.95655704966, 41295.95165590669, 41345.94675476372, 41395.941853620745, 41445.93695247777, 41495.9320513348, 41545.92715019183, 41595.922249048854, 41645.91734790588, 41695.91244676291, 41745.907545619935, 41795.90264447696, 41845.89774333399, 41895.89284219102, 41945.887941048044, 41995.88303990507, 42045.8781387621, 42095.873237619126, 42145.86833647615, 42195.86343533318, 42245.85853419021, 42295.853633047234, 42345.84873190426, 42395.84383076129, 42445.838929618316, 42495.83402847534, 42545.82912733237, 42595.8242261894, 42645.819325046425, 42695.81442390345, 42745.80952276048, 42795.804621617506, 42845.79972047453, 42895.79481933156, 42945.78991818859, 42995.785017045615, 43045.78011590264]],
        dataY: [[412.0328063964844, 410.9356994628906, 409.2524108886719, 415.20562744140625, 414.2129821777344, 411.883056640625, 410.9084167480469, 408.3606262207031, 410.03057861328125, 407.4029541015625, 406.55047607421875, 405.80987548828125, 402.7993469238281, 402.0342102050781, 402.0342102050781, 401.378662109375, 400.8309631347656, 397.1587829589844, 396.4807434082031, 396.4807434082031, 395.9602355957031, 391.8092041015625, 391.59075927734375, 391.6087341308594, 391.6087341308594, 391.59527587890625, 386.52984619140625, 385.9131774902344, 380.8327331542969, 382.72930908203125, 391.1965026855469, 387.5671691894531, 393.4011535644531, 389.9864807128906, 395.81195068359375, 404.4061279296875, 401.54632568359375, 407.3031921386719, 404.65606689453125, 410.8160095214844, 408.230224609375, 417.16412353515625, 423.71795654296875, 421.34259033203125, 428.095703125, 424.9882507324219, 434.9324645996094, 431.579833984375, 438.20269775390625, 444.81353759765625, 441.95263671875, 451.33740234375, 448.6330261230469, 455.11822509765625, 461.2624206542969, 459.3487548828125, 465.1012878417969, 465.1012878417969, 470.8486022949219, 469.3913269042969, 475.1620788574219, 481.31591796875, 481.31591796875, 488.565673828125, 486.2604675292969, 496.08941650390625, 493.6479797363281, 505.61090087890625, 520.0028686523438, 517.66650390625, 529.7220458984375, 530.3477783203125, 546.6138916015625, 559.2620239257813, 560.2166137695313, 571.992919921875, 574.2410888671875, 585.4658813476563, 588.815185546875, 596.02685546875, 606.0470581054688, 609.4564208984375, 617.2732543945313, 619.4019775390625, 623.3392333984375, 624.6358032226563, 628.3221435546875, 630.543212890625, 629.9721069335938, 631.3363647460938, 630.017578125, 628.6674194335938, 626.0112915039063, 623.1686401367188, 619.4556884765625, 619.4556884765625, 615.1163330078125, 611.8321533203125, 607.59228515625, 603.530517578125, 603.530517578125, 599.8192749023438, 596.9337158203125, 593.993896484375, 590.8285522460938, 589.4119873046875, 592.2466430664063, 590.9573364257813, 594.0892333984375, 594.6360473632813, 600.3782958984375, 605.0169677734375, 604.832275390625, 607.7614135742188, 605.9404296875, 606.9678955078125, 606.9678955078125, 605.7118530273438, 602.7146606445313, 596.9712524414063, 592.9449462890625, 586.6312866210938, 588.7786254882813, 582.5498046875, 578.716796875, 575.3167724609375, 569.201416015625, 572.5131225585938, 566.7679443359375, 565.1648559570313, 564.5501098632813, 559.2549438476563, 560.3441162109375, 560.3441162109375, 562.9032592773438, 557.8772583007813, 562.4354248046875, 567.8829345703125, 567.8829345703125, 573.8416137695313, 566.685302734375, 560.6473999023438, 546.850341796875, 550.3341674804688, 540.9158325195313, 529.7481689453125, 522.0443725585938, 511.9577941894531, 505.5789794921875, 508.36724853515625, 500.1225280761719, 495.7048034667969, 488.4537658691406, 485.4229736328125, 485.4229736328125, 482.86761474609375, 480.42413330078125, 474.4541931152344, 471.7066650390625, 465.75567626953125, 468.460205078125, 462.4530029296875, 458.5166320800781, 454.035888671875, 447.8145446777344, 449.482177734375, 443.2481689453125, 438.734375, 434.2643737792969, 428.2884216308594, 424.5850830078125, 424.5850830078125, 421.2136535644531, 416.2581481933594, 413.35198974609375, 410.5535888671875, 410.5535888671875, 407.7341003417969, 403.58074951171875, 400.7892761230469, 397.1302795410156, 397.8681335449219, 394.7932434082031, 391.25970458984375, 388.0646667480469, 384.8313903808594, 381.5108947753906, 381.2222900390625, 378.0669860839844, 374.5932312011719, 371.8631896972656, 368.60223388671875, 368.60223388671875, 365.469970703125, 362.4899597167969, 360.72943115234375, 358.2274475097656, 357.1479797363281, 355.9947509765625, 354.28887939453125, 354.40118408203125, 353.8506164550781, 354.5390625, 353.5599060058594, 354.4331970214844, 354.64654541015625, 355.3179016113281, 356.74005126953125, 356.588134765625, 358.2955322265625, 360.8025207519531, 362.6353759765625, 365.94451904296875, 369.73126220703125, 369.73126220703125, 373.8309326171875, 375.420654296875, 379.6568603515625, 384.07867431640625, 384.07867431640625, 388.6559753417969, 389.7635498046875, 394.36968994140625, 395.2341613769531, 399.8701171875, 403.9432373046875, 404.62640380859375, 409.4981994628906, 409.9873046875, 414.9053955078125, 414.9053955078125, 419.94354248046875, 425.1028137207031, 425.3262939453125, 430.5732116699219, 430.5732116699219, 435.95501708984375, 441.4754943847656, 441.55462646484375, 447.21661376953125, 447.24151611328125, 453.03509521484375, 453.076171875, 459.07452392578125, 465.14544677734375, 465.18328857421875, 471.25341796875, 471.3114318847656, 477.4691162109375, 477.5495910644531, 483.7477111816406, 489.9094543457031, 489.9094543457031, 495.9578552246094, 496.1057434082031, 501.79913330078125, 506.97406005859375, 506.97406005859375, 512.0861206054688, 511.83624267578125, 516.2726440429688, 515.5942993164063, 519.0071411132813, 523.3299560546875, 521.7095336914063, 523.6697387695313, 521.1406860351563, 522.5987548828125, 522.5987548828125, 524.0519409179688, 525.5237426757813, 522.7516479492188, 524.2353515625, 524.2353515625, 525.7669677734375, 527.3471069335938, 524.3043212890625, 526.106689453125, 523.144775390625, 528.1214599609375, 525.3245849609375, 527.7498779296875, 530.5180053710938, 528.731201171875, 534.069580078125, 533.0593872070313, 536.2529296875, 533.8775634765625, 533.4530029296875, 531.5972290039063, 531.5972290039063, 528.5715942382813, 526.2024536132813, 522.5806274414063, 518.3902587890625, 518.3902587890625, 513.7586059570313, 512.8870239257813, 508.2325439453125, 507.9497375488281, 503.17242431640625, 498.2362060546875, 498.7943420410156, 495.1068115234375, 496.4384460449219, 494.000244140625, 494.000244140625, 492.2708435058594, 491.1976013183594, 493.7851867675781, 493.23919677734375, 493.23919677734375, 493.18975830078125, 493.7086486816406, 496.0339660644531, 497.22381591796875, 498.97747802734375, 499.1166687011719, 500.7200927734375, 503.0531311035156, 505.4472351074219, 503.4792785644531, 505.66607666015625, 498.6590270996094, 491.3570556640625, 483.5973205566406, 476.39031982421875, 477.71136474609375, 469.7758483886719, 464.3590087890625, 458.0113830566406, 457.3912048339844, 459.4836120605469, 459.4836120605469, 463.8560791015625, 463.3336486816406, 471.23126220703125, 473.2332763671875, 480.8115234375, 491.9071044921875, 496.7247314453125, 509.9892272949219, 515.7201538085938, 530.36376953125, 530.36376953125, 545.6200561523438, 561.1724243164063, 567.0436401367188, 581.9556274414063, 581.9556274414063, 596.6838989257813, 611.0360717773438, 613.7865600585938, 625.31298828125, 625.9893188476563, 634.1173095703125, 633.6248779296875, 638.9071044921875, 642.6990356445313, 642.15478515625, 645.2327270507813, 644.7984619140625, 646.0565185546875, 645.8688354492188, 646.0293579101563, 646.1249389648438, 646.1192626953125, 646.1946411132813, 646.3220825195313, 646.5504760742188, 646.8514404296875, 646.8514404296875, 647.2594604492188, 647.8098754882813, 648.4962158203125, 649.1207275390625, 649.331787109375, 650.30908203125, 651.0140991210938, 651.9575805664063, 652.5831909179688, 655.0091552734375, 655.0091552734375, 659.6669921875, 667.061767578125, 672.5194702148438, 680.2424926757813, 680.2424926757813, 687.9209594726563, 695.6747436523438, 699.874755859375, 707.749755859375, 707.749755859375, 715.7772827148438, 719.8717651367188, 728.09423828125, 736.4551391601563, 740.5638427734375, 744.9407958984375, 749.11328125, 757.7736206054688, 761.9412841796875, 770.7567138671875, 775.0682373046875, 779.6215209960938, 788.5402221679688, 793.34814453125, 802.6752319335938, 811.1084594726563, 811.1084594726563, 815.4381103515625, 821.2867431640625, 826.0525512695313, 831.8858642578125, 830.7296752929688, 835.2943115234375, 841.0299682617188, 841.1748657226563, 838.48681640625, 839.6591186523438, 836.0380249023438, 833.5658569335938, 831.0851440429688, 827.1319580078125, 824.6127319335938, 824.6127319335938, 821.8731689453125, 818.658447265625, 814.5245361328125, 810.9541015625, 810.9541015625, 807.1178588867188, 802.9512329101563, 798.9710083007813, 795.0220947265625, 790.9340209960938, 790.9951171875, 786.9041748046875, 782.7183837890625, 778.35009765625, 774.2877197265625, 773.7486572265625, 769.6295776367188, 764.55126953125, 760.2420654296875, 754.5551147460938, 750.9998779296875, 750.9998779296875, 749.2152709960938, 750.860595703125, 750.1456909179688, 751.9029541015625, 749.9013671875, 750.1921997070313, 752.0806884765625, 752.5897827148438, 754.3032836914063, 753.2557983398438, 753.9976806640625, 755.43505859375, 756.1097412109375, 757.3302001953125, 758.0570678710938, 758.0570678710938, 759.1369018554688, 760.3609619140625, 761.025634765625, 760.6740112304688, 760.6740112304688, 759.2684936523438, 757.7918090820313, 754.8048095703125, 751.4149169921875, 748.9334106445313, 747.5589599609375, 744.965576171875, 740.8348388671875, 736.5654296875, 733.863037109375, 732.2344360351563, 729.3179321289063, 724.8841552734375, 721.8522338867188, 714.2936401367188, 711.3646240234375, 706.3681030273438, 699.068359375, 693.6394653320313, 686.8304443359375, 681.0697631835938, 680.4373168945313, 674.3735961914063, 668.5136108398438, 662.6309814453125, 656.4945678710938, 656.9172973632813, 651.3016357421875, 644.7929077148438, 638.9216918945313, 631.8618774414063, 625.4723510742188, 625.4723510742188, 618.8610229492188, 612.0888671875, 606.1611938476563, 600.3623657226563, 600.3623657226563, 596.9616088867188, 596.9288940429688, 597.6693725585938, 599.3715209960938, 599.3715209960938, 601.1537475585938, 599.9998779296875, 600.9600219726563, 601.7880859375, 599.1381225585938, 602.471923828125, 599.2572021484375, 599.2649536132813, 595.49609375, 594.8154296875, 598.5394897460938, 593.9321899414063, 592.9192504882813, 588.053955078125, 586.657958984375, 581.5891723632813, 585.1880493164063, 583.7569580078125, 577.8782348632813, 577.4834594726563, 571.5194091796875, 582.1242065429688, 594.3673706054688, 598.4361572265625, 614.4185791015625, 620.9109497070313, 636.8449096679688, 636.8449096679688, 652.534423828125, 668.0667114257813, 676.0861206054688, 691.5341796875, 691.5341796875, 706.7794799804688, 714.7841186523438, 729.7462768554688, 744.4213256835938, 744.4213256835938, 758.7824096679688, 766.1264038085938, 779.8619995117188, 793.2726440429688, 799.083740234375, 806.3798828125, 811.5094604492188, 823.1376342773438, 823.210693359375, 820.143798828125, 819.1423950195313, 812.4517211914063, 804.3045654296875, 798.1171875, 790.5181884765625, 784.4849243164063, 783.1095581054688, 775.8536376953125, 769.978515625, 762.8373413085938, 756.8532104492188, 755.73291015625, 748.641845703125, 742.6829223632813, 735.5895385742188, 727.8021850585938, 726.8499145507813, 717.7059326171875, 706.8690185546875, 695.4886474609375, 684.93505859375, 672.825439453125, 672.825439453125, 661.1552734375, 652.0131225585938, 641.9901733398438, 632.8477783203125, 632.8477783203125, 624.575927734375, 618.649658203125, 611.9511108398438, 606.0634765625, 602.0186767578125, 601.330078125, 597.8124389648438, 594.4404296875, 591.36083984375, 588.6817016601563, 589.1626586914063, 586.1931762695313, 583.7863159179688, 580.7073974609375, 578.2918090820313, 578.2918090820313, 575.85546875, 573.3779907226563, 570.1797485351563, 567.6294555664063, 564.41064453125, 565.012939453125, 562.3196411132813, 559.0928344726563, 556.3095092773438, 553.1165771484375, 553.4286499023438, 550.2413330078125, 547.255859375, 544.1467895507813, 541.03759765625, 537.7987670898438, 537.7987670898438, 534.40234375, 531.3994140625, 527.8157958984375, 523.97607421875, 523.97607421875, 519.785888671875, 516.84228515625, 512.07861328125, 506.7603454589844, 503.80242919921875, 500.8583068847656, 497.82373046875, 491.2131042480469, 488.1878967285156, 480.78857421875, 475.9230041503906, 472.64385986328125, 463.7033996582031, 460.37396240234375, 450.8660888671875, 450.8660888671875, 441.0076904296875, 430.80841064453125, 427.3959045410156, 416.6930236816406, 413.4482727050781, 405.5556640625, 393.94329833984375, 390.5339050292969, 378.326171875, 375.22735595703125, 365.56610107421875, 362.4454345703125, 349.0636291503906, 335.0268249511719, 332.1307067871094, 317.47796630859375, 317.47796630859375, 302.9766540527344, 302.6163635253906, 290.3106384277344, 280.71124267578125, 280.71124267578125, 280.0486145019531, 292.3185119628906, 296.1266174316406, 300.0736999511719, 300.0736999511719, 304.00323486328125, 317.29180908203125, 321.1558532714844, 334.8881530761719, 338.51446533203125, 327.7672424316406, 341.6598815917969, 344.1697082519531, 358.60369873046875, 360.41119384765625, 346.4795227050781, 361.2001953125, 360.7630310058594, 376.7598876953125, 376.2348937988281, 395.36370849609375, 376.885986328125, 382.1483459472656, 406.2485656738281, 421.8362121582031, 446.7115173339844, 439.5135192871094, 463.6058654785156, 480.00115966796875, 495.723388671875, 518.0023193359375, 510.7441711425781, 532.3480224609375, 545.8588256835938, 557.96142578125, 575.9479370117188, 585.9558715820313, 585.9558715820313, 595.5039672851563, 610.6570434570313, 619.2984619140625, 627.8589477539063, 627.8589477539063, 636.4000854492188, 649.3992309570313, 657.6504516601563, 669.7608032226563, 677.8636474609375, 674.5042724609375, 686.119873046875, 694.5355224609375, 705.3049926757813, 713.4703979492188, 711.7523803710938, 721.5241088867188, 729.2879028320313, 736.6715087890625, 741.124267578125, 743.7950439453125, 742.638427734375, 743.1948852539063, 744.8934326171875, 743.5031127929688, 744.7149658203125, 739.9305419921875, 741.2653198242188, 736.8546752929688, 731.8333740234375, 733.5465087890625, 727.8486328125, 730.3024291992188, 729.3108520507813, 729.60595703125, 732.8439331054688, 734.2206420898438, 734.2206420898438, 736.1026000976563, 739.6649780273438, 741.989013671875, 744.5745239257813, 744.5745239257813, 747.3409423828125, 750.6469116210938, 753.5491333007813, 756.5963745117188, 759.6991577148438, 760.030029296875, 763.0199584960938, 766.54541015625, 769.3558959960938, 773.0015258789063, 774.1431884765625, 776.732666015625, 780.5272827148438, 782.6717529296875, 786.323486328125, 786.323486328125, 789.983642578125, 793.6351318359375, 794.90185546875, 798.291748046875, 799.0386352539063, 801.6438598632813, 802.1244506835938, 805.1954345703125, 808.2694702148438, 807.9766845703125, 811.3248901367188, 810.9724731445313, 814.6963500976563, 818.8724365234375, 819.6547241210938, 824.2274780273438, 824.2274780273438, 828.6337280273438, 829.6812744140625, 833.832763671875, 837.7789306640625, 837.7789306640625, 841.5302734375, 842.3833618164063, 845.8562622070313, 846.634521484375, 849.1583862304688, 852.3031005859375, 852.8795776367188, 855.7819213867188, 856.2655029296875, 858.9391479492188, 861.2162475585938, 861.5014038085938, 863.9680786132813, 864.1533813476563, 866.446533203125, 866.446533203125, 868.6799926757813, 870.5032348632813, 870.4715576171875, 871.7413940429688, 871.665283203125, 872.6078491210938, 872.4818725585938, 872.9744262695313, 873.219482421875, 872.9219970703125, 872.8019409179688, 872.0079345703125, 870.5281982421875, 868.8175048828125, 867.5464477539063, 865.4920043945313, 865.4920043945313, 863.2952270507813, 861.58837890625, 859.2416381835938, 856.884521484375, 856.884521484375]],
        seriesLabels: ["Profile 1"],
        xAxisLabel: "Distance",
        yAxisLabel: "Elevation",
        width: 700,
        height: 500,
        drawPoints: false,
        drawGridlines: true,
        drawLegend: false,
        drawGreyBackground: false,
        parentId: "graph"
      };
      function update(svg) {
        // which of the series labels is longest?
        var maxSeriesLabelLength = 0;
        var a;
        for (a = 0; a < plot.seriesLabels.length; a++) {
          var sl = plot.seriesLabels[a];
          if (sl.length > maxSeriesLabelLength) { maxSeriesLabelLength = sl.length; }
        }
        var plotLeftMargin = 70.0;
        var plotRightMargin = plot.drawLegend ? 65.0 + maxSeriesLabelLength * 7 : 50.0;
        var plotBottomMargin = 70.0;
        var plotTopMargin = 40.0;
        var plotWidth = plot.width - plotLeftMargin - plotRightMargin;
        var plotHeight = plot.height - plotBottomMargin - plotTopMargin;
        var originX = plotLeftMargin;
        var originY = plotTopMargin + plotHeight;
        var tickLen = 8.0;
        var minorTickLen = tickLen * 0.65;

        // If there are no series labels, treat it as one series.
        if (plot.seriesLabels.length === 0) {
					plot.drawLegend = false;
				}

        // colors
        var lineColor = '#47a3ff'; //'#377eb8'; // '#729ece'; // '#1f77b4'; //'#47a3ff'; //'rgb(2,145,205)';
        var highlightColor = '#ff7f00';
        var btnColor = 'rgb(170,170,170)';
        var btnHoverColor = 'rgb(150,150,150)';
        var plotBackgroundColor = 'rgb(255,255,255)';
        if (plot.drawGreyBackground) {
          plotBackgroundColor = '#CCC';
        }
        var chartBackgroundColor = 'white';
        // var gridLineColor = 'rgb(120,120,120)';
        // if (plot.drawGreyBackground) {
          var gridLineColor = '#EEE';
        // }
        var trendlineColor = 'DimGray';
        if (plot.drawGreyBackground) {
          trendlineColor = 'DimGray';
        }
        var showValueClr = "black";
        // if (plot.drawGreyBackground) {
        //   showValueClr = '#FFF';
        // }

        // Gridlines
        // var gridlineDash = '1, 5';
        // if (plot.drawGreyBackground) {
          var gridlineDash = 'none';
        // }

        var tableau20 = [[31, 119, 180], [255, 127, 14],
             [44, 160, 44], [214, 39, 40],
             [148, 103, 189], [140, 86, 75],
             [227, 119, 194], [127, 127, 127],
             [188, 189, 34], [23, 190, 207]];

        var regularOpacity = 1.0;
        var deselectedOpacity = 0.10;


        // create the svg element
        var svgns = "http://www.w3.org/2000/svg";
        if (svg == null) {
          svg = document.createElementNS(svgns, "svg");
        } else {
          while (svg.lastChild) {
              svg.removeChild(svg.lastChild);
          }
        }
        svg.setAttribute('width', `${plot.width}`);
        svg.setAttribute('height', `${plot.height}`);
        var div = document.getElementById(plot.parentId);
        if (div != null) {
          div.appendChild(svg);
        } else {
          // add it to the body of the document
          document.querySelector("body").appendChild(svg);
        }

        // how many series are there?
        var numSeries = plot.dataY.length;

        // if dataX is empty, fill it with the series 1, 2, 3, 4, ...
        if (plot.dataX.length == 0) {
          for (s = 0; s < numSeries; s++) {
            var seriesXData = [];
            for (a = 0; a < plot.dataY[s].length; a++) {
              seriesXData.push(a + 1);
            }
            plot.dataX.push(seriesXData);
          }
        }

        // style
        var style = document.createElement("style");
        let styleString = `
        text {
          font-family:Sans,Arial;
        }
        .axisLabel {
          font-weight: normal;
        }
        .xTickLabel {
          fill: black;
          font-size: 85%;
          font-weight: lighter;
        }
        .yTickLabel {
          fill: black;
          font-size: 85%;
          font-weight: lighter;
        }
        .gridLine {
          stroke: ${gridLineColor};
          stroke-dasharray: ${gridlineDash};
          stroke-width: 0.8;
        }
        .tick {
          stroke: black;
          stroke-width: 0.5;
        }
        #plotBorder {
          fill: none;
          stroke: black;
          stroke-width: 0.5;
        }
        #showValue {
          font-size: 85%;
          fill: ${showValueClr};
        }
        #context-menu {
          position:absolute;
          display:none;
        }
        #context-menu ul {
          list-style:none;
          margin:0;
          padding:0;
          background: #EFEFEF;
          opacity: 0.90;
        }
        #context-menu {
          border:solid 1px #CCC;
        }
        #context-menu li {
          font-family:Sans,Arial;
          font-size: 75%;
          text-align: left;
          color:#000;
          display:block;
          padding:5px 15px;
          border-bottom:solid 1px #CCC;
        }
        #context-menu li:last-child {
          border:none;
        }
        #context-menu li:hover {
          background:#007AFF;
          color:#FFF;
        }
        `;

        var dataPointHoverWidth = 4.0;
        if (!plot.drawPoints) {
          dataPointHoverWidth = 6.0;
        }
        var s;
        for (s = 0; s < numSeries; s++) {
          var clrNum = s % tableau20.length;
          if (plot.seriesLabels.length === 0) {
            // If there are no series labels, treat it as one series.
						clrNum = 0;
					}
          let clr = `rgb(${tableau20[clrNum][0]},${tableau20[clrNum][1]},${tableau20[clrNum][2]})`;

          styleString += `
          .seriesLine${s} {
            fill: none;
            stroke-width:1;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLine${s}:hover {
            fill: none;
            stroke-width:2;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLineThick${s} {
            fill: none;
            stroke-width:2;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .seriesLineThick${s}:hover {
            fill: none;
            stroke-width:3;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .dataPoint${s} {
            fill: ${clr};
            stroke-width:0;
            stroke: ${clr};
            opacity: ${regularOpacity};
          }
          .dataPoint${s}:hover {
            fill: red;
            stroke-width:${dataPointHoverWidth};
            stroke: red;
            opacity:1.0;
          }
          `;
        }
        style.innerHTML = styleString;
        svg.appendChild(style);
        svg.id = "plotSvg";

        // background
        var background = document.createElementNS(svgns, "rect");
        background.setAttribute('width', plot.width);
        background.setAttribute('height', plot.height);
        background.style.fill = chartBackgroundColor;
        svg.appendChild(background);

        // translate the origin point
        var g = document.createElementNS(svgns, "g");
        g.setAttribute('id', 'transform');
        g.setAttribute('transform', `translate(${originX},${originY})`);
        svg.appendChild(g);

        // plot background
        var plotBackground = document.createElementNS(svgns, "rect");
        plotBackground.setAttribute('id', 'plotBackground');
        plotBackground.setAttribute('x', 0.0);
        plotBackground.setAttribute('y', -plotHeight);
        plotBackground.setAttribute('width', plotWidth);
        plotBackground.setAttribute('height', plotHeight);
        plotBackground.style.fill = plotBackgroundColor;
        plotBackground.style.stroke = "none";
        g.appendChild(plotBackground);

        // what are the min/max values?
        var xMin = Infinity;
        var xMax = -Infinity;
        var yMin = Infinity;
        var yMax = -Infinity;
        var val = 0;
        var maxNumPoints = 0;
        var totalNumPoints = 0;
        for (s = 0; s < numSeries; s++) {
          var numPoints = Math.min(plot.dataX[s].length, plot.dataY[s].length);
          if (numPoints > maxNumPoints) { maxNumPoints = maxNumPoints; }
          totalNumPoints += numPoints;
          if (numPoints < 2) {
            alert("Too few points for line graph");
            return;
          }
          if (plot.dataX[s].length != plot.dataY[s].length) {
            alert("The x and y data arrays are unequal in length.");
          }
          for (a = 0; a < numPoints; a++) {
              val = plot.dataX[s][a];
              if (val < xMin) { xMin = val; }
              if (val > xMax) { xMax = val; }
              val = plot.dataY[s][a];
              if (val < yMin) { yMin = val; }
              if (val > yMax) { yMax = val; }
          }
        }

        // We don't want a data point to fall on the plot border
        xMin -= 0.0000001;
        yMin -= 0.0000001;
        xMax += 0.0000001;
        yMax += 0.0000001;

        // X axis
        var xAxisTickSpacing = 0.0000001;
        var xAxisNumTicks = 1000;
        var xRange = xMax - xMin;
        a = 0;
        while (xAxisNumTicks > 20) {
          if (a % 2 == 0) {
            xAxisTickSpacing *= 5.0;
          } else {
            xAxisTickSpacing *= 2.0;
          }
          a++;
          xAxisNumTicks = Math.ceil(xRange / xAxisTickSpacing);
        }
        xMin = Math.floor(xMin / xAxisTickSpacing) * xAxisTickSpacing;
        xAxisNumTicks = Math.ceil((xMax - xMin) / xAxisTickSpacing);
        xRange = xAxisTickSpacing * xAxisNumTicks;
        var xSigDigits = Math.max(decimalPlaces(xMin+xAxisTickSpacing), decimalPlaces(xMin+2*xAxisTickSpacing)); //Math.round(0.1 / xAxisTickSpacing);
        if (xSigDigits === 0 && (xMax - xMin) < xAxisNumTicks) { xSigDigits += 1; }
        var dominantTick = 0;
        if (decimalPlaces(xMin) > decimalPlaces(xMin+xAxisTickSpacing)) {
          dominantTick = 1;
        }
        for (a = 0; a <= xAxisNumTicks; a++) {
            // grid line
            if (plot.drawGridlines) {
              if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
                if (a > 0 && a < xAxisNumTicks) {
                  var line = document.createElementNS(svgns, "line");
                  line.setAttribute('x1', (a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y1', 0);
                  line.setAttribute('x2', (a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y2', -plotHeight);
                  line.setAttribute('class', 'gridLine');
                  g.appendChild(line);
                }
              }
            }
            // tick mark
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', (a * xAxisTickSpacing) / xRange * plotWidth);
            line.setAttribute('y1', 0);
            line.setAttribute('x2', (a * xAxisTickSpacing) / xRange * plotWidth);
            if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
              line.setAttribute('y2', tickLen);
            } else {
              line.setAttribute('y2', minorTickLen);
            }
            line.setAttribute('class', 'tick');
            g.appendChild(line);

            // labels
            if (xAxisNumTicks <= 10 || a % 2 == dominantTick) {
                // tick label
                var label = document.createElementNS(svgns, "text");
                label.setAttribute('x', (a * xAxisTickSpacing) / xRange * plotWidth);
                label.setAttribute('y', tickLen + 5);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('dominant-baseline', 'hanging');
                label.setAttribute('class', 'xTickLabel');
                label.innerHTML = `${(xMin + a * xAxisTickSpacing).toFixed(xSigDigits)}`;
                g.appendChild(label);
            }
        }

        // Y axis
        var yAxisTickSpacing = 0.0000001;
        var yAxisNumTicks = 1000;
        var yRange = yMax - yMin;
        a = 0;
        while (yAxisNumTicks > 20) {
          if (a % 2 == 0) {
            yAxisTickSpacing *= 5.0;
          } else {
            yAxisTickSpacing *= 2.0;
          }
          a++;
          yAxisNumTicks = Math.ceil(yRange / yAxisTickSpacing);
        }
        yMin = Math.floor(yMin / yAxisTickSpacing) * yAxisTickSpacing;
        yAxisNumTicks = Math.ceil((yMax - yMin) / yAxisTickSpacing);
        yRange = yAxisTickSpacing * yAxisNumTicks;
        var ySigDigits = Math.max(decimalPlaces(yMin+yAxisTickSpacing), decimalPlaces(yMin+2*yAxisTickSpacing));
        if (ySigDigits === 0 && (yMax - yMin) < yAxisNumTicks) { ySigDigits += 1; }
        dominantTick = 0;
        if (decimalPlaces(yMin) > decimalPlaces(yMin+yAxisTickSpacing)) {
          dominantTick = 1;
        }
        for (a = 0; a <= yAxisNumTicks; a++) {
            // grid line
            if (plot.drawGridlines) {
              if (yAxisNumTicks <= 10 || a % 2 == dominantTick) {
                if (a > 0 && a < yAxisNumTicks) {
                  var line = document.createElementNS(svgns, "line");
                  line.setAttribute('x1', 0); //(a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y1', -(a * yAxisTickSpacing) / yRange * plotHeight);
                  line.setAttribute('x2', plotWidth); //(a * xAxisTickSpacing) / xRange * plotWidth);
                  line.setAttribute('y2', -(a * yAxisTickSpacing) / yRange * plotHeight); //-plotHeight);
                  line.setAttribute('class', 'gridLine');
                  g.appendChild(line);
                }
              }
            }
            // tick mark
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', 0);
            line.setAttribute('y1', -(a * yAxisTickSpacing) / yRange * plotHeight);
            if (yAxisNumTicks <= 6 || a % 2 == dominantTick) {
              line.setAttribute('x2', -tickLen);
            } else {
              line.setAttribute('x2', -minorTickLen);
            }
            line.setAttribute('y2', -(a * yAxisTickSpacing) / yRange * plotHeight);
            line.setAttribute('class', 'tick');
            g.appendChild(line);

            // labels
            if (yAxisNumTicks <= 6 || a % 2 == dominantTick) {
                // s += `<text transform="translate(${-tickLen - 5}, ${-(a * yAxisTickSpacing) / maxVal * plotHeight}), rotate(270)" x="0" y="0" text-anchor="middle" dominant-baseline="no-change" class="yTickLabel">${(a * yAxisTickSpacing).toFixed(ySigDigits)}</text>`;
                var label = document.createElementNS(svgns, "text");
                label.setAttribute('transform', `translate(${-tickLen - 5},${-(a * yAxisTickSpacing) / yRange * plotHeight}), rotate(270)`);
                label.setAttribute('x', 0);
                label.setAttribute('y', 0);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('dominant-baseline', 'no-change');
                label.setAttribute('class', 'yTickLabel');
                label.innerHTML = `${(yMin + a * yAxisTickSpacing).toFixed(ySigDigits)}`;
                g.appendChild(label);
            }
        }

        // axis labels
        var xLabel = document.createElementNS(svgns, "text");
        xLabel.setAttribute('x', plotWidth / 2.0);
        xLabel.setAttribute('y', tickLen + 25.0);
        xLabel.setAttribute('text-anchor', 'middle');
        xLabel.setAttribute('dominant-baseline', 'hanging');
        xLabel.setAttribute('class', 'axisLabel');
        xLabel.innerHTML = plot.xAxisLabel;
        g.appendChild(xLabel);

        var yLabel = document.createElementNS(svgns, "text");
        yLabel.setAttribute('transform', `translate(${-tickLen - 28.0},${-plotHeight / 2.0}), rotate(270)`);
        yLabel.setAttribute('x', 0);
        yLabel.setAttribute('y', 0);
        yLabel.setAttribute('text-anchor', 'middle');
        yLabel.setAttribute('class', 'axisLabel');
        yLabel.innerHTML = plot.yAxisLabel;
        g.appendChild(yLabel);

        // text to show values when hover over
        var showValue = document.createElementNS(svgns, "text");
        showValue.setAttribute('x', 10);
        showValue.setAttribute('text-anchor', 'start');

        // draw the line(s)
        var g2 = document.createElementNS(svgns, "g");
        g2.setAttribute('id', 'lines');
        g.appendChild(g2);

        var radius = 3.0;
        if (totalNumPoints > 15) { radius = 2.5; }
        if (!plot.drawPoints) {
          radius = 1.0;
        }
        for (let s = 0; s < numSeries; s++) {
          var numPoints = Math.min(plot.dataX[s].length, plot.dataY[s].length);
          let seriesLine = document.createElementNS(svgns, "polyline");
          var pointsString = `${(plot.dataX[s][0] - xMin) / xRange * plotWidth},${-(plot.dataY[s][0] - yMin) / yRange * plotHeight}`;
          for (let a = 1; a < numPoints; a++) {
            pointsString += ` ${(plot.dataX[s][a] - xMin) / xRange * plotWidth},${-(plot.dataY[s][a] - yMin) / yRange * plotHeight}`
          }
          seriesLine.setAttribute('points', pointsString);
          var seriesLabel = "seriesLine";
          if (!plot.drawPoints) { seriesLabel = "seriesLineThick"; }
          seriesLine.setAttribute('class', `${seriesLabel}${s}`);
          seriesLine.addEventListener('mouseover', function() {
            var s2;
            for (s2 = 0; s2 < numSeries; s2++) {
              if (s2 != s) {
                var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                var i;
                for (i = 0; i < x.length; i++) {
                  x[i].style.opacity = deselectedOpacity;
                }
                x = document.getElementsByClassName(`dataPoint${s2}`);
                for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = deselectedOpacity;
                }
              }
            }
          }, false);
          seriesLine.addEventListener('mouseout', function() {
            var s2;
            for (s2 = 0; s2 < numSeries; s2++) {
              if (s2 != s) {
                var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                var i;
                for (i = 0; i < x.length; i++) {
                  x[i].style.opacity = regularOpacity;
                }
                x = document.getElementsByClassName(`dataPoint${s2}`);
                for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = regularOpacity;
                }
              }
            }
          }, false);
          g2.appendChild(seriesLine);

          // draw the data points
          for (let a = 0; a < numPoints; a++) {
            let c = document.createElementNS(svgns, "circle");
            c.setAttribute('cx', `${(plot.dataX[s][a] - xMin) / xRange * plotWidth}`);
            c.setAttribute('cy', `${-(plot.dataY[s][a] - yMin) / yRange * plotHeight}`);
            c.setAttribute('r', radius);
            c.setAttribute('class', `dataPoint${s}`);
            c.addEventListener('mouseover', function() {
              var s2;
              for (s2 = 0; s2 < numSeries; s2++) {
                if (s2 != s) {
                  var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                  var i;
                  for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = deselectedOpacity;
                  }
                  x = document.getElementsByClassName(`dataPoint${s2}`);
                  for (i = 0; i < x.length; i++) {
                      x[i].style.opacity = deselectedOpacity;
                  }
                }
              }
              showValue.innerHTML = `x: ${(plot.dataX[s][a]).toFixed(xSigDigits+2)}, y: ${(plot.dataY[s][a]).toFixed(ySigDigits+2)}`;
            }, false);
            c.addEventListener('mouseout', function() {
              var s2;
              for (s2 = 0; s2 < numSeries; s2++) {
                if (s2 != s) {
                  var x = document.getElementsByClassName(`${seriesLabel}${s2}`);
                  var i;
                  for (i = 0; i < x.length; i++) {
                    x[i].style.opacity = regularOpacity;
                  }
                  x = document.getElementsByClassName(`dataPoint${s2}`);
                  for (i = 0; i < x.length; i++) {
                      x[i].style.opacity = regularOpacity;
                  }
                }
              }
              showValue.innerHTML = "";
            }, false);
            g2.appendChild(c);
          }
        }

        // Show value label
        showValue.setAttribute('id', 'showValue');
        showValue.setAttribute('y', -plotHeight + 20);
        g.appendChild(showValue);

        // plot border
        var plotBorder = document.createElementNS(svgns, "rect");
        plotBorder.setAttribute('x', 0);
        plotBorder.setAttribute('y', -plotHeight);
        plotBorder.setAttribute('width', plotWidth);
        plotBorder.setAttribute('height', plotHeight);
        plotBorder.id = "plotBorder";
        g.appendChild(plotBorder);

        // add a legend
        if (plot.seriesLabels.length > 0 && plot.drawLegend) {
          var legend = document.createElementNS(svgns, "g");
          legend.setAttribute('id', 'legend');
          g.appendChild(legend);
          for (let s = 0; s < numSeries; s++) {
            var y = -(plotHeight - 35 - 23 * (s+1));
            var line = document.createElementNS(svgns, "line");
            line.setAttribute('x1', plotWidth + 10);
            line.setAttribute('y1', y);
            line.setAttribute('x2', plotWidth + 40);
            line.setAttribute('y2', y);
            if (plot.drawPoints) {
              line.setAttribute('class', `seriesLine${s}`);
            } else {
              line.setAttribute('class', `seriesLineThick${s}`);
            }
            legend.appendChild(line);

            if (plot.drawPoints) {
              var c = document.createElementNS(svgns, "circle");
              c.setAttribute('cx', plotWidth+25);
              c.setAttribute('cy', y);
              c.setAttribute('r', radius);
              c.setAttribute('class', `dataPoint${s}`);
              legend.appendChild(c);
            }

            var legendLabel = document.createElementNS(svgns, "text");
            legendLabel.setAttribute('x', plotWidth + 48);
            legendLabel.setAttribute('y', y);
            legendLabel.setAttribute('text-anchor', 'left');
            // legendLabel.setAttribute('text-anchor', 'middle');
            legendLabel.setAttribute('dominant-baseline', 'middle');
            legendLabel.setAttribute('class', 'xTickLabel');
            legendLabel.innerHTML = plot.seriesLabels[s];
            legend.appendChild(legendLabel);
          }
        }

        // Add an invisible context menu to the parentId.
        var cm = document.createElement('div');
        cm.id = 'context-menu';
        cm.className = 'context-menu';
        var list = document.createElement('ul');

        var copyBtn = document.createElement("li");
        copyBtn.innerHTML = "Copy";
        copyBtn.addEventListener('click', function() {
          var content = `<svg xmlns='${svgns}' width='${plot.width}' height='${plot.height}'>\n${svg.innerHTML}\n</svg>`;
          // Create an auxiliary hidden input
          var aux = document.createElement("input");
          // Get the text from the element passed into the input
          aux.setAttribute("value", content);
          // Append the aux input to the body
          document.body.appendChild(aux);
          // Highlight the content
          aux.select();
          // Execute the copy command
          document.execCommand("copy");
          // Remove the input from the body
          document.body.removeChild(aux);
          // Give a notification
          alert("The plot's SVG content has been copied to the clipboard.");
        }, false);
        list.appendChild(copyBtn);

        var gridlineBtn = document.createElement("li");
        var verb = plot.drawGridlines ? "Hide " : "Show ";
        gridlineBtn.innerHTML = verb + "Gridlines";
        gridlineBtn.addEventListener('click', function() {
          plot.drawGridlines = !plot.drawGridlines;
          // update the context menu label
          var verb = plot.drawGridlines ? "Hide " : "Show ";
          gridlineBtn.innerHTML = verb + "Gridlines";
          update(svg);
        }, false);
        list.appendChild(gridlineBtn);

        if (plot.seriesLabels.length > 0) {
          var legendBtn = document.createElement("li");
          var verb = plot.drawLegend ? "Hide " : "Show ";
          legendBtn.innerHTML = verb + "Legend";
          legendBtn.addEventListener('click', function() {
            plot.drawLegend = !plot.drawLegend;
            // update the context menu label
            var verb = plot.drawLegend ? "Hide " : "Show ";
            legendBtn.innerHTML = verb + "Legend";
            update(svg);
          }, false);
          list.appendChild(legendBtn);
        }

        var pointsBtn = document.createElement("li");
        var verb = plot.drawPoints ? "Hide " : "Show ";
        pointsBtn.innerHTML = verb + "Points";
        pointsBtn.addEventListener('click', function() {
          plot.drawPoints = !plot.drawPoints;
          // update the context menu label
          var verb = plot.drawPoints ? "Hide " : "Show ";
          pointsBtn.innerHTML = verb + "Points";
          update(svg);
        }, false);
        list.appendChild(pointsBtn);

        var backgroundColorBtn = document.createElement("li");
        var verb = plot.drawGreyBackground ? "Light " : "Dark ";
        backgroundColorBtn.innerHTML = verb + "Background";
        backgroundColorBtn.addEventListener('click', function() {
          plot.drawGreyBackground = !plot.drawGreyBackground;
          // update the context menu label
          var verb = plot.drawGreyBackground ? "Light " : "Dark ";
          backgroundColorBtn.innerHTML = verb + "Background";
          update(svg);
        }, false);
        list.appendChild(backgroundColorBtn);

        cm.appendChild(list);
        document.getElementById(plot.parentId).appendChild(cm);

        var menu = document.getElementById('context-menu');
        document.onclick = function () {
            menu.style.display = 'none';
        };

        document.getElementById('plotSvg').oncontextmenu = function (evt) {
            evt = (evt) ? evt : ((event) ? event : null);
            var posnX = (evt.pageX) ? evt.pageX : ((evt.offsetX) ? evt.offsetX + 10 : null);
            var posnY = (evt.pageY) ? evt.pageY : ((evt.offsetY) ? evt.offsetY + 10 : null);
            menu.style.left = posnX + 'px';
            menu.style.top = posnY + 'px';
            menu.style.display = 'block';
            if (typeof evt.preventDefault != "undefined") {
                evt.preventDefault();
            } else {
                evt.returnValue = false;
            }
        };
      }

      function decimalPlaces(num) {
        var match = (''+num).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
        if (!match) { return 0; }
        return Math.max(
             0,
             // Number of digits right of decimal point.
             (match[1] ? match[1].length : 0)
             // Adjust for scientific notation.
             - (match[2] ? +match[2] : 0));
      }

      update(null);
    </script></div></body>